Script started on Sun 22 Feb 2015 11:57:52 PM PST
]0;marisol@marisol-Dell-System-Inspiron-N4110: ~/rshell/testsmarisol@marisol-Dell-System-Inspiron-N4110:~/rshell/tests$ cd
]0;marisol@marisol-Dell-System-Inspiron-N4110: ~marisol@marisol-Dell-System-Inspiron-N4110:~$ cd rshell
]0;marisol@marisol-Dell-System-Inspiron-N4110: ~/rshellmarisol@marisol-Dell-System-Inspiron-N4110:~/rshell$ ls
LICENSE  Makefile  README.md  [0m[01;34msrc[0m  [01;34mtests[0m
]0;marisol@marisol-Dell-System-Inspiron-N4110: ~/rshellmarisol@marisol-Dell-System-Inspiron-N4110:~/rshell$ make
mkdir bin
g++ -Wall -Werror -ansi -pedantic -o   bin/rshell src/rshell.cpp
g++ -Wall -Werror -ansi -pedantic -o bin/ls src/ls.cpp
]0;marisol@marisol-Dell-System-Inspiron-N4110: ~/rshellmarisol@marisol-Dell-System-Inspiron-N4110:~/rshell$ ./cin[K[K[Kbin/rshell
$ cat<Makefile
CC = g++
FLAGS = -Wall -Werror -ansi -pedantic

all:|bin 
	$(CC) $(FLAGS) -o   bin/rshell src/rshell.cpp
	$(CC) $(FLAGS) -o bin/ls src/ls.cpp


rshell: |bin
	$(CC) -o bin/rshell src/rshell.cpp
ls: |bin
	$(CC) -o bin/ls src/ls.cpp

bin: 
	mkdir bin

clean: 
	rm -rf bin


$ ls > output.txt
$ ls
bin  LICENSE  Makefile	output.txt  README.md  src  tests
$ cat < output.txt
bin
LICENSE
Makefile
output.txt
README.md
src
tests
$ ls >> output.txt
$ cat<<output.x txt
error in open: No such file or directory
$ cat < output.txt
bin
LICENSE
Makefile
output.txt
README.md
src
tests
bin
LICENSE
Makefile
output.txt
README.md
src
tests
$ ls< >output.txt
$ cat<output.txt
bin
LICENSE
Makefile
output.txt
README.md
src
tests
$ ls>>output.txt
$ cat<output.txt
bin
LICENSE
Makefile
output.txt
README.md
src
tests
bin
LICENSE
Makefile
output.txt
README.md
src
tests
$ cat Makefile |   
CC = g++
FLAGS = -Wall -Werror -ansi -pedantic

all:|bin 
	$(CC) $(FLAGS) -o   bin/rshell src/rshell.cpp
	$(CC) $(FLAGS) -o bin/ls src/ls.cpp


rshell: |bin
	$(CC) -o bin/rshell src/rshell.cpp
ls: |bin
	$(CC) -o bin/ls src/ls.cpp

bin: 
	mkdir bin

clean: 
	rm -rf bin


$ cat < Mafe  kefile | cat < Makefile
CC = g++
FLAGS = -Wall -Werror -ansi -pedantic

all:|bin 
	$(CC) $(FLAGS) -o   bin/rshell src/rshell.cpp
	$(CC) $(FLAGS) -o bin/ls src/ls.cpp


rshell: |bin
	$(CC) -o bin/rshell src/rshell.cpp
ls: |bin
	$(CC) -o bin/ls src/ls.cpp

bin: 
	mkdir bin

clean: 
	rm -rf bin


CC = g++
FLAGS = -Wall -Werror -ansi -pedantic

all:|bin 
	$(CC) $(FLAGS) -o   bin/rshell src/rshell.cpp
	$(CC) $(FLAGS) -o bin/ls src/ls.cpp


rshell: |bin
	$(CC) -o bin/rshell src/rshell.cpp
ls: |bin
	$(CC) -o bin/ls src/ls.cpp

bin: 
	mkdir bin

clean: 
	rm -rf bin


$ cat   < output, .       Makefile | tr a-z A-Z Z > output.txt
$ cat < output.txt
CC = g++
FLAGS = -Wall -Werror -ansi -pedantic

all:|bin 
	$(CC) $(FLAGS) -o   bin/rshell src/rshell.cpp
	$(CC) $(FLAGS) -o bin/ls src/ls.cpp


rshell: |bin
	$(CC) -o bin/rshell src/rshell.cpp
ls: |bin
	$(CC) -o bin/ls src/ls.cpp

bin: 
	mkdir bin

clean: 
	rm -rf bin


$ cat < Makefile|^[[D      | tr a-z A-A X Z >output.txt
tr: extra operand â€˜>output.txtâ€™
Try 'tr --help' for more information.
CC = g++
FLAGS = -Wall -Werror -ansi -pedantic

all:|bin 
	$(CC) $(FLAGS) -o   bin/rshell src/rshell.cpp
	$(CC) $(FLAGS) -o bin/ls src/ls.cpp


rshell: |bin
	$(CC) -o bin/rshell src/rshell.cpp
ls: |bin
	$(CC) -o bin/ls src/ls.cpp

bin: 
	mkdir bin

clean: 
	rm -rf bin


$ cat < output.txt
CC = g++
FLAGS = -Wall -Werror -ansi -pedantic

all:|bin 
	$(CC) $(FLAGS) -o   bin/rshell src/rshell.cpp
	$(CC) $(FLAGS) -o bin/ls src/ls.cpp


rshell: |bin
	$(CC) -o bin/rshell src/rshell.cpp
ls: |bin
	$(CC) -o bin/ls src/ls.cpp

bin: 
	mkdir bin

clean: 
	rm -rf bin


$ cat < output      Makefile.txt |       | tr a-z A-Z >  > output.txt
$ cat<ouput.txt
error in open: No such file or directory
$ cat  <  output.txt
CC = g++
FLAGS = -Wall -Werror -ansi -pedantic

all:|bin 
	$(CC) $(FLAGS) -o   bin/rshell src/rshell.cpp
	$(CC) $(FLAGS) -o bin/ls src/ls.cpp


rshell: |bin
	$(CC) -o bin/rshell src/rshell.cpp
ls: |bin
	$(CC) -o bin/ls src/ls.cpp

bin: 
	mkdir bin

clean: 
	rm -rf bin


CC = G++
FLAGS = -WALL -WERROR -ANSI -PEDANTIC

ALL:|BIN 
	$(CC) $(FLAGS) -O   BIN/RSHELL SRC/RSHELL.CPP
	$(CC) $(FLAGS) -O BIN/LS SRC/LS.CPP


RSHELL: |BIN
	$(CC) -O BIN/RSHELL SRC/RSHELL.CPP
LS: |BIN
	$(CC) -O BIN/LS SRC/LS.CPP

BIN: 
	MKDIR BIN

CLEAN: 
	RM -RF BIN


CC = g++
FLAGS = -Wall -Werror -ansi -pedantic

all:|bin 
	$(CC) $(FLAGS) -o   bin/rshell src/rshell.cpp
	$(CC) $(FLAGS) -o bin/ls src/ls.cpp


rshell: |bin
	$(CC) -o bin/rshell src/rshell.cpp
ls: |bin
	$(CC) -o bin/ls src/ls.cpp

bin: 
	mkdir bin

clean: 
	rm -rf bin


$ ls > > output.txt
$ cat < l output.txt
bin
LICENSE
Makefile
output.txt
README.md
src
tests
$ exit
]0;marisol@marisol-Dell-System-Inspiron-N4110: ~/rshellmarisol@marisol-Dell-System-Inspiron-N4110:~/rshell$ ls
[0m[01;34mbin[0m  LICENSE  Makefile  output.txt  README.md  [01;34msrc[0m  [01;34mtests[0m
]0;marisol@marisol-Dell-System-Inspiron-N4110: ~/rshellmarisol@marisol-Dell-System-Inspiron-N4110:~/rshell$ cd sr[K[Ktests
]0;marisol@marisol-Dell-System-Inspiron-N4110: ~/rshell/testsmarisol@marisol-Dell-System-Inspiron-N4110:~/rshell/tests$ ls
exec  ls.script  piping.script
]0;marisol@marisol-Dell-System-Inspiron-N4110: ~/rshell/testsmarisol@marisol-Dell-System-Inspiron-N4110:~/rshell/tests$ cd -
/home/marisol/rshell
]0;marisol@marisol-Dell-System-Inspiron-N4110: ~/rshellmarisol@marisol-Dell-System-Inspiron-N4110:~/rshell$ ls
[0m[01;34mbin[0m  LICENSE  Makefile  output.txt  README.md  [01;34msrc[0m  [01;34mtests[0m
]0;marisol@marisol-Dell-System-Inspiron-N4110: ~/rshellmarisol@marisol-Dell-System-Inspiron-N4110:~/rshell$ make clean
rm -rf bin
]0;marisol@marisol-Dell-System-Inspiron-N4110: ~/rshellmarisol@marisol-Dell-System-Inspiron-N4110:~/rshell$ ls
LICENSE  Makefile  output.txt  README.md  [0m[01;34msrc[0m  [01;34mtests[0m
]0;marisol@marisol-Dell-System-Inspiron-N4110: ~/rshellmarisol@marisol-Dell-System-Inspiron-N4110:~/rshell$ cd[K[Kgit add --all
]0;marisol@marisol-Dell-System-Inspiron-N4110: ~/rshellmarisol@marisol-Dell-System-Inspiron-N4110:~/rshell$ git commit -m ""a"l"m"o"s"t"
[master 52d3846] almost
 2 files changed, 226 insertions(+)
 create mode 100644 output.txt
 create mode 100644 tests/piping.script
]0;marisol@marisol-Dell-System-Inspiron-N4110: ~/rshellmarisol@marisol-Dell-System-Inspiron-N4110:~/rshell$ git commit -m "almost"[9Padd --allls[Kmake cleanls[Kcd -[2Plscd testsls[K./bin/rshell[8Pmake[2Plscd rshell[Kssh -XCY monti004@hammer.cs.ucr.eduls[Kg++ rshell.cpp -o rshellssh -XCY monti004@hammer.cs.ucr.eduexit[K./rshellls[K./rshellg++ rshell.cpp -o rshell[10Pvim rshell.cpp[6P./rshellg++ rshell.cpp -o rshell[10Pvim rshell.cpp[6P./rshellg++ rshell.cpp -o rshell[10Pvim rshell.cpp[6P./rshellg++ rshell.cpp -o rshell[10Pvim rshell.cpp[6P./rshellg++ rshell.cpp -o rshell[10Pvim rshell.cpp[6P./rshellg++ rshell.cpp -o rshell[10Pvim rshell.cpp[9Pclearg++ rshell.cpp -o rshell[10Pvim rshell.cpp[6P./rshellg++ rshell.cpp -o rshell[10Pvim rshell.cpp[6P./rshellg++ rshell.cpp -o rshell[10Pvim rshell.cpp[6P./rshell[3Pclearg++ rshell.cpp -o rshell[10Pvim rshell.cpp[6P./rshellg++ rshell.cpp -o rshellclear[K[1Pmake[2Plscd src[4Plsgit push https://github.com/monti004/rshell
warning: push.default is unset; its implicit value is changing in
Git 2.0 from 'matching' to 'simple'. To squelch this message
and maintain the current behavior after the default changes, use:

  git config --global push.default matching

To squelch this message and adopt the new behavior now, use:

  git config --global push.default simple

When push.default is set to 'matching', git will push local branches
to the remote branches that already exist with the same name.

In Git 2.0, Git will default to the more conservative 'simple'
behavior, which only pushes the current branch to the corresponding
remote branch that 'git pull' uses to update the current branch.

See 'git help config' and search for 'push.default' for further information.
(the 'simple' mode was introduced in Git 1.7.11. Use the similar mode
'current' instead of 'simple' if you sometimes use older versions of Git)

Username for 'https://github.com': monti004
Password for 'https://monti004@github.com': 
Counting objects: 9, done.
Delta compression using up to 4 threads.
Compressing objects:  20% (1/5)   Compressing objects:  40% (2/5)   Compressing objects:  60% (3/5)   Compressing objects:  80% (4/5)   Compressing objects: 100% (5/5)   Compressing objects: 100% (5/5), done.
Writing objects:  20% (1/5)   Writing objects:  40% (2/5)   Writing objects:  60% (3/5)   Writing objects:  80% (4/5)   Writing objects: 100% (5/5)   Writing objects: 100% (5/5), 1.11 KiB | 0 bytes/s, done.
Total 5 (delta 1), reused 0 (delta 0)
To https://github.com/monti004/rshell
   8e629f0..52d3846  master -> master
]0;marisol@marisol-Dell-System-Inspiron-N4110: ~/rshellmarisol@marisol-Dell-System-Inspiron-N4110:~/rshell$ git[K[K[Krm output.txt
]0;marisol@marisol-Dell-System-Inspiron-N4110: ~/rshellmarisol@marisol-Dell-System-Inspiron-N4110:~/rshell$ ls
LICENSE  Makefile  README.md  [0m[01;34msrc[0m  [01;34mtests[0m
]0;marisol@marisol-Dell-System-Inspiron-N4110: ~/rshellmarisol@marisol-Dell-System-Inspiron-N4110:~/rshell$ git add --all
]0;marisol@marisol-Dell-System-Inspiron-N4110: ~/rshellmarisol@marisol-Dell-System-Inspiron-N4110:~/rshell$ got commit -m ""r"m"
No command 'got' found, did you mean:
 Command 'hot' from package 'hopenpgp-tools' (universe)
 Command 'gmt' from package 'libgenome-perl' (universe)
 Command 'dot' from package 'graphviz' (main)
 Command 'gom' from package 'gom' (universe)
 Command 'jot' from package 'athena-jot' (universe)
 Command 'git' from package 'git' (main)
 Command 'go2' from package 'go2' (universe)
 Command 'goo' from package 'goo' (universe)
 Command 'gt' from package 'genometools' (universe)
 Command 'gout' from package 'scotch' (universe)
 Command 'god' from package 'ruby-god' (universe)
 Command 'gpt' from package 'gpt' (universe)
 Command 'go' from package 'gccgo-go' (universe)
 Command 'gst' from package 'gnu-smalltalk' (universe)
got: command not found
]0;marisol@marisol-Dell-System-Inspiron-N4110: ~/rshellmarisol@marisol-Dell-System-Inspiron-N4110:~/rshell$ got commit -m "rm"[1P[1@i
[master 33ef833] rm
 2 files changed, 89 insertions(+), 8 deletions(-)
 delete mode 100644 output.txt
]0;marisol@marisol-Dell-System-Inspiron-N4110: ~/rshellmarisol@marisol-Dell-System-Inspiron-N4110:~/rshell$ git commit -m "rm"o[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[5Pit add --allls[Krm output.txtgit push https://github.com/monti004/rshell[21Pcommit -m "almost"push https://github.com/monti004/rshell
warning: push.default is unset; its implicit value is changing in
Git 2.0 from 'matching' to 'simple'. To squelch this message
and maintain the current behavior after the default changes, use:

  git config --global push.default matching

To squelch this message and adopt the new behavior now, use:

  git config --global push.default simple

When push.default is set to 'matching', git will push local branches
to the remote branches that already exist with the same name.

In Git 2.0, Git will default to the more conservative 'simple'
behavior, which only pushes the current branch to the corresponding
remote branch that 'git pull' uses to update the current branch.

See 'git help config' and search for 'push.default' for further information.
(the 'simple' mode was introduced in Git 1.7.11. Use the similar mode
'current' instead of 'simple' if you sometimes use older versions of Git)

Username for 'https://github.com': monti004
Password for 'https://monti004@github.com': 
Counting objects: 11, done.
Delta compression using up to 4 threads.
Compressing objects:  25% (1/4)   Compressing objects:  50% (2/4)   Compressing objects:  75% (3/4)   Compressing objects: 100% (4/4)   Compressing objects: 100% (4/4), done.
Writing objects:  25% (1/4)   Writing objects:  50% (2/4)   Writing objects:  75% (3/4)   Writing objects: 100% (4/4)   Writing objects: 100% (4/4), 1.43 KiB | 0 bytes/s, done.
Total 4 (delta 2), reused 0 (delta 0)
To https://github.com/monti004/rshell
   52d3846..33ef833  master -> master
]0;marisol@marisol-Dell-System-Inspiron-N4110: ~/rshellmarisol@marisol-Dell-System-Inspiron-N4110:~/rshell$ git ta[K[K[K[K[K[Kgit tag -d hw[K[K[K[K[K[K[K[K[K[K[K[K[K[K]0;marisol@marisol-Dell-System-Inspiron-N4110: ~/rshellmarisol@marisol-Dell-System-Inspiron-N4110:~/rshell$ cd
]0;marisol@marisol-Dell-System-Inspiron-N4110: ~marisol@marisol-Dell-System-Inspiron-N4110:~$ [K]0;marisol@marisol-Dell-System-Inspiron-N4110: ~marisol@marisol-Dell-System-Inspiron-N4110:~$ clear
[H[2J]0;marisol@marisol-Dell-System-Inspiron-N4110: ~marisol@marisol-Dell-System-Inspiron-N4110:~$ ssh[K[K[Kls [K[K[Kcd[K[Kls
[0m[01;32ma.out[0m      examples.desktop  octave-workspace  ontiverosm3.m   [01;34mPictures[0m  [01;34mTemplates[0m       [01;34mUntitled Folder[0m
[01;34mDesktop[0m    #montivers3.m#    ontiveros2.m      ontiverosm3.m~  [01;34mpractice[0m  [01;34mucr-cs100[0m       [01;34mVideos[0m
[01;34mDocuments[0m  montivers3.m      ontiverosm2.m     ontiverosm4.m   [01;34mPublic[0m    Untitled 1.odt
[01;34mDownloads[0m  [01;34mMusic[0m             ontiverosm2.m~    ontiverosm4.m~  [01;34mrshell[0m    Untitled 1.pdf
]0;marisol@marisol-Dell-System-Inspiron-N4110: ~marisol@marisol-Dell-System-Inspiron-N4110:~$ cd rshell
]0;marisol@marisol-Dell-System-Inspiron-N4110: ~/rshellmarisol@marisol-Dell-System-Inspiron-N4110:~/rshell$ ls
LICENSE  Makefile  README.md  [0m[01;34msrc[0m  [01;34mtests[0m
]0;marisol@marisol-Dell-System-Inspiron-N4110: ~/rshellmarisol@marisol-Dell-System-Inspiron-N4110:~/rshell$ gti[K[Kit tag -d hw 2[K[K2
Deleted tag 'hw2' (was 8e629f0)
]0;marisol@marisol-Dell-System-Inspiron-N4110: ~/rshellmarisol@marisol-Dell-System-Inspiron-N4110:~/rshell$ git [K[K[K[Kgit tag -d hw2ls[Kcd rshellls[Kcleard[Kgit push https://github.com/monti004/rshell[25Pcommit -m "rm"push https://github.com/monti004/rshell :refs/tags/hw2
Username for 'https://github.com': monti004
Password for 'https://monti004@github.com': 
To https://github.com/monti004/rshell
 - [deleted]         hw2
]0;marisol@marisol-Dell-System-Inspiron-N4110: ~/rshellmarisol@marisol-Dell-System-Inspiron-N4110:~/rshell$ ls
LICENSE  Makefile  README.md  [0m[01;34msrc[0m  [01;34mtests[0m
]0;marisol@marisol-Dell-System-Inspiron-N4110: ~/rshellmarisol@marisol-Dell-System-Inspiron-N4110:~/rshell$ git tag hw2
]0;marisol@marisol-Dell-System-Inspiron-N4110: ~/rshellmarisol@marisol-Dell-System-Inspiron-N4110:~/rshell$ git tag hw2ls[Kgit push https://github.com/monti004/rshell :refs/tags/hw2[K[K[K[K[K[K[K[K[K[K[K[K[K[Khw2
Username for 'https://github.com': monti004
Password for 'https://monti004@github.com': 
Total 0 (delta 0), reused 0 (delta 0)
To https://github.com/monti004/rshell
 * [new tag]         hw2 -> hw2
]0;marisol@marisol-Dell-System-Inspiron-N4110: ~/rshellmarisol@marisol-Dell-System-Inspiron-N4110:~/rshell$ ssh -XYC monti004@hammer.cs.ucr.edu
monti004@hammer.cs.ucr.edu's password: 
Permission denied, please try again.
monti004@hammer.cs.ucr.edu's password: 
Last login: Sun Feb 22 23:20:19 2015 from 71-95-46-156.dhcp.rvsd.ca.charter.com
~
monti004@hammer $ cs100
[0;91m
===============================================================================
|                                                                             |
| You have enabled settings specific for cs100.  Everything you do is being   |
| recorded to measure your progress in the class.                             |
|                                                                             |
| Important commands for the class:                                           |
|   * calcgrade.sh          displays a detailed breakdown of your grade       |
|   * typespeed             practice typing unix commands                     |
|                                                                             |
| Important commands for general C++ programming:                             |
|   * make                  don't call g++ manually; let make do the work!    |
|   * gdb                   the GNU debugger                                  |
|   * valgrind              get rid of your memory leaks                      |
|   * cppcheck              static analysis tool                              |
|   * man                   find help about any syscall / terminal command    |
|                                                                             |
===============================================================================
[0m
[s%%%%%%%%%%[u[0;32mmonti004[0;36m@[0;32mcs100[0;36m:[0;32m~[0;95m [0;36m$[0m git c[K[K[K[K[Kls
06-IntList.pdf		 Desktop			 GetTruncatedTriangularNumber.m~  marisolo13jan2012.txt
08-SortedSet.pdf	 DifferenceBetweenTwoAges.m	 GuessTheNumber.m		  ParentsAge.m
Acronym.m		 DifferenceBetweenTwoAges.m~	 GuessTheNumber.m~		  part5.m
Acronym.m~		 DifferenceByTwo.m		 HowManyOver21s.m		  PluralWife.m
AcronymString.m		 DifferenceByTwo.m~		 HowManyOver21s.m~		  PluralWife.m~
AcronymString.m~	 DisplayTeamAgeInfo.m		 Inches2Yard.m			  RobustIsEven.m
AmountWithTax.m		 DisplayTeamAgeInfo.m~		 IntVector.cpp			  rshell
AmountWithTax.m~	 Dollar2Yen.m			 IntVector.h			  SameOutsideString.m
assn4.h			 Dollar2Yen.m~			 IsEven.m			  SameOutsideString.m~
BigramFrequency.m	 DoStuff.m			 IsItLegalToDrive.m		  SearchForCodon.m
BilingualTimesTables.m	 DoStuff.m~			 Kilo2Miles.m			  SearchForCodon.m~
BilingualTimesTables.m~  EightTimesTable.m		 Kilo2Miles.m~			  SixTimesTables.m
BMI.m			 EightTimesTable.m~		 lab0				  SixTimesTables.m~
BMI.mat			 ellipse.m			 Lab10-DynamicMemoryClasses.pdf   SumOddsEvens_Total.m
Cigarettes.m		 ellipse.m~			 lab2_ex1.cpp			  SumOddsEvens_Total.m~
Cigarettes.m~		 ellipse.mat			 lab2_ex2.cpp			  TakeString.m
cigarettes.mat		 ExtraCredit.m			 lab2_ex3.cpp			  TruncationOfName.m
CountAndTripleLetters.m  ExtraCredit.m~			 lab4.cpp			  TruncationOfName.m~
CountSpaces.m		 FiveTimesTable_KtoL.m		 lab8.cpp			  ucr-cs100
CountSpaces.m~		 FiveTimesTables_Ktol.m		 LineByLine.m			  WhichTimesTable.m
CountTheLetters.m	 FiveTimesTables.m		 LineByLine.m~			  WhichTimesTable.m~
cs010			 FiveTimesTables.m~		 LocationOfCodon.m
DeBlank.m		 GetTeamAges.m			 LocationOfCodon.m~
DeBlank.m~		 GetTruncatedTriangularNumber.m  main.cpp
[s%%%%%%%%%%[u[0;32mmonti004[0;36m@[0;32mcs100[0;36m:[0;32m~[0;95m [0;36m$[0m rm -rf shell
[s%%%%%%%%%%[u[0;32mmonti004[0;36m@[0;32mcs100[0;36m:[0;32m~[0;95m [0;36m$[0m ls
06-IntList.pdf		 Desktop			 GetTruncatedTriangularNumber.m~  marisolo13jan2012.txt
08-SortedSet.pdf	 DifferenceBetweenTwoAges.m	 GuessTheNumber.m		  ParentsAge.m
Acronym.m		 DifferenceBetweenTwoAges.m~	 GuessTheNumber.m~		  part5.m
Acronym.m~		 DifferenceByTwo.m		 HowManyOver21s.m		  PluralWife.m
AcronymString.m		 DifferenceByTwo.m~		 HowManyOver21s.m~		  PluralWife.m~
AcronymString.m~	 DisplayTeamAgeInfo.m		 Inches2Yard.m			  RobustIsEven.m
AmountWithTax.m		 DisplayTeamAgeInfo.m~		 IntVector.cpp			  rshell
AmountWithTax.m~	 Dollar2Yen.m			 IntVector.h			  SameOutsideString.m
assn4.h			 Dollar2Yen.m~			 IsEven.m			  SameOutsideString.m~
BigramFrequency.m	 DoStuff.m			 IsItLegalToDrive.m		  SearchForCodon.m
BilingualTimesTables.m	 DoStuff.m~			 Kilo2Miles.m			  SearchForCodon.m~
BilingualTimesTables.m~  EightTimesTable.m		 Kilo2Miles.m~			  SixTimesTables.m
BMI.m			 EightTimesTable.m~		 lab0				  SixTimesTables.m~
BMI.mat			 ellipse.m			 Lab10-DynamicMemoryClasses.pdf   SumOddsEvens_Total.m
Cigarettes.m		 ellipse.m~			 lab2_ex1.cpp			  SumOddsEvens_Total.m~
Cigarettes.m~		 ellipse.mat			 lab2_ex2.cpp			  TakeString.m
cigarettes.mat		 ExtraCredit.m			 lab2_ex3.cpp			  TruncationOfName.m
CountAndTripleLetters.m  ExtraCredit.m~			 lab4.cpp			  TruncationOfName.m~
CountSpaces.m		 FiveTimesTable_KtoL.m		 lab8.cpp			  ucr-cs100
CountSpaces.m~		 FiveTimesTables_Ktol.m		 LineByLine.m			  WhichTimesTable.m
CountTheLetters.m	 FiveTimesTables.m		 LineByLine.m~			  WhichTimesTable.m~
cs010			 FiveTimesTables.m~		 LocationOfCodon.m
DeBlank.m		 GetTeamAges.m			 LocationOfCodon.m~
DeBlank.m~		 GetTruncatedTriangularNumber.m  main.cpp
[s%%%%%%%%%%[u[0;32mmonti004[0;36m@[0;32mcs100[0;36m:[0;32m~[0;95m [0;36m$[0m ls
06-IntList.pdf		 Desktop			 GetTruncatedTriangularNumber.m~  marisolo13jan2012.txt
08-SortedSet.pdf	 DifferenceBetweenTwoAges.m	 GuessTheNumber.m		  ParentsAge.m
Acronym.m		 DifferenceBetweenTwoAges.m~	 GuessTheNumber.m~		  part5.m
Acronym.m~		 DifferenceByTwo.m		 HowManyOver21s.m		  PluralWife.m
AcronymString.m		 DifferenceByTwo.m~		 HowManyOver21s.m~		  PluralWife.m~
AcronymString.m~	 DisplayTeamAgeInfo.m		 Inches2Yard.m			  RobustIsEven.m
AmountWithTax.m		 DisplayTeamAgeInfo.m~		 IntVector.cpp			  rshell
AmountWithTax.m~	 Dollar2Yen.m			 IntVector.h			  SameOutsideString.m
assn4.h			 Dollar2Yen.m~			 IsEven.m			  SameOutsideString.m~
BigramFrequency.m	 DoStuff.m			 IsItLegalToDrive.m		  SearchForCodon.m
BilingualTimesTables.m	 DoStuff.m~			 Kilo2Miles.m			  SearchForCodon.m~
BilingualTimesTables.m~  EightTimesTable.m		 Kilo2Miles.m~			  SixTimesTables.m
BMI.m			 EightTimesTable.m~		 lab0				  SixTimesTables.m~
BMI.mat			 ellipse.m			 Lab10-DynamicMemoryClasses.pdf   SumOddsEvens_Total.m
Cigarettes.m		 ellipse.m~			 lab2_ex1.cpp			  SumOddsEvens_Total.m~
Cigarettes.m~		 ellipse.mat			 lab2_ex2.cpp			  TakeString.m
cigarettes.mat		 ExtraCredit.m			 lab2_ex3.cpp			  TruncationOfName.m
CountAndTripleLetters.m  ExtraCredit.m~			 lab4.cpp			  TruncationOfName.m~
CountSpaces.m		 FiveTimesTable_KtoL.m		 lab8.cpp			  ucr-cs100
CountSpaces.m~		 FiveTimesTables_Ktol.m		 LineByLine.m			  WhichTimesTable.m
CountTheLetters.m	 FiveTimesTables.m		 LineByLine.m~			  WhichTimesTable.m~
cs010			 FiveTimesTables.m~		 LocationOfCodon.m
DeBlank.m		 GetTeamAges.m			 LocationOfCodon.m~
DeBlank.m~		 GetTruncatedTriangularNumber.m  main.cpp
[s%%%%%%%%%%[u[0;32mmonti004[0;36m@[0;32mcs100[0;36m:[0;32m~[0;95m [0;36m$[0m rm -rf rshell
[s%%%%%%%%%%[u[0;32mmonti004[0;36m@[0;32mcs100[0;36m:[0;32m~[0;95m [0;36m$[0m ls
06-IntList.pdf		 DeBlank.m~		      GetTeamAges.m		       LocationOfCodon.m
08-SortedSet.pdf	 Desktop		      GetTruncatedTriangularNumber.m   LocationOfCodon.m~
Acronym.m		 DifferenceBetweenTwoAges.m   GetTruncatedTriangularNumber.m~  main.cpp
Acronym.m~		 DifferenceBetweenTwoAges.m~  GuessTheNumber.m		       marisolo13jan2012.txt
AcronymString.m		 DifferenceByTwo.m	      GuessTheNumber.m~		       ParentsAge.m
AcronymString.m~	 DifferenceByTwo.m~	      HowManyOver21s.m		       part5.m
AmountWithTax.m		 DisplayTeamAgeInfo.m	      HowManyOver21s.m~		       PluralWife.m
AmountWithTax.m~	 DisplayTeamAgeInfo.m~	      Inches2Yard.m		       PluralWife.m~
assn4.h			 Dollar2Yen.m		      IntVector.cpp		       RobustIsEven.m
BigramFrequency.m	 Dollar2Yen.m~		      IntVector.h		       SameOutsideString.m
BilingualTimesTables.m	 DoStuff.m		      IsEven.m			       SameOutsideString.m~
BilingualTimesTables.m~  DoStuff.m~		      IsItLegalToDrive.m	       SearchForCodon.m
BMI.m			 EightTimesTable.m	      Kilo2Miles.m		       SearchForCodon.m~
BMI.mat			 EightTimesTable.m~	      Kilo2Miles.m~		       SixTimesTables.m
Cigarettes.m		 ellipse.m		      lab0			       SixTimesTables.m~
Cigarettes.m~		 ellipse.m~		      Lab10-DynamicMemoryClasses.pdf   SumOddsEvens_Total.m
cigarettes.mat		 ellipse.mat		      lab2_ex1.cpp		       SumOddsEvens_Total.m~
CountAndTripleLetters.m  ExtraCredit.m		      lab2_ex2.cpp		       TakeString.m
CountSpaces.m		 ExtraCredit.m~		      lab2_ex3.cpp		       TruncationOfName.m
CountSpaces.m~		 FiveTimesTable_KtoL.m	      lab4.cpp			       TruncationOfName.m~
CountTheLetters.m	 FiveTimesTables_Ktol.m       lab8.cpp			       ucr-cs100
cs010			 FiveTimesTables.m	      LineByLine.m		       WhichTimesTable.m
DeBlank.m		 FiveTimesTables.m~	      LineByLine.m~		       WhichTimesTable.m~
[s%%%%%%%%%%[u[0;32mmonti004[0;36m@[0;32mcs100[0;36m:[0;32m~[0;95m [0;36m$[0m git clone http://github.com/monti004/rshell.git
Cloning into 'rshell'...
remote: Counting objects: 142, done.[K
remote: Compressing objects:   0% (1/102)   [Kremote: Compressing objects:   1% (2/102)   [Kremote: Compressing objects:   2% (3/102)   [Kremote: Compressing objects:   3% (4/102)   [Kremote: Compressing objects:   4% (5/102)   [Kremote: Compressing objects:   5% (6/102)   [Kremote: Compressing objects:   6% (7/102)   [Kremote: Compressing objects:   7% (8/102)   [Kremote: Compressing objects:   8% (9/102)   [Kremote: Compressing objects:   9% (10/102)   [Kremote: Compressing objects:  10% (11/102)   [Kremote: Compressing objects:  11% (12/102)   [Kremote: Compressing objects:  12% (13/102)   [Kremote: Compressing objects:  13% (14/102)   [Kremote: Compressing objects:  14% (15/102)   [Kremote: Compressing objects:  15% (16/102)   [Kremote: Compressing objects:  16% (17/102)   [Kremote: Compressing objects:  17% (18/102)   [Kremote: Compressing objects:  18% (19/102)   [Kremote: Compressing objects:  19% (20/102)   [Kremote: Compressing objects:  20% (21/102)   [Kremote: Compressing objects:  21% (22/102)   [Kremote: Compressing objects:  22% (23/102)   [Kremote: Compressing objects:  23% (24/102)   [Kremote: Compressing objects:  24% (25/102)   [Kremote: Compressing objects:  25% (26/102)   [Kremote: Compressing objects:  26% (27/102)   [Kremote: Compressing objects:  27% (28/102)   [Kremote: Compressing objects:  28% (29/102)   [Kremote: Compressing objects:  29% (30/102)   [Kremote: Compressing objects:  30% (31/102)   [Kremote: Compressing objects:  31% (32/102)   [Kremote: Compressing objects:  32% (33/102)   [Kremote: Compressing objects:  33% (34/102)   [Kremote: Compressing objects:  34% (35/102)   [Kremote: Compressing objects:  35% (36/102)   [Kremote: Compressing objects:  36% (37/102)   [Kremote: Compressing objects:  37% (38/102)   [Kremote: Compressing objects:  38% (39/102)   [Kremote: Compressing objects:  39% (40/102)   [Kremote: Compressing objects:  40% (41/102)   [Kremote: Compressing objects:  41% (42/102)   [Kremote: Compressing objects:  42% (43/102)   [Kremote: Compressing objects:  43% (44/102)   [Kremote: Compressing objects:  44% (45/102)   [Kremote: Compressing objects:  45% (46/102)   [Kremote: Compressing objects:  46% (47/102)   [Kremote: Compressing objects:  47% (48/102)   [Kremote: Compressing objects:  48% (49/102)   [Kremote: Compressing objects:  49% (50/102)   [Kremote: Compressing objects:  50% (51/102)   [Kremote: Compressing objects:  51% (53/102)   [Kremote: Compressing objects:  52% (54/102)   [Kremote: Compressing objects:  53% (55/102)   [Kremote: Compressing objects:  54% (56/102)   [Kremote: Compressing objects:  55% (57/102)   [Kremote: Compressing objects:  56% (58/102)   [Kremote: Compressing objects:  57% (59/102)   [Kremote: Compressing objects:  58% (60/102)   [Kremote: Compressing objects:  59% (61/102)   [Kremote: Compressing objects:  60% (62/102)   [Kremote: Compressing objects:  61% (63/102)   [Kremote: Compressing objects:  62% (64/102)   [Kremote: Compressing objects:  63% (65/102)   [Kremote: Compressing objects:  64% (66/102)   [Kremote: Compressing objects:  65% (67/102)   [Kremote: Compressing objects:  66% (68/102)   [Kremote: Compressing objects:  67% (69/102)   [Kremote: Compressing objects:  68% (70/102)   [Kremote: Compressing objects:  69% (71/102)   [Kremote: Compressing objects:  70% (72/102)   [Kremote: Compressing objects:  71% (73/102)   [Kremote: Compressing objects:  72% (74/102)   [Kremote: Compressing objects:  73% (75/102)   [Kremote: Compressing objects:  74% (76/102)   [Kremote: Compressing objects:  75% (77/102)   [Kremote: Compressing objects:  76% (78/102)   [Kremote: Compressing objects:  77% (79/102)   [Kremote: Compressing objects:  78% (80/102)   [Kremote: Compressing objects:  79% (81/102)   [Kremote: Compressing objects:  80% (82/102)   [Kremote: Compressing objects:  81% (83/102)   [Kremote: Compressing objects:  82% (84/102)   [Kremote: Compressing objects:  83% (85/102)   [Kremote: Compressing objects:  84% (86/102)   [Kremote: Compressing objects:  85% (87/102)   [Kremote: Compressing objects:  86% (88/102)   [Kremote: Compressing objects:  87% (89/102)   [Kremote: Compressing objects:  88% (90/102)   [Kremote: Compressing objects:  89% (91/102)   [Kremote: Compressing objects:  90% (92/102)   [Kremote: Compressing objects:  91% (93/102)   [Kremote: Compressing objects:  92% (94/102)   [Kremote: Compressing objects:  93% (95/102)   [Kremote: Compressing objects:  94% (96/102)   [Kremote: Compressing objects:  95% (97/102)   [Kremote: Compressing objects:  96% (98/102)   [Kremote: Compressing objects:  97% (99/102)   [Kremote: Compressing objects:  98% (100/102)   [Kremote: Compressing objects:  99% (101/102)   [Kremote: Compressing objects: 100% (102/102)   [Kremote: Compressing objects: 100% (102/102), done.[K
Receiving objects:   0% (1/142)   Receiving objects:   1% (2/142)   Receiving objects:   2% (3/142)   Receiving objects:   3% (5/142)   Receiving objects:   4% (6/142)   Receiving objects:   5% (8/142)   Receiving objects:   6% (9/142)   Receiving objects:   7% (10/142)   Receiving objects:   8% (12/142)   Receiving objects:   9% (13/142)   Receiving objects:  10% (15/142)   Receiving objects:  11% (16/142)   Receiving objects:  12% (18/142)   Receiving objects:  13% (19/142)   Receiving objects:  14% (20/142)   Receiving objects:  15% (22/142)   Receiving objects:  16% (23/142)   Receiving objects:  17% (25/142)   Receiving objects:  18% (26/142)   Receiving objects:  19% (27/142)   Receiving objects:  20% (29/142)   Receiving objects:  21% (30/142)   Receiving objects:  22% (32/142)   Receiving objects:  23% (33/142)   Receiving objects:  24% (35/142)   Receiving objects:  25% (36/142)   Receiving objects:  26% (37/142)   Receiving objects:  27% (39/142)   Receiving objects:  28% (40/142)   Receiving objects:  29% (42/142)   Receiving objects:  30% (43/142)   Receiving objects:  31% (45/142)   Receiving objects:  32% (46/142)   Receiving objects:  33% (47/142)   Receiving objects:  34% (49/142)   Receiving objects:  35% (50/142)   Receiving objects:  36% (52/142)   Receiving objects:  37% (53/142)   Receiving objects:  38% (54/142)   Receiving objects:  39% (56/142)   Receiving objects:  40% (57/142)   Receiving objects:  41% (59/142)   Receiving objects:  42% (60/142)   Receiving objects:  43% (62/142)   Receiving objects:  44% (63/142)   Receiving objects:  45% (64/142)   Receiving objects:  46% (66/142)   Receiving objects:  47% (67/142)   Receiving objects:  48% (69/142)   Receiving objects:  49% (70/142)   Receiving objects:  50% (71/142)   Receiving objects:  51% (73/142)   Receiving objects:  52% (74/142)   Receiving objects:  53% (76/142)   Receiving objects:  54% (77/142)   Receiving objects:  55% (79/142)   Receiving objects:  56% (80/142)   Receiving objects:  57% (81/142)   Receiving objects:  58% (83/142)   Receiving objects:  59% (84/142)   Receiving objects:  60% (86/142)   Receiving objects:  61% (87/142)   Receiving objects:  62% (89/142)   Receiving objects:  63% (90/142)   Receiving objects:  64% (91/142)   Receiving objects:  65% (93/142)   Receiving objects:  66% (94/142)   Receiving objects:  67% (96/142)   Receiving objects:  68% (97/142)   Receiving objects:  69% (98/142)   Receiving objects:  70% (100/142)   Receiving objects:  71% (101/142)   Receiving objects:  72% (103/142)   Receiving objects:  73% (104/142)   Receiving objects:  74% (106/142)   remote: Total 142 (delta 55), reused 81 (delta 30)[K
Receiving objects:  75% (107/142)   Receiving objects:  76% (108/142)   Receiving objects:  77% (110/142)   Receiving objects:  78% (111/142)   Receiving objects:  79% (113/142)   Receiving objects:  80% (114/142)   Receiving objects:  81% (116/142)   Receiving objects:  82% (117/142)   Receiving objects:  83% (118/142)   Receiving objects:  84% (120/142)   Receiving objects:  85% (121/142)   Receiving objects:  86% (123/142)   Receiving objects:  87% (124/142)   Receiving objects:  88% (125/142)   Receiving objects:  89% (127/142)   Receiving objects:  90% (128/142)   Receiving objects:  91% (130/142)   Receiving objects:  92% (131/142)   Receiving objects:  93% (133/142)   Receiving objects:  94% (134/142)   Receiving objects:  95% (135/142)   Receiving objects:  96% (137/142)   Receiving objects:  97% (138/142)   Receiving objects:  98% (140/142)   Receiving objects:  99% (141/142)   Receiving objects: 100% (142/142)   Receiving objects: 100% (142/142), 68.33 KiB | 0 bytes/s, done.
Resolving deltas:   0% (0/55)   Resolving deltas:   3% (2/55)   Resolving deltas:   5% (3/55)   Resolving deltas:  14% (8/55)   Resolving deltas:  20% (11/55)   Resolving deltas:  29% (16/55)   Resolving deltas:  30% (17/55)   Resolving deltas:  40% (22/55)   Resolving deltas:  65% (36/55)   Resolving deltas:  67% (37/55)   Resolving deltas:  70% (39/55)   Resolving deltas:  72% (40/55)   Resolving deltas:  76% (42/55)   Resolving deltas:  83% (46/55)   Resolving deltas:  89% (49/55)   Resolving deltas:  96% (53/55)   Resolving deltas: 100% (55/55)   Resolving deltas: 100% (55/55), done.
Checking connectivity... done
[s%%%%%%%%%%[u[0;32mmonti004[0;36m@[0;32mcs100[0;36m:[0;32m~[0;95m [0;36m$[0m cd rshell
[s%%%%%%%%%%[u[0;32mmonti004[0;36m@[0;32mcs100[0;36m:[0;32m~/rshell[0;95m (master) [0;36m$[0m git checkout hw2
Note: checking out 'hw2'.

You are in 'detached HEAD' state. You can look around, make experimental
changes and commit them, and you can discard any commits you make in this
state without impacting any branches by performing another checkout.

If you want to create a new branch to retain commits you create, you may
do so (now or later) by using -b with the checkout command again. Example:

  git checkout -b new_branch_name

HEAD is now at 33ef833... rm
[s%%%%%%%%%%[u[0;32mmonti004[0;36m@[0;32mcs100[0;36m:[0;32m~/rshell[0;95m ((hw2)) [0;36m$[0m make
mkdir bin
g++ -Wall -Werror -ansi -pedantic -o   bin/rshell src/rshell.cpp
g++ -Wall -Werror -ansi -pedantic -o bin/ls src/ls.cpp
[s%%%%%%%%%%[u[0;32mmonti004[0;36m@[0;32mcs100[0;36m:[0;32m~/rshell[0;95m ((hw2)) [0;36m$[0m bin/r[K[K[K[K[Kvalgrind /bin/rshell
valgrind: /bin/rshell: No such file or directory
[s%%%%%%%%%%[u[0;32mmonti004[0;36m@[0;32mcs100[0;36m:[0;32m~/rshell[0;95m ((hw2)) [0;36m$[0m valgrind bin/ls
==21558== Memcheck, a memory error detector
==21558== Copyright (C) 2002-2012, and GNU GPL'd, by Julian Seward et al.
==21558== Using Valgrind-3.8.1 and LibVEX; rerun with -h for copyright info
==21558== Command: bin/ls
==21558== 
bin LICENSE Makefile README.md src tests 
==21558== 
==21558== HEAP SUMMARY:
==21558==     in use at exit: 0 bytes in 0 blocks
==21558==   total heap usage: 19 allocs, 19 frees, 33,299 bytes allocated
==21558== 
==21558== All heap blocks were freed -- no leaks are possible
==21558== 
==21558== For counts of detected and suppressed errors, rerun with: -v
==21558== ERROR SUMMARY: 0 errors from 0 contexts (suppressed: 6 from 6)
[s%%%%%%%%%%[u[0;32mmonti004[0;36m@[0;32mcs100[0;36m:[0;32m~/rshell[0;95m ((hw2)) [0;36m$[0m valgrind bin/ls[K[Krshell
==21581== Memcheck, a memory error detector
==21581== Copyright (C) 2002-2012, and GNU GPL'd, by Julian Seward et al.
==21581== Using Valgrind-3.8.1 and LibVEX; rerun with -h for copyright info
==21581== Command: bin/rshell
==21581== 
$ exit
==21581== 
==21581== HEAP SUMMARY:
==21581==     in use at exit: 29 bytes in 1 blocks
==21581==   total heap usage: 3 allocs, 2 frees, 82 bytes allocated
==21581== 
==21581== LEAK SUMMARY:
==21581==    definitely lost: 0 bytes in 0 blocks
==21581==    indirectly lost: 0 bytes in 0 blocks
==21581==      possibly lost: 29 bytes in 1 blocks
==21581==    still reachable: 0 bytes in 0 blocks
==21581==         suppressed: 0 bytes in 0 blocks
==21581== Rerun with --leak-check=full to see details of leaked memory
==21581== 
==21581== For counts of detected and suppressed errors, rerun with: -v
==21581== ERROR SUMMARY: 0 errors from 0 contexts (suppressed: 6 from 6)
[s%%%%%%%%%%[u[0;32mmonti004[0;36m@[0;32mcs100[0;36m:[0;32m~/rshell[0;95m ((hw2)) [0;36m$[0m clear
[H[2J[s%%%%%%%%%%[u[0;32mmonti004[0;36m@[0;32mcs100[0;36m:[0;32m~/rshell[0;95m ((hw2)) [0;36m$[0m ls
bin  LICENSE  Makefile	README.md  src	tests
[s%%%%%%%%%%[u[0;32mmonti004[0;36m@[0;32mcs100[0;36m:[0;32m~/rshell[0;95m ((hw2)) [0;36m$[0m vim src/rshell.[K
7[?47h[?1h=[1;85r[m[H[2J[85;1H"src/rshell" [New File][>c[2;1H[1m[34m~                                                                                                                                      [3;1H~                                                                                                                                      [4;1H~                                                                                                                                      [5;1H~                                                                                                                                      [6;1H~                                                                                                                                      [7;1H~                                                                                                                                      [8;1H~                                                                                                                                      [9;1H~                                                                                                                                      [10;1H~                                                                                                                                      [11;1H~                                                                                                                                      [12;1H~                                                                                                                                      [13;1H~                                                                                                                                      [14;1H~                                                                                                                                      [15;1H~                                                                                                                                      [16;1H~                                                                                                                                      [17;1H~                                                                                                                                      [18;1H~                                                                                                                                      [19;1H~                                                                                                                                      [20;1H~                                                                                                                                      [21;1H~                                                                                                                                      [22;1H~                                                                                                                                      [23;1H~                                                                                                                                      [24;1H~                                                                                                                                      [25;1H~                                                                                                                                      [26;1H~                                                                                                                                      [27;1H~                                                                                                                                      [28;1H~                                                                                                                                      [29;1H~                                                                                                                                      [30;1H~                                                                                                                                      [31;1H~                                                                                                                                      [32;1H~                                                                                                                                      [33;1H~                                                                                                                                      [34;1H~                                                                                                                                      [35;1H~                                                                                                                                      [36;1H~                                                                                                                                      [37;1H~                                                                                                                                      [38;1H~                                                                                                                                      [39;1H~                                                                                                                                      [40;1H~                                                                                                                                      [41;1H~                                                                                                                                      [42;1H~                                                                                                                                      [43;1H~                                                                                                                                      [44;1H~                                                                                                                                      [45;1H~                                                                                                                                      [46;1H~                                                                                                                                      [47;1H~                                                                                                                                      [48;1H~                                                                                                                                      [49;1H~                                                                                                                                      [50;1H~                                                                                                                                      [51;1H~                                                                                                                                      [52;1H~                                                                                                                                      [53;1H~                                                                                                                                      [54;1H~                                                                                                                                      [55;1H~                                                                                                                                      [56;1H~                                                                                                                                      [57;1H~                                                                                                                                      [58;1H~                                                                                                                                      [59;1H~                                                                                                                                      [60;1H~                                                                                                                                      [61;1H~                                                                                                                                      [62;1H~                                                                                                                                      [63;1H~                                                                                                                                      [64;1H~                                                                                                                                      [65;1H~                                                                                                                                      [66;1H~                                                                                                                                      [67;1H~                                                                                                                                      [68;1H~                                                                                                                                      [69;1H~                                                                                                                                      [70;1H~                                                                                                                                      [71;1H~                                                                                                                                      [72;1H~                                                                                                                                      [73;1H~                                                                                                                                      [74;1H~                                                                                                                                      [75;1H~                                                                                                                                      [76;1H~                                                                                                                                      [77;1H~                                                                                                                                      [78;1H~                                                                                                                                      [79;1H~                                                                                                                                      [80;1H~                                                                                                                                      [81;1H~                                                                                                                                      [82;1H~                                                                                                                                      [83;1H~                                                                                                                                      [84;1H~                                                                                                                                      [m[85;118H0,0-1[9CAll[1;1HP+q436f\P+q6b75\P+q6b64\P+q6b72\P+q6b6c\P+q2332\P+q2334\P+q2569\P+q2a37\P+q6b31\[85;1H[K[85;1H:q[85;1H[K[85;1H[?1l>[2J[?47l8[s%%%%%%%%%%[u[0;32mmonti004[0;36m@[0;32mcs100[0;36m:[0;32m~/rshell[0;95m ((hw2)) [0;36m$[0m vim src/rshell.cpp
7[?47h[?1h=[1;85r[m[H[2J[85;1H"src/rshell.cpp" 483L, 10999C[>c[1;1H}

[32mint[m main([32mint[m argc, [32mchar[m **argv)
{
    [33mwhile[m([31m1[m)
    {[7;8H cerr<<[31m"$ "[m;[9;8H string command_line;[11;8H getline(cin, command_line);[13;8H [33mif[m ( command_line.find([31m"exit"[m) != string::npos)[14;12H exit([31m0[m);
[34m//        cerr<<command_line<<endl;[m[16;8H [34m//this will make sure there is spaces before and after i/o redirection[m[17;8H check_spaces(command_line);
[34m//        cerr<<command_line<<endl;[m[19;8H [32mchar[m *commands = [33mnew[m [32mchar[m[command_line.length()+[31m1[m];[20;8H strcpy(commands, command_line.c_str());[22;8H [32mchar[m *token,*save;[24;8H token = strtok_r(commands,[31m"#"[m,&save);[25;8H token = strtok_r(commands,[31m";"[m,&save);[27;8H [33mwhile[m(token!= [31mNULL[m)[28;8H {[29;12H vector<[32mint[m> order;[30;12H [32mbool[m prev = [31mtrue[m;[31;12H [34m//i count the number of conditions and label & with 1 and | with 2[m[32;12H [34m//this will also change || to & to make tokenizing easier when adding pipping.[m[33;12H [34m//both && and || will be & but the order they appeared as initially will be in the vector[m[34;12H order = cmds_order(token);[35;12H [33mif[m ( !(order.empty() ))[36;12H {[37;16H [32mint[m i = -[31m1[m;[38;16H [32mchar[m *token2, *save2;[39;16H token2 = strtok_r(token, [31m"&"[m, &save2);[41;16H [33mwhile[m( (token2 != [31mNULL[m) )[42;16H {[43;20H [33mif[m(i==-[31m1[m)[44;20H {[45;24H [33mif[m(run_exec(token2,num_tokens(token2)) !=[31m0[m )[46;32H prev = [31mfalse[m;[47;20H }[48;20H [33melse[m[49;20H {[50;24H [33mif[m(prev ==[31mtrue[m)[51;24H {[52;28H [33mif[m(order.at(i) == [31m1[m)[53;28H {[54;32H [33mif[m(run_exec(token2, num_tokens(token2)) !=[31m0[m )[55;40H prev = [31mfalse[m;[56;28H }[57;28H [34m//if it is | we will no execute since the first one succeded[m[58;24H }[59;24H [33melse[m[60;24H {[61;28H [33mif[m(order.at(i) == [31m2[m)[62;28H {[63;32H [33mif[m( run_exec(token2, num_tokens(token2)) != [31m0[m)[64;40H prev = [31mfalse[m;[65;28H }[66;28H [34m//if it is & we wil not execute since the first part failed[m[67;24H }[68;20H }[69;20H token2 = strtok_r([31mNULL[m, [31m"&"[m, &save2);[70;20H i++;[71;15H }
[34m//               delete[] line;[m[73;12H }[74;12H [33melse[m[75;12H {[76;17H run_exec(token, num_tokens(token));[77;12H }[78;12H token = strtok_r([31mNULL[m,[31m";"[m,&save);[79;8H }[80;8H [34m//need to free memory[m[81;8H [33mdelete[m[] commands;
    }[83;8H [33mreturn[m [31m0[m;
}[85;118H456,29[8CBot[57;29HP+q436f\P+q6b75\P+q6b64\P+q6b72\P+q6b6c\P+q2332\P+q2334\P+q2569\P+q2a37\P+q6b31\[51;25H[46m{[58;25H}[m[85;120H7,25[58;25H[51;25H{[58;25H}[85;120H8,28[59;28H[60;25H[46m{[67;25H}[m[85;120H9,25[60;25H{[67;25H}[85;119H60,29[61;29H[62;29H[46m{[65;29H}[m[85;120H1[62;29H{[65;29H}[85;120H2[63;29H[85;120H3[64;29H[62;29H[46m{[65;29H}[m[85;120H4[65;29H[62;29H{[65;29H}[85;120H5[66;29H[60;25H[46m{[67;25H}[m[85;120H6,25[67;25H[49;21H[46m{[m[60;25H{[67;25H}[68;21H[46m}[m[85;120H7,21[68;21H[49;21H{[68;21H}[85;120H8,29[69;29H[85;120H9,24[70;24H[42;17H[46m{[71;16H}[m[85;119H70,16[71;16H[42;17H{[71;16H}[85;120H1,29[72;29H[36;13H[46m{[73;13H}[m[85;120H2,13[73;13H[36;13H{[73;13H}[85;120H3,16[74;16H[85;120H4,2[75;26H[85;120H5,29[76;29H[75;13H[46m{[77;13H}[m[85;120H6,13[77;13H[75;13H{[77;13H}[78;29H[46m([14C)[m[85;120H7,29[78;29H[28;9H[46m{[m[78;29H([14C)[79;9H[46m}[m[85;120H8,9 [79;9H[28;9H{[79;9H}[85;120H9,29[80;29H[85;119H80[81;29H[6;5H[46m{[82;5H}[m[85;120H1,5 [82;5H[6;5H{[82;5H}[85;120H2,10-17[83;17H[4;1H[46m{[84;1H}[m[85;120H3,1    [84;1H[4;1H{[84;1H}[85;120H2,10-17[83;17H[6;5H[46m{[82;5H}[m[85;120H1,5    [82;5H[6;5H{[82;5H}[85;120H0,29[81;29H[85;119H79[80;29H[28;9H[46m{[79;9H}[m[85;120H8,9 [79;9H[28;9H{[78;29H[46m([14C)[m[79;9H}[85;120H7,29[78;29H[75;13H[46m{[77;13H}[m[78;29H([14C)[85;120H6,13[77;13H[75;13H{[77;13H}[85;120H5,29[76;29H[85;120H4,26[75;26H[85;120H3,1[74;16H[36;13H[46m{[73;13H}[m[85;120H2,13[73;13H[36;13H{[73;13H}[85;120H1,29[72;29H[42;17H[46m{[71;16H}[m[85;120H0,16[71;16H[42;17H{[71;16H}[85;119H69,24[70;24H[85;120H8,29[69;29H[49;21H[46m{[68;21H}[m[85;120H7,21[68;21H[49;21H{[60;25H[46m{[67;25H}[m[68;21H}[85;120H6,25[67;25H[60;25H{[67;25H}[85;120H5,29[66;29H[62;29H[46m{[65;29H}[m[85;120H4[65;29H[62;29H{[65;29H}[85;120H3[64;29H[85;120H2[63;29H[62;29H[46m{[65;29H}[m[85;120H1[62;29H{[65;29H}[85;120H0[61;29H[60;25H[46m{[67;25H}[m[85;119H59,25[60;25H{[67;25H}[85;120H8,28[59;28H[51;25H[46m{[58;25H}[m[85;120H7,25[58;25H[51;25H{[58;25H}[85;120H6,29[57;29H[53;29H[46m{[56;29H}[m[85;120H5[56;29H[53;29H{[56;29H}[85;120H4[55;29H[85;120H3[54;29H[53;29H[46m{[56;29H}[m[85;120H2[53;29H{[56;29H}[85;120H1[52;29H[51;25H[46m{[58;25H}[m[85;120H0,25[51;25H{[58;25H}[85;119H49,29[50;29H[49;21H[46m{[68;21H}[m[85;120H8,21[49;21H{[68;21H}[85;120H7,24[48;24H[44;21H[46m{[47;21H}[m[85;120H6,21[47;21H[44;21H{[47;21H}[85;120H5,29[46;29H[85;120H4[45;29H[44;21H[46m{[47;21H}[m[85;120H3,21[44;21H[43;23H[46m([5C)[m[44;21H{[47;21H}[85;120H2,29[43;29H([5C)[85;120H1,1[42;19H[85;120H0,2[41;29H[85;119H39,25[40;25H[85;120H8,29[39;29H[85;120H7[38;29H[85;120H6,27[37;27H[36;13H[46m{[73;13H}[m[85;120H5,13[36;13H{[73;13H}[85;120H4,29[35;29H[85;120H3[34;29H[85;120H2[33;29H[85;120H1[32;29H[85;120H0[31;29H[85;119H29[30;29H[85;120H8[29;29H[28;9H[46m{[79;9H}[m[85;120H7,9 [28;9H[27;14H[46m([12C)[m[28;9H{[79;9H}[85;120H6,27[27;27H[27;14H([12C)[85;120H5,2 [26;2H[85;120H4,29[25;29H[85;120H3[24;29H[85;120H2,0-1[23;1H[85;120H1,27 [22;27H[85;120H0,2 [21;2H[85;119H19,29[20;29H[85;120H8[19;29H[85;120H7[18;29H[85;120H6[17;29H[85;120H5[16;29H[85;120H4[15;29H[85;120H3,20[14;20H[85;120H2,29[13;29H[85;120H1,0-1[12;1H[85;120H0,29 [11;29H[85;119H09,0-1[10;1H[85;120H8,28 [9;28H[85;120H7,5-8[8;8H[85;120H6,19 [7;19H[6;5H[46m{[82;5H}[m[85;120H5,5 [6;5H[5;10H[46m([1C)[m
    {[82;5H}[85;120H4,12[5;12H[4;1H[46m{[m[5;10H([1C)[84;1H[46m}[m[85;120H3,1 [4;1H{[84;1H}[85;120H2,29[3;29H[85;120H1,0-1[2;1H[85;120H0,1  [1;1H[1;84r[1;1H[L[1;85r[1;4H [34m//this returns 0 if the execvp ran succesfully[m[85;1H[K[85;118H399,29[8C99%[1;29H[1;84r[1;1H[L[1;85r[1;4H [33mreturn[m status;[85;118H[K[85;118H398,18[8C99%[1;18H[1;84r[1;1H[L[1;85r[1;4H [33mdelete[m[] cmd;[85;118H[K[85;118H397,17[8C99%[1;17H[1;84r[1;1H[L[1;85r[1;1H[34m    }*/[m[85;118H[K[85;118H396,7[9C98%[1;7H[1;84r[1;1H[L[1;85r[1;1H[34m        f++;[m[85;118H[K[85;118H395,12[8C98%[1;12H[1;84r[1;1H[L[1;85r[1;1H[34m        delete[] cmd[f];[m[85;118H[K[85;118H394,24[8C98%[1;24H[1;84r[1;1H[L[1;85r[1;1H[34m    [m[34m[46m{[4;5H}[m[85;118H[K[85;118H393,5[9C98%[1;5H[1;84r[1;1H[L[1;85r[1;1H[34m    while[m[34m[46m([m[34m f < count+1[m[34m[46m)[m[2;5H[34m{[5;5H}[m[85;118H[K[85;118H392,23[8C97%[1;23H[1;84r[1;1H[L[1;85r[1;1H[34m/*    int f=0;[2;10H([12C)[m[85;118H[K[85;118H391,14[8C97%[1;14H[1;84r[1;1H[L[1;85r[1;4H }[85;118H[K[85;118H390,5[9C97%[1;5H[1;84r[1;1H[L[1;85r[1;7H [34m//}[m[85;118H[K[85;118H389,10[8C97%[1;10H[1;84r[1;1H[L[1;85r[1;12H }[85;118H[K[85;118H388,13[8C96%[1;13H[1;84r[1;1H[L[1;85r[1;16H exit([31m1[m);[85;118H[K[85;118H387,24[8C96%[1;24H[1;84r[1;1H[L[1;85r[1;16H perror([31m"error in wait"[m);[85;118H[K[85;118H386,29[8C96%[1;29H[1;84r[1;1H[L[1;85r[1;12H [46m{[4;13H}[m[85;118H[K[85;118H385,13[8C96%[1;13H[1;84r[1;1H[L[1;85r[1;12H [33mif[m (wait[46m([m&status[46m)[m == -[31m1[m)[2;13H{[5;13H}[85;118H[K[85;118H384,29[8C95%[1;29H[1;84r[1;1H[L[1;85r[1;8H [34m//[m[34m[46m{[m[2;21H([7C)[7;10H[34m[46m}[m[85;118H[K[85;118H383,11[8C95%[1;11H[1;84r[1;1H[L[1;85r[1;8H [34m//else[2;11H{[8;10H}[m[85;118H[K[85;118H382,14[8C95%[1;14H[1;84r[1;1H[L[1;85r[1;8H }[85;118H[K[85;118H381,9[9C95%[1;9H[1;84r[1;1H[L[1;85r[1;12H }[85;118H[K[85;118H380,13[8C94%[1;13H[1;84r[1;1H[L[1;85r[1;16H exit([31m1[m);[85;118H[K[85;118H379,24[8C94%[1;24H[1;84r[1;1H[L[1;85r[1;16H perror([31m"error in execvp"[m);[85;118H[K[85;118H378,29[8C94%[1;29H[1;84r[1;1H[L[1;85r[1;12H [46m{[4;13H}[m[85;118H[K[85;118H377,13[8C94%[1;13H[1;84r[1;1H[L[1;85r[1;12H [33mif[m (execvp(cmd[46m[[m[31m0[m[46m][m, cmd) !=[31m0[m )[2;13H{[5;13H}[85;118H[K[85;118H376,29[8C93%[1;29H[1;84r[1;1H[L[1;85r[2;27H[[1C][85;118H[K[85;118H375,0-1[7C93%[1;1H[1;84r[1;1H[L[1;85r[1;12H check_dup(cmd);[85;118H[K[85;118H374,27[8C93%[1;27H[1;84r[1;1H[L[1;85r[1;12H [34m//this will check for i/o redirection[m[85;118H[K[85;118H373,29[8C93%[1;29H[1;84r[1;1H[L[1;85r[1;8H [46m{[10;9H}[m[85;118H[K[85;118H372,9[9C92%[1;9H[1;84r[1;1H[L[1;85r[1;8H [33melse[m [33mif[m[46m([mpid == [31m0[m[46m)[m[2;9H{[11;9H}[85;118H[K[85;118H371,25[8C92%[1;25H[1;84r[1;1H[L[1;85r[1;8H }[2;16H([8C)[85;118H[K[85;118H370,9[9C92%[1;9H[1;84r[1;1H[L[1;85r[1;12H exit([31m1[m);[85;118H[K[85;118H369,20[8C92%[1;20H[1;84r[1;1H[L[1;85r[1;12H perror([31m"fork fail"[m);[85;118H[K[85;118H368,29[8C91%[1;29H[1;84r[1;1H[L[1;85r[1;8H [46m{[4;9H}[m[85;118H[K[85;118H367,9[9C91%[1;9H[1;84r[1;1H[L[1;85r[1;8H [33mif[m[46m([mpid == -[31m1[m[46m)[m[2;9H{[5;9H}[85;118H[K[85;118H366,21[8C91%[1;21H[1;84r[1;1H[L[1;85r[1;8H [32mint[m pid = fork();[2;11H([9C)[85;118H[K[85;118H365,25[8C91%[1;25H[1;84r[1;1H[L[1;85r[1;1H[34m//        cerr<<"no pipe"<<endl;[m[85;118H[K[85;118H364,29[8C90%[1;29H[1;84r[1;1H[L[1;85r[1;8H status = [31m1[m;[85;118H[K[85;118H363,19[8C90%[1;19H[1;84r[1;1H[L[1;85r[1;4H [46m{[29;5H}[m[85;118H[K[85;118H362,5[9C90%[1;5H[1;84r[1;1H[L[1;85r[1;4H [33melse[m
    {[30;5H}[85;118H[K[85;118H361,8[9C90%[1;8H[1;84r[1;1H[L[1;85r[1;4H [34m//all other regular commands will be ran through this loop[m[85;118H[K[85;118H360,29[8C89%[1;29H[1;84r[1;1H[L[1;85r[1;4H }[85;118H[K[85;118H359,5[9C89%[1;5H[1;84r[1;1H[L[1;85r[1;8H find_pipes(cmd);[85;118H[K[85;118H358,24[8C89%[1;24H[1;84r[1;1H[L[1;85r[1;8H [34m//now i have to separate the arguments in the pipe[m[85;118H[K[85;118H357,29[8C89%[1;29H[1;84r[1;1H[L[1;85r[1;1H[34m//        cerr<<"FOUND PIPE"<<endl;[m[85;118H[K[85;118H356,29[8C88%[1;29H[1;84r[1;1H[L[1;85r[1;4H [46m{[5;5H}[m[85;118H[K[85;118H355,5[9C88%[1;5H[1;84r[1;1H[L[1;85r[1;4H [33mif[m[46m([m pipes(cmd) == [31mtrue[m [46m)[m
    {[6;5H}[85;118H[K[85;118H354,28[8C88%[1;28H[1;84r[1;1H[L[1;85r[1;4H [34m//then we wil check to pipes and execute i/o redirection and piping within this loop[m[2;7H([20C)[85;118H[K[85;118H353,29[8C88%[1;29H[1;84r[1;1H[L[1;85r[1;4H [34m//this will run if there are <,>,>> in the command[m[85;118H[K[85;118H352,29[8C87%[1;29H[1;84r[1;1H[L[1;85r[1;4H [32mint[m status;[85;118H[K[85;118H351,15[8C87%[1;15H[1;84r[1;1H[L[1;85r[1;4H cmd[i] = [35m'\0'[m;[85;118H[K[85;118H350,18[8C87%[1;18H[1;84r[1;1H[L[1;85r[1;4H }[85;118H[K[85;118H349,5[9C87%[1;5H[1;84r[1;1H[L[1;85r[1;8H i++;[85;118H[K[85;118H348,12[8C86%[1;12H[1;84r[1;1H[L[1;85r[1;8H strcpy(cmd[i], x );[85;118H[K[85;118H347,27[8C86%[1;27H[1;84r[1;1H[L[1;85r[1;8H cmd[i] = [33mnew[m [32mchar[m[word.size()+[31m1[m];[85;118H[K[85;118H346,29[8C86%[1;29H[1;84r[1;1H[L[1;85r[1;8H [32mconst[m [32mchar[m *x = word.c_str();[85;118H[K[85;118H345,29[8C86%[1;29H[1;84r[1;1H[L[1;85r[1;4H [46m{[6;5H}[m[85;118H[K[85;118H344,5[9C85%[1;5H[1;84r[1;1H[L[1;85r[1;4H [33mwhile[m[46m([miss >>word[46m)[m
    {[7;5H}[85;118H[K[85;118H343,21[8C85%[1;21H[1;84r[1;1H[L[1;85r[1;4H [32mint[m i=[31m0[m;[2;10H([10C)[85;118H[K[85;118H342,12[8C85%[1;12H[1;84r[1;1H[L[1;85r[1;4H istringstream iss(c);[85;118H[K[85;118H341,25[8C85%[1;25H[1;84r[1;1H[L[1;85r[1;1H[34m//    cerr<<word<<endl;[m[85;118H[K[85;118H340,23[8C84%[1;23H[1;84r[1;1H[L[1;85r[1;4H string word = string(c);[85;118H[K[85;118H339,28[8C84%[1;28H[1;84r[1;1H[L[1;85r[85;118H[K[85;118H338,0-1[7C84%[1;1H[1;84r[1;1H[L[1;85r[1;4H [32mchar[m **cmd = [33mnew[m [32mchar[m*[count+[31m1[m];[85;118H[K[85;118H337,29[8C84%[1;29H[1;84r[1;1H[L[1;85r[1;1H[46m{[65;1H}[m[85;118H[K[85;118H336,1[9C83%[1;1H[1;84r[1;1H[L[1;85r[1;1H[32mint[m  run_exec( [32mchar[m *c, [32mint[m count)
{[66;1H}[85;118H[K[85;118H335,29[8C83%[1;29H[1;84r[1;1H[L[1;85r[1;1H[34m//this fxm will run the commands passed in as char *c[m[85;118H[K[85;118H334,29[8C83%[1;29H[1;84r[1;1H[L[1;85r[1;1H}[85;118H[K[85;118H333,1[9C83%[1;1H[1;84r[1;1H[L[1;85r[1;4H [33mreturn[m v;[85;118H[K[85;118H332,13[8C82%[1;13H[1;84r[1;1H[L[1;85r[1;4H [34m//c[i] = '\0';[m[85;118H[K[85;118H331,18[8C82%[1;18H[1;84r[1;1H[L[1;85r[1;4H }[85;118H[K[85;118H330,5[9C82%[1;5H[1;84r[1;1H[L[1;85r[1;12H i++;[85;118H[K[85;118H329,16[8C82%[1;16H[1;84r[1;1H[L[1;85r[1;8H [33melse[m[85;118H[K[85;118H328,12[8C81%[1;12H[1;84r[1;1H[L[1;85r[1;12H }[85;118H[K[85;118H327,13[8C81%[1;13H[1;84r[1;1H[L[1;85r[1;16H i = i+[31m2[m;[85;118H[K[85;118H326,24[8C81%[1;24H[1;84r[1;1H[L[1;85r[1;16H c[i+[31m1[m] = [31m' '[m;[85;118H[K[85;118H325,29[8C81%[1;29H[1;84r[1;1H[L[1;85r[1;16H c[i] = [31m'&'[m;[85;118H[K[85;118H324,27[8C80%[1;27H[1;84r[1;1H[L[1;85r[1;16H v.push_back([31m2[m);[85;118H[K[85;118H323,29[8C80%[1;29H[1;84r[1;1H[L[1;85r[1;12H [46m{[6;13H}[m[85;118H[K[85;118H322,13[8C80%[1;13H[1;84r[1;1H[L[1;85r[1;8H [33mif[m ((c[i] ==[31m'|'[m)&&(c[46m[[mi+[31m1[m[46m][m ==[31m'|'[m))[2;13H{[7;13H}[85;118H[K[85;118H321,29[8C80%[1;29H[1;84r[1;1H[L[1;85r[1;12H }[2;29H[[3C][85;118H[K[85;118H320,13[8C79%[1;13H[1;84r[1;1H[L[1;85r[1;16H i = i+[31m2[m;[85;118H[K[85;118H319,24[8C79%[1;24H[1;84r[1;1H[L[1;85r[1;16H c[i+[31m1[m] = [31m' '[m;[85;118H[K[85;118H318,29[8C79%[1;29H[1;84r[1;1H[L[1;85r[1;16H v.push_back([31m1[m);[85;118H[K[85;118H317,29[8C79%[1;29H[1;84r[1;1H[L[1;85r[1;12H [46m{[5;13H}[m[85;118H[K[85;118H316,13[8C78%[1;13H[1;84r[1;1H[L[1;85r[1;8H [33mif[m ((c[i] ==[31m'&'[m)&&(c[46m[[mi+[31m1[m[46m][m==[31m'&'[m))[2;13H{[6;13H}[85;118H[K[85;118H315,29[8C78%[1;29H[1;84r[1;1H[L[1;85r[1;4H [46m{[m[2;29H[[3C][17;5H[46m}[m[85;118H[K[85;118H314,5[9C78%[1;5H[1;84r[1;1H[L[1;85r[1;4H [33mwhile[m[46m([mc[i] != [35m'\0'[m[46m)[m
    {[18;5H}[85;118H[K[85;118H313,23[8C78%[1;23H[1;84r[1;1H[L[1;85r[1;4H [32mint[m i=[31m0[m;[2;10H([12C)[85;118H[K[85;118H312,12[8C77%[1;12H[1;84r[1;1H[L[1;85r[1;4H vector<[32mint[m> v;[85;118H[K[85;118H311,18[8C77%[1;18H[1;84r[1;1H[L[1;85r[1;1H[46m{[24;1H}[m[85;118H[K[85;118H310,1[9C77%[1;1H[1;84r[1;1H[L[1;85r[1;1Hvector<[32mint[m> cmds_order([32mchar[m *c)
{[25;1H}[85;118H[K[85;118H309,29[8C77%[1;29H[1;84r[1;1H[L[1;85r[85;118H[K[85;118H308,0-1[7C76%[1;1H[1;84r[1;1H[L[1;85r[1;1H[34m//this fxn counts the number of & and | and pushes them back in order[m[85;118H[K[85;118H307,29[8C76%[1;29H[1;84r[1;1H[L[1;85r[1;1H}[85;118H[K[85;118H306,1[9C76%[1;1H[1;84r[1;1H[L[1;85r[1;4H [33mreturn[m count+[31m1[m;[85;118H[K[85;118H305,19[8C76%[1;19H[1;84r[1;1H[L[1;85r[1;4H }[85;118H[K[85;118H304,5[9C75%[1;5H[1;84r[1;1H[L[1;85r[1;8H i++;[85;118H[K[85;118H303,12[8C75%[1;12H[1;84r[1;1H[L[1;85r[1;8H }[85;118H[K[85;118H302,9[9C75%[1;9H[1;84r[1;1H[L[1;85r[1;12H count++;[85;118H[K[85;118H301,20[8C75%[1;20H[1;84r[1;1H[L[1;85r[1;8H [46m{[3;9H}[m[85;118H[K[85;118H300,9[9C74%[1;9H[1;84r[1;1H[L[1;85r[1;8H [33mif[m[46m([mc[i] == [31m' '[m[46m)[m[2;9H{[4;9H}[85;118H[K[85;118H299,23[8C74%[1;23H[1;84r[1;1H[L[1;85r[1;4H [46m{[m[2;11H([11C)[7;5H[46m}[m[85;118H[K[85;118H298,5[9C74%[1;5H[1;84r[1;1H[L[1;85r[1;4H [33mwhile[m[46m([mc[i] != [35m'\0'[m[46m)[m
    {[8;5H}[85;118H[K[85;118H297,23[8C74%[1;23H[1;84r[1;1H[L[1;85r[1;4H [32mint[m i=[31m0[m;[2;10H([12C)[85;118H[K[85;118H296,12[8C73%[1;12H[1;84r[1;1H[L[1;85r[1;4H [32mint[m count =[31m0[m;[85;118H[K[85;118H295,17[8C73%[1;17H[1;84r[1;1H[L[1;85r[1;1H[46m{[13;1H}[m[85;118H[K[85;118H294,1[9C73%[1;1H[1;84r[1;1H[L[1;85r[1;1H[32mint[m num_tokens[46m([m [32mchar[m *c[46m)[m
{[14;1H}[85;118H[K[85;118H293,24[8C73%[1;24H[1;84r[1;1H[L[1;85r[2;15H([8C)[85;118H[K[85;118H292,0-1[7C72%[1;1H[1;84r[1;1H[L[1;85r[1;1H}[85;118H[K[85;118H291,1[9C72%[1;1H[1;84r[1;1H[L[1;85r[1;4H }[85;118H[K[85;118H290,5[9C72%[1;5H[1;84r[1;1H[L[1;85r[1;8H i++;[85;118H[K[85;118H289,12[8C72%[1;12H[1;84r[1;1H[L[1;85r[1;8H }[85;118H[K[85;118H288,9[9C71%[1;9H[1;84r[1;1H[L[1;85r[1;12H }[85;118H[K[85;118H287,13[8C71%[1;13H[1;84r[1;1H[L[1;85r[1;16H s.insert(i , [31m" "[m);[85;118H[K[85;118H286,29[8C71%[1;29H[1;84r[1;1H[L[1;85r[1;16H s.insert(i+[31m1[m , [31m" "[m);[85;118H[K[85;118H285,29[8C71%[1;29H[1;84r[1;1H[L[1;85r[1;12H [46m{[4;13H}[m[85;118H[K[85;118H284,13[8C70%[1;13H[1;84r[1;1H[L[1;85r[1;12H [33melse[m[2;13H{[5;13H}[85;118H[K[85;118H283,16[8C70%[1;16H[1;84r[1;1H[L[1;85r[1;12H }[85;118H[K[85;118H282,13[8C70%[1;13H[1;84r[1;1H[L[1;85r[1;16H s.insert(i , [31m" "[m);[85;118H[K[85;118H281,29[8C70%[1;29H[1;84r[1;1H[L[1;85r[1;16H s.insert(i+[31m2[m , [31m" "[m);[85;118H[K[85;118H280,29[8C69%[1;29H[1;84r[1;1H[L[1;85r[1;12H [46m{[4;13H}[m[85;118H[K[85;118H279,13[8C69%[1;13H[1;84r[1;1H[L[1;85r[1;12H [33mif[m (s[i+[31m1[m] == [31m'>'[m)[2;13H{[5;13H}[85;118H[K[85;118H278,29[8C69%[1;29H[1;84r[1;1H[L[1;85r[1;8H [46m{[12;9H}[m[85;118H[K[85;118H277,9[9C69%[1;9H[1;84r[1;1H[L[1;85r[1;8H [33melse[m [33mif[m [46m([ms[i] == [31m'>'[m[46m)[m[2;9H{[13;9H}[85;118H[K[85;118H276,29[8C68%[1;29H[1;84r[1;1H[L[1;85r[1;8H }[2;17H([11C)[85;118H[K[85;118H275,9[9C68%[1;9H[1;84r[1;1H[L[1;85r[85;118H[K[85;118H274,0-1[7C68%[1;1H[1;84r[1;1H[L[1;85r[1;12H s.insert[46m([mi , [31m" "[m[46m)[m;[85;118H[K[85;118H273,29[8C68%[1;29H[1;84r[1;1H[L[1;85r[1;12H s.insert(i+[31m1[m , [31m" "[m);[2;21H([7C)[85;118H[K[85;118H272,29[8C67%[1;29H[1;84r[1;1H[L[1;85r[1;8H [46m{[5;9H}[m[85;118H[K[85;118H271,9[9C67%[1;9H[1;84r[1;1H[L[1;85r[1;8H [33melse[m [33mif[m [46m([ms[i] == [31m'|'[m[46m)[m[2;9H{[6;9H}[85;118H[K[85;118H270,29[8C67%[1;29H[1;84r[1;1H[L[1;85r[1;8H }[2;17H([11C)[85;118H[K[85;118H269,9[9C67%[1;9H[1;84r[1;1H[L[1;85r[1;12H s.insert[46m([mi , [31m" "[m[46m)[m;[85;118H[K[85;118H268,29[8C66%[1;29H[1;84r[1;1H[L[1;85r[1;12H s.insert(i+[31m1[m , [31m" "[m);[2;21H([7C)[85;118H[K[85;118H267,29[8C66%[1;29H[1;84r[1;1H[L[1;85r[1;8H [46m{[4;9H}[m[85;118H[K[85;118H266,9[9C66%[1;9H[1;84r[1;1H[L[1;85r[1;8H [33mif[m [46m([ms[i] == [31m'<'[m[46m)[m[2;9H{[5;9H}[85;118H[K[85;118H265,24[8C66%[1;24H[1;84r[1;1H[L[1;85r[1;4H [46m{[m[2;12H([11C)[27;5H[46m}[m[85;118H[K[85;118H264,5[9C65%[1;5H[1;84r[1;1H[L[1;85r[1;4H [33mwhile[m [46m([m i < size  [46m)[m
    {[28;5H}[85;118H[K[85;118H263,23[8C65%[1;23H[1;84r[1;1H[L[1;85r[1;4H [32mint[m i=[31m0[m;[2;11H([11C)[85;118H[K[85;118H262,12[8C65%[1;12H[1;84r[1;1H[L[1;85r[1;4H [32mint[m size = s.size();[85;118H[K[85;118H261,24[8C65%[1;24H[1;84r[1;1H[L[1;85r[1;1H[46m{[32;1H}[m[85;118H[K[85;118H260,1[9C64%[1;1H[1;84r[1;1H[L[1;85r[1;1H[32mvoid[m check_spaces[46m([mstring &s[46m)[m
{[33;1H}[85;118H[K[85;118H259,28[8C64%[1;28H[1;84r[1;1H[L[1;85r[2;18H([9C)[85;118H[K[85;118H258,0-1[7C64%[1;1H[1;84r[1;1H[L[1;85r[1;1H}[85;118H[K[85;118H257,1[9C64%[1;1H[1;84r[1;1H[L[1;85r[1;1H[34m//    return status;[m[85;118H[K[85;118H256,20[8C63%[1;20H[1;84r[1;1H[L[1;85r[85;118H[K[85;118H255,0-1[7C63%[1;1H[1;84r[1;1H[L[1;85r[85;118H[K[85;118H254,0-1[7C63%[1;1H[1;84r[1;1H[L[1;85r[1;4H [33mdelete[m[] b;[85;118H[K[85;118H253,15[8C63%[1;15H[1;84r[1;1H[L[1;85r[1;1H[34m    }*/[m[85;118H[K[85;118H252,7[9C62%[1;7H[1;84r[1;1H[L[1;85r[1;1H[34m        ff++;[m[85;118H[K[85;118H251,13[8C62%[1;13H[1;84r[1;1H[L[1;85r[1;1H[34m        delete[] b[ff];[m[85;118H[K[85;118H250,23[8C62%[1;23H[1;84r[1;1H[L[1;85r[1;1H[34m    [m[34m[46m{[4;5H}[m[85;118H[K[85;118H249,5[9C62%[1;5H[1;84r[1;1H[L[1;85r[1;1H[34m    while[m[34m[46m([m[34m ff < 100[m[34m[46m)[m[2;5H[34m{[5;5H}[m[85;118H[K[85;118H248,20[8C61%[1;20H[1;84r[1;1H[L[1;85r[1;1H[34m/*    int ff=0;[2;10H([9C)[m[85;118H[K[85;118H247,15[8C61%[1;15H[1;84r[1;1H[L[1;85r[1;4H [33mdelete[m[] a;[85;118H[K[85;118H246,15[8C61%[1;15H[1;84r[1;1H[L[1;85r[1;1H[34m    }*/[m[85;118H[K[85;118H245,7[9C61%[1;7H[1;84r[1;1H[L[1;85r[1;1H[34m        f++;[m[85;118H[K[85;118H244,12[8C60%[1;12H[1;84r[1;1H[L[1;85r[1;1H[34m        delete[] a[f];[m[85;118H[K[85;118H243,22[8C60%[1;22H[1;84r[1;1H[L[1;85r[1;1H[34m    [m[34m[46m{[4;5H}[m[85;118H[K[85;118H242,5[9C60%[1;5H[1;84r[1;1H[L[1;85r[1;1H[34m    while[m[34m[46m([m[34m f < 100[m[34m[46m)[m[2;5H[34m{[5;5H}[m[85;118H[K[85;118H241,19[8C60%[1;19H[1;84r[1;1H[L[1;85r[1;1H[34m/*    int f=0;[2;10H([8C)[m[85;118H[K[85;118H240,14[8C59%[1;14H[1;84r[1;1H[L[1;85r[85;118H[K[85;118H239,0-1[7C59%[1;1H[1;84r[1;1H[L[1;85r[85;118H[K[85;118H238,0-1[7C59%[1;1H[1;84r[1;1H[L[1;85r[1;4H }[85;118H[K[85;118H237,5[9C59%[1;5H[1;84r[1;1H[L[1;85r[1;8H }[85;118H[K[85;118H236,9[9C58%[1;9H[1;84r[1;1H[L[1;85r[1;12H exit([31m1[m);[85;118H[K[85;118H235,20[8C58%[1;20H[1;84r[1;1H[L[1;85r[1;12H perror([31m"error in wait"[m);[85;118H[K[85;118H234,29[8C58%[1;29H[1;84r[1;1H[L[1;85r[1;8H [46m{[4;9H}[m[85;118H[K[85;118H233,9[9C58%[1;9H[1;84r[1;1H[L[1;85r[1;8H [33mif[m (wait(&status) == -[31m1[m)[2;9H{[5;9H}[85;118H[K[85;118H232,29[8C57%[1;29H[1;84r[1;1H[L[1;85r[1;4H [46m{[7;5H}[m[85;118H[K[85;118H231,5[9C57%[1;5H[1;84r[1;1H[L[1;85r[1;4H [33melse[m
    {[8;5H}[85;118H[K[85;118H230,8[9C57%[1;8H[1;84r[1;1H[L[1;85r[1;4H }[85;118H[K[85;118H229,5[9C57%[1;5H[1;84r[1;1H[L[1;85r[1;8H }[85;118H[K[85;118H228,9[9C56%[1;9H[1;84r[1;1H[L[1;85r[1;12H exit([31m1[m);[85;118H[K[85;118H227,20[8C56%[1;20H[1;84r[1;1H[L[1;85r[1;12H perror([31m"error in execvp"[m);[85;118H[K[85;118H226,29[8C56%[1;29H[1;84r[1;1H[L[1;85r[1;8H [46m{[4;9H}[m[85;118H[K[85;118H225,9[9C56%[1;9H[1;84r[1;1H[L[1;85r[1;8H [33mif[m (execvp(c[[31m0[m], c) !=[31m0[m )[2;9H{[5;9H}[85;118H[K[85;118H224,29[8C55%[1;29H[1;84r[1;1H[L[1;85r[85;118H[K[85;118H223,0-1[7C55%[1;1H[1;84r[1;1H[L[1;85r[1;8H check_dup(c);[85;118H[K[85;118H222,21[8C55%[1;21H[1;84r[1;1H[L[1;85r[1;8H [34m//this will check for i/o redirection[m[85;118H[K[85;118H221,29[8C55%[1;29H[1;84r[1;1H[L[1;85r[1;4H [46m{[10;5H}[m[85;118H[K[85;118H220,5[9C54%[1;5H[1;84r[1;1H[L[1;85r[1;4H [33melse[m [33mif[m[46m([mpid == [31m0[m[46m)[m
    {[11;5H}[85;118H[K[85;118H219,21[8C54%[1;21H[1;84r[1;1H[L[1;85r[1;4H }[2;12H([8C)[85;118H[K[85;118H218,5[9C54%[1;5H[1;84r[1;1H[L[1;85r[1;8H exit([31m1[m);[85;118H[K[85;118H217,16[8C54%[1;16H[1;84r[1;1H[L[1;85r[1;8H perror([31m"fork fail"[m);[85;118H[K[85;118H216,28[8C53%[1;28H[1;84r[1;1H[L[1;85r[1;4H [46m{[4;5H}[m[85;118H[K[85;118H215,5[9C53%[1;5H[1;84r[1;1H[L[1;85r[1;4H [33mif[m[46m([mpid == -[31m1[m[46m)[m
    {[5;5H}[85;118H[K[85;118H214,17[8C53%[1;17H[1;84r[1;1H[L[1;85r[1;4H [32mint[m pid = fork();[2;7H([9C)[85;118H[K[85;118H213,21[8C53%[1;21H[1;84r[1;1H[L[1;85r[85;118H[K[85;118H212,0-1[7C52%[1;1H[1;84r[1;1H[L[1;85r[1;4H [34m//if there are no more pipes to go through then the find_pipes fxm wil end[m[85;118H[K[85;118H211,29[8C52%[1;29H[1;84r[1;1H[L[1;85r[85;118H[K[85;118H210,8[9C52%[1;8H[1;84r[1;1H[L[1;85r[1;4H }[85;118H[K[85;118H209,5[9C52%[1;5H[1;84r[1;1H[L[1;85r[1;1H[34m*/[m[85;118H[K[85;118H208,2[9C51%[1;2H[1;84r[1;1H[L[1;85r[1;1H[34m    find_pipes(b);[m[85;118H[K[85;118H207,18[8C51%[1;18H[1;84r[1;1H[L[1;85r[1;1H[34m       //}[m[85;118H[K[85;118H206,10[8C51%[1;10H[1;84r[1;1H[L[1;85r[1;1H[34m            }[m[85;118H[K[85;118H205,13[8C51%[1;13H[1;84r[1;1H[L[1;85r[1;1H[34m                exit(1);[m[85;118H[K[85;118H204,24[8C50%[1;24H[1;84r[1;1H[L[1;85r[1;1H[34m                perror("error in wait");[m[85;118H[K[85;118H203,29[8C50%[1;29H[1;84r[1;1H[L[1;85r[1;1H[34m            [m[34m[46m{[4;13H}[m[85;118H[K[85;118H202,13[8C50%[1;13H[1;84r[1;1H[L[1;85r[1;1H[34m            if (wait[m[34m[46m([m[34m&status[m[34m[46m)[m[34m == -1)[2;13H{[5;13H}[m[85;118H[K[85;118H201,29[8C50%[1;29H[1;84r[1;1H[L[1;85r[1;1H[34m        //[m[34m[46m{[m[2;21H[34m([7C)[m[7;10H[34m[46m}[m[85;118H[K[85;118H200,11[8C49%[1;11H[1;84r[1;1H[L[1;85r[1;1H[34m        //else[2;11H{[8;10H}[m[85;118H[K[85;118H199,14[8C49%[1;14H[1;84r[1;1H[L[1;85r[1;1H[34m        }[m[85;118H[K[85;118H198,9[9C49%[1;9H[1;84r[1;1H[L[1;85r[1;1H[34m            }[m[85;118H[K[85;118H197,13[8C49%[1;13H[1;84r[1;1H[L[1;85r[1;1H[34m                exit(1);[m[85;118H[K[85;118H196,24[8C48%[1;24H[1;84r[1;1H[L[1;85r[1;1H[34m                perror("error in execvp");[m[85;118H[K[85;118H195,29[8C48%[1;29H[1;84r[1;1H[L[1;85r[1;1H[34m            [m[34m[46m{[4;13H}[m[85;118H[K[85;118H194,13[8C48%[1;13H[1;84r[1;1H[L[1;85r[1;1H[34m            if (execvp(a[0], a) !=0 )[2;13H{[5;13H}[m[85;118H[K[85;118H193,29[8C48%[1;29H[1;84r[1;1H[L[1;85r[85;118H[K[85;118H192,0-1[7C47%[1;1H[1;84r[1;1H[L[1;85r[1;1H[34m            check_dup(a);[m[85;118H[K[85;118H191,25[8C47%[1;25H[1;84r[1;1H[L[1;85r[1;1H[34m            //this will check for i/o redirection[m[85;118H[K[85;118H190,29[8C47%[1;29H[1;84r[1;1H[L[1;85r[1;1H[34m        [m[34m[46m{[10;9H}[m[85;118H[K[85;118H189,9[9C47%[1;9H[1;84r[1;1H[L[1;85r[1;1H[34m        else if[m[34m[46m([m[34mpid == 0[m[34m[46m)[m[2;9H[34m{[11;9H}[m[85;118H[K[85;118H188,25[8C46%[1;25H[1;84r[1;1H[L[1;85r[1;1H[34m        }[2;16H([8C)[m[85;118H[K[85;118H187,9[9C46%[1;9H[1;84r[1;1H[L[1;85r[1;1H[34m            exit(1);[m[85;118H[K[85;118H186,20[8C46%[1;20H[1;84r[1;1H[L[1;85r[1;1H[34m            perror("fork fail");[m[85;118H[K[85;118H185,29[8C46%[1;29H[1;84r[1;1H[L[1;85r[1;1H[34m        [m[34m[46m{[4;9H}[m[85;118H[K[85;118H184,9[9C45%[1;9H[1;84r[1;1H[L[1;85r[1;1H[34m        if[m[34m[46m([m[34mpid == -1[m[34m[46m)[m[2;9H[34m{[5;9H}[m[85;118H[K[85;118H183,21[8C45%[1;21H[1;84r[1;1H[L[1;85r[1;1H[34m        int pid = fork();[2;11H([9C)[m[85;118H[K[85;118H182,25[8C45%[1;25H[1;84r[1;1H[L[1;85r[1;1H[34m        status = 1;[m[85;118H[K[85;118H181,19[8C45%[1;19H[1;84r[1;1H[L[1;85r[1;1H[34m/*       [m[85;118H[K[85;118H180,9[9C44%[1;9H[1;84r[1;1H[L[1;85r[1;8H dup2(savestdin, [31m0[m);[85;118H[K[85;118H179,27[8C44%[1;27H[1;84r[1;1H[L[1;85r[1;8H find_pipes(b);[85;118H[K[85;118H178,22[8C44%[1;22H[1;84r[1;1H[L[1;85r[1;8H [34m//we need to check that the rest of c does not have any pipes[m[85;118H[K[85;118H177,29[8C44%[1;29H[1;84r[1;1H[L[1;85r[85;118H[K[85;118H176,0-1[7C43%[1;1H[1;84r[1;1H[L[1;85r[1;8H }[85;118H[K[85;118H175,9[9C43%[1;9H[1;84r[1;1H[L[1;85r[1;12H exit([31m1[m);[85;118H[K[85;118H174,20[8C43%[1;20H[1;84r[1;1H[L[1;85r[1;12H perror([31m"error in wait()"[m);[85;118H[K[85;118H173,29[8C43%[1;29H[1;84r[1;1H[L[1;85r[1;8H [46m{[4;9H}[m[85;118H[K[85;118H172,9[9C42%[1;9H[1;84r[1;1H[L[1;85r[1;8H [33mif[m (wait(&status) == -[31m1[m)[2;9H{[5;9H}[85;118H[K[85;118H171,29[8C42%[1;29H[1;84r[1;1H[L[1;85r[1;8H }[85;118H[K[85;118H170,9[9C42%[1;9H[1;84r[1;1H[L[1;85r[1;12H exit([31m1[m);[85;118H[K[85;118H169,20[8C42%[1;20H[1;84r[1;1H[L[1;85r[1;12H perror([31m"error with close"[m);[85;118H[K[85;118H168,29[8C41%[1;29H[1;84r[1;1H[L[1;85r[1;8H [46m{[4;9H}[m[85;118H[K[85;118H167,9[9C41%[1;9H[1;84r[1;1H[L[1;85r[1;8H [33mif[m( close(fd[[31m1[m]) == -[31m1[m)[2;9H{[5;9H}[85;118H[K[85;118H166,29[8C41%[1;29H[1;84r[1;1H[L[1;85r[1;8H }[85;118H[K[85;118H165,9[9C41%[1;9H[1;84r[1;1H[L[1;85r[1;12H exit([31m1[m);[85;118H[K[85;118H164,20[8C40%[1;20H[1;84r[1;1H[L[1;85r[1;12H perror([31m"error with dup2"[m);[85;118H[K[85;118H163,29[8C40%[1;29H[1;84r[1;1H[L[1;85r[1;8H [46m{[4;9H}[m[85;118H[K[85;118H162,9[9C40%[1;9H[1;84r[1;1H[L[1;85r[1;8H [33mif[m( dup2(fd[[31m0[m],[31m0[m) == -[31m1[m)[2;9H{[5;9H}[85;118H[K[85;118H161,29[8C40%[1;29H[1;84r[1;1H[L[1;85r[1;8H }[85;118H[K[85;118H160,9[9C39%[1;9H[1;84r[1;1H[L[1;85r[1;12H exit([31m1[m);[85;118H[K[85;118H159,20[8C39%[1;20H[1;84r[1;1H[L[1;85r[1;12H perror([31m"error with dup"[m);[85;118H[K[85;118H158,29[8C39%[1;29H[1;84r[1;1H[L[1;85r[1;8H [46m{[4;9H}[m[85;118H[K[85;118H157,9[9C39%[1;9H[1;84r[1;1H[L[1;85r[1;8H [33mif[m[46m([m savestdin == -[31m1[m[46m)[m[2;9H{[5;9H}[85;118H[K[85;118H156,28[8C38%[1;28H[1;84r[1;1H[L[1;85r[1;8H savestdin = dup([31m0[m);[2;11H([16C)[85;118H[K[85;118H155,27[8C38%[1;27H[1;84r[1;1H[L[1;85r[1;8H [32mint[m savestdin;[85;118H[K[85;118H154,22[8C38%[1;22H[1;84r[1;1H[L[1;85r[85;118H[K[85;118H153,8[9C38%[1;8H[1;84r[1;1H[L[1;85r[1;8H }[85;118H[K[85;118H152,9[9C37%[1;9H[1;84r[1;1H[L[1;85r[1;12H exit([31m1[m);[85;118H[K[85;118H151,20[8C37%[1;20H[1;84r[1;1H[L[1;85r[1;12H }[85;118H[K[85;118H150,13[8C37%[1;13H[1;84r[1;1H[L[1;85r[1;16H exit([31m1[m);[85;118H[K[85;118H149,24[8C37%[1;24H[1;84r[1;1H[L[1;85r[1;16H perror([31m"error in execvp"[m);[85;118H[K[85;118H148,29[8C36%[1;29H[1;84r[1;1H[L[1;85r[1;12H [46m{[4;13H}[m[85;118H[K[85;118H147,13[8C36%[1;13H[1;84r[1;1H[L[1;85r[1;12H [33mif[m( execvp( a[[31m0[m], a) == -[31m1[m)[2;13H{[5;13H}[85;118H[K[85;118H146,29[8C36%[1;29H[1;84r[1;1H[L[1;85r[1;12H check_dup(a);[85;118H[K[85;118H145,25[8C36%[1;25H[1;84r[1;1H[L[1;85r[1;12H }[85;118H[K[85;118H144,13[8C35%[1;13H[1;84r[1;1H[L[1;85r[1;16H exit([31m1[m);[85;118H[K[85;118H143,24[8C35%[1;24H[1;84r[1;1H[L[1;85r[1;16H perror([31m"error with close"[m);[85;118H[K[85;118H142,29[8C35%[1;29H[1;84r[1;1H[L[1;85r[1;12H [46m{[4;13H}[m[85;118H[K[85;118H141,13[8C35%[1;13H[1;84r[1;1H[L[1;85r[1;12H [33mif[m( close(fd[[31m0[m]) == -[31m1[m)[2;13H{[5;13H}[85;118H[K[85;118H140,29[8C34%[1;29H[1;84r[1;1H[L[1;85r[1;12H }[85;118H[K[85;118H139,13[8C34%[1;13H[1;84r[1;1H[L[1;85r[1;16H exit([31m1[m);[85;118H[K[85;118H138,24[8C34%[1;24H[1;84r[1;1H[L[1;85r[1;16H perror([31m"error with dup2"[m);[85;118H[K[85;118H137,29[8C34%[1;29H[1;84r[1;1H[L[1;85r[1;12H [46m{[4;13H}[m[85;118H[K[85;118H136,13[8C33%[1;13H[1;84r[1;1H[L[1;85r[1;12H [33mif[m( dup2(fd[[31m1[m], [31m1[m) == -[31m1[m)[2;13H{[5;13H}[85;118H[K[85;118H135,29[8C33%[1;29H[1;84r[1;1H[L[1;85r[1;8H [46m{[19;9H}[m[85;118H[K[85;118H134,9[9C33%[1;9H[1;84r[1;1H[L[1;85r[1;8H [33melse[m [33mif[m[46m([mpid == [31m0[m[46m)[m[2;9H{[20;9H}[85;118H[K[85;118H133,25[8C33%[1;25H[1;84r[1;1H[L[1;85r[1;8H }[2;16H([8C)[85;118H[K[85;118H132,9[9C32%[1;9H[1;84r[1;1H[L[1;85r[1;12H exit([31m1[m);[85;118H[K[85;118H131,20[8C32%[1;20H[1;84r[1;1H[L[1;85r[1;12H perror([31m"fork fail"[m);[85;118H[K[85;118H130,29[8C32%[1;29H[1;84r[1;1H[L[1;85r[1;8H [46m{[4;9H}[m[85;118H[K[85;118H129,9[9C32%[1;9H[1;84r[1;1H[L[1;85r[1;8H [33mif[m[46m([m pid  == -[31m1[m[46m)[m[2;9H{[5;9H}[85;118H[K[85;118H128,23[8C31%[1;23H[1;84r[1;1H[L[1;85r[1;8H [32mint[m pid = fork();[2;11H([11C)[85;118H[K[85;118H127,25[8C31%[1;25H[1;84r[1;1H[L[1;85r[1;8H }[85;118H[K[85;118H126,9[9C31%[1;9H[1;84r[1;1H[L[1;85r[1;12H exit([31m1[m);[85;118H[K[85;118H125,20[8C31%[1;20H[1;84r[1;1H[L[1;85r[1;12H perror([31m"pipe fail"[m);[85;118H[K[85;118H124,29[8C30%[1;29H[1;84r[1;1H[L[1;85r[1;8H [46m{[4;9H}[m[85;118H[K[85;118H123,9[9C30%[1;9H[1;84r[1;1H[L[1;85r[1;8H [33mif[m[46m([mpipe(fd) == -[31m1[m [46m)[m[2;9H{[5;9H}[85;118H[K[85;118H122,27[8C30%[1;27H[1;84r[1;1H[L[1;85r[1;8H [32mint[m fd[[31m2[m];[2;11H([15C)[85;118H[K[85;118H121,18[8C30%[1;18H[1;84r[1;1H[L[1;85r[1;8H [34m//now i will execute the commands with piping[m[85;118H[K[85;118H120,29[8C29%[1;29H[1;84r[1;1H[L[1;85r[85;118H[K[85;118H119,0-1[7C29%[1;1H[1;84r[1;1H[L[1;85r[1;8H b[l] = [35m'\0'[m;[85;118H[K[85;118H118,20[8C29%[1;20H[1;84r[1;1H[L[1;85r[1;8H }[85;118H[K[85;118H117,9[9C29%[1;9H[1;84r[1;1H[L[1;85r[1;12H l++; k++;[85;118H[K[85;118H116,21[8C28%[1;21H[1;84r[1;1H[L[1;85r[1;12H b[l] = c[k];[85;118H[K[85;118H115,24[8C28%[1;24H[1;84r[1;1H[L[1;85r[1;8H [46m{[4;9H}[m[85;118H[K[85;118H114,9[9C28%[1;9H[1;84r[1;1H[L[1;85r[1;8H [33mwhile[m( c[k] != [35m'\0'[m)[2;9H{[5;9H}[85;118H[K[85;118H113,29[8C28%[1;29H[1;84r[1;1H[L[1;85r[1;8H [32mint[m l = [31m0[m;[85;118H[K[85;118H112,18[8C27%[1;18H[1;84r[1;1H[L[1;85r[1;8H [32mint[m k = pipe_index+[31m1[m;[85;118H[K[85;118H111,29[8C27%[1;29H[1;84r[1;1H[L[1;85r[1;8H a[j] = [35m'\0'[m;[85;118H[K[85;118H110,20[8C27%[1;20H[1;84r[1;1H[L[1;85r[1;8H }[85;118H[K[85;118H109,9[9C27%[1;9H[1;84r[1;1H[L[1;85r[1;12H j++;[85;118H[K[85;118H108,16[8C26%[1;16H[1;84r[1;1H[L[1;85r[1;12H a[j] = c[j];[85;118H[K[85;118H107,24[8C26%[1;24H[1;84r[1;1H[L[1;85r[1;8H [46m{[4;9H}[m[85;118H[K[85;118H106,9[9C26%[1;9H[1;84r[1;1H[L[1;85r[1;8H [33mwhile[m( j < pipe_index)[2;9H{[5;9H}[85;118H[K[85;118H105,29[8C26%[1;29H[1;84r[1;1H[L[1;85r[1;8H [32mint[m j = [31m0[m;[85;118H[K[85;118H104,18[8C25%[1;18H[1;84r[1;1H[L[1;85r[1;4H {[85;118H[K[85;118H103,5[9C25%[1;5H[1;84r[1;1H[L[1;85r[1;4H [33mif[m[46m([mpipe_index > [31m0[m[46m)[m[85;118H[K[85;118H102,22[8C25%[1;22H[1;84r[1;1H[L[1;85r[1;4H [32mchar[m **b = [33mnew[m [32mchar[m*[46m[[m[31m100[m[46m][m;[2;7H([14C)[85;118H[K[85;118H101,29[8C25%[1;29H[1;84r[1;1H[L[1;85r[1;4H [32mchar[m **a = [33mnew[m [32mchar[m*[46m[[m[31m100[m[46m][m;[2;25H[[3C][85;118H[K[85;118H100,29[8C24%[1;29H[1;84r[1;1H[L[1;85r[1;4H }[2;25H[[3C][85;118H[K[85;118H99,5[10C24%[1;5H[1;84r[1;1H[L[1;85r[1;8H i++;[85;118H[K[85;118H98,12[9C24%[1;12H[1;84r[1;1H[L[1;85r[1;8H }[85;118H[K[85;118H97,9[10C24%[1;9H[1;84r[1;1H[L[1;85r[1;12H [33mbreak[m;[85;118H[K[85;118H96,18[9C23%[1;18H[1;84r[1;1H[L[1;85r[1;12H pipe_index = i;[85;118H[K[85;118H95,27[9C23%[1;27H[1;84r[1;1H[L[1;85r[1;12H num_pipes++;[85;118H[K[85;118H94,24[9C23%[1;24H[1;84r[1;1H[L[1;85r[1;8H [46m{[5;9H}[m[85;118H[K[85;118H93,9[10C23%[1;9H[1;84r[1;1H[L[1;85r[1;8H [33mif[m( strcmp[46m([mc[i], [31m"|"[m[46m)[m == [31m0[m)[2;9H{[6;9H}[85;118H[K[85;118H92,29[9C22%[1;29H[1;84r[1;1H[L[1;85r[1;4H [46m{[m[2;19H([9C)[9;5H[46m}[m[85;118H[K[85;118H91,5[10C22%[1;5H[1;84r[1;1H[L[1;85r[1;4H [33mwhile[m[46m([m c[i] != [35m'\0'[m[46m)[m
    {[10;5H}[85;118H[K[85;118H90,24[9C22%[1;24H[1;84r[1;1H[L[1;85r[1;4H [32mint[m i=[31m0[m;[2;10H([13C)[85;118H[K[85;118H89,12[9C22%[1;12H[1;84r[1;1H[L[1;85r[1;4H [32mint[m pipe_index = [31m0[m;[85;118H[K[85;118H88,23[9C21%[1;23H[1;84r[1;1H[L[1;85r[1;4H [32mint[m num_pipes = [31m0[m;[85;118H[K[85;118H87,22[9C21%[1;22H[1;84r[1;1H[L[1;85r[1;4H [32mint[m status = [31m0[m;[85;118H[K[85;118H86,19[9C21%[1;19H[1;84r[1;1H[L[1;85r[1;1H{[85;118H[K[85;118H85,1[10C21%[1;1H[1;84r[1;1H[L[1;85r[1;1H[32mvoid[m find_pipes[46m([m[32mchar[m **c[46m)[m[85;118H[K[85;118H84,25[9C20%[1;25H[1;84r[1;1H[L[1;85r[2;16H([8C)[85;118H[K[85;118H83,0-1[8C20%[1;1H[1;84r[1;1H[L[1;85r[1;1H}[85;118H[K[85;118H82,1[10C20%[1;1H[1;84r[1;1H[L[1;85r[1;4H }[85;118H[K[85;118H81,5[10C20%[1;5H[1;84r[1;1H[L[1;85r[1;8H i++;[85;118H[K[85;118H80,12[9C19%[1;12H[1;84r[1;1H[L[1;85r[1;8H }[85;118H[K[85;118H79,9[10C19%[1;9H[1;84r[1;1H[L[1;85r[1;12H }[85;118H[K[85;118H78,13[9C19%[1;13H[1;84r[1;1H[L[1;85r[1;16H exit([31m1[m);[85;118H[K[85;118H77,24[9C19%[1;24H[1;84r[1;1H[L[1;85r[1;16H perror([31m"error in dup2"[m);[85;118H[K[85;118H76,29[9C18%[1;29H[1;84r[1;1H[L[1;85r[1;12H [46m{[4;13H}[m[85;118H[K[85;118H75,13[9C18%[1;13H[1;84r[1;1H[L[1;85r[1;12H [33mif[m( dup2(fd,[31m1[m) == -[31m1[m)[2;13H{[5;13H}[85;118H[K[85;118H74,29[9C18%[1;29H[1;84r[1;1H[L[1;85r[1;12H }[85;118H[K[85;118H73,13[9C18%[1;13H[1;84r[1;1H[L[1;85r[1;16H exit([31m1[m);[85;118H[K[85;118H72,24[9C17%[1;24H[1;84r[1;1H[L[1;85r[1;16H perror([31m"error in open"[m);[85;118H[K[85;118H71,29[9C17%[1;29H[1;84r[1;1H[L[1;85r[1;12H [46m{[4;13H}[m[85;118H[K[85;118H70,13[9C17%[1;13H[1;84r[1;1H[L[1;85r[1;12H [33mif[m[46m([m fd == -[31m1[m[46m)[m[2;13H{[5;13H}[85;118H[K[85;118H69,25[9C17%[1;25H[1;84r[1;1H[L[1;85r[1;12H fd = open(c[i+[31m1[m], O_APPEND | O_CREAT | O_WRONLY, [35m0[m[31m666[m);[2;15H([9C)[85;118H[K[85;118H68,29[9C16%[1;29H[1;84r[1;1H[L[1;85r[1;12H c[i] = [35m'\0'[m;[85;118H[K[85;118H67,24[9C16%[1;24H[1;84r[1;1H[L[1;85r[1;8H [46m{[14;9H}[m[85;118H[K[85;118H66,9[10C16%[1;9H{[14;9H}[85;119H7,24[2;24H[85;119H8,29[3;29H[4;15H[46m([9C)[m[85;119H9,25[4;25H[4;15H([9C)[5;13H[46m{[8;13H}[m[85;118H70,13[5;13H{[8;13H}[85;119H1,29[6;29H[85;119H2,24[7;24H[5;13H[46m{[8;13H}[m[85;119H3,13[8;13H[5;13H{[8;13H}[85;119H4,29[9;29H[10;13H[46m{[13;13H}[m[85;119H5,13[10;13H{[13;13H}[85;119H6,29[11;29H[85;119H7,24[12;24H[10;13H[46m{[13;13H}[m[85;119H8,13[13;13H[1;9H[46m{[m[10;13H{[13;13H}[14;9H[46m}[m[85;119H9,9 [14;9H[1;9H{[14;9H}[85;118H80,12[15;12H[85;119H1,5 [16;5H[85;119H2,1[17;1H[85;119H3,0-1[18;1H[19;16H[46m([8C)[m[85;119H4,25 [19;25H[19;16H([8C)[85;119H5,1 [20;1H[85;119H6,19[21;19H[85;119H7,22[22;22H[85;119H8,23[23;23H[85;119H9,12[24;12H[25;10H[46m([13C)[m[85;118H90,24[25;24H[25;10H([13C)
    [46m{[34;5H}[m[85;119H1,5 [26;5H{[27;19H[46m([9C)[m[34;5H}[85;119H2,29[27;29H[27;19H([9C)[28;9H[46m{[32;9H}[m[85;119H3,9 [28;9H{[32;9H}[85;119H4,24[29;24H[85;119H5,27[30;27H[85;119H6,18[31;18H[28;9H[46m{[32;9H}[m[85;119H7,9 [32;9H[28;9H{[32;9H}[85;119H8,12[33;12H[26;5H[46m{[34;5H}[m[85;119H9,5 [34;5H[26;5H{[34;5H}[35;25H[46m[[3C][m[85;118H100,29[35;29H[[3C][36;25H[46m[[3C][m[85;120H1[36;29H[[3C][37;7H[46m([14C)[m[85;120H2,22[37;22H[37;7H([14C)[85;120H3,5 [38;5H[85;120H4,18[39;18H[85;120H5,29[40;29H[41;9H[46m{[44;9H}[m[85;120H6,9 [41;9H{[44;9H}[85;120H7,24[42;24H[85;120H8,16[43;16H[41;9H[46m{[44;9H}[m[85;120H9,9 [44;9H[41;9H{[44;9H}[85;119H10,20[45;20H[85;120H1,29[46;29H[85;120H2,18[47;18H[85;120H3,29[48;29H[49;9H[46m{[52;9H}[m[85;120H4,9 [49;9H{[52;9H}[85;120H5,24[50;24H[85;120H6,21[51;21H[49;9H[46m{[52;9H}[m[85;120H7,9 [52;9H[49;9H{[52;9H}[85;120H8,20[53;20H[85;120H9,0-1[54;1H[85;119H20,29 [55;29H[85;119H19,0-1[54;1H[85;120H8,20 [53;20H[49;9H[46m{[52;9H}[m[85;120H7,9 [52;9H[49;9H{[52;9H}[85;120H6,21[51;21H[85;120H5,24[50;24H[49;9H[46m{[52;9H}[m[85;120H4,9 [49;9H{[52;9H}[85;120H3,29[48;29H[85;120H2,18[47;18H[85;120H1,29[46;29H[85;120H0,20[45;20H[41;9H[46m{[44;9H}[m[85;119H09,9 [44;9H[41;9H{[44;9H}[85;120H8,16[43;16H[85;120H7,24[42;24H[41;9H[46m{[44;9H}[m[85;120H6,9 [41;9H{[44;9H}[85;120H5,29[40;29H[85;120H4,18[39;18H[85;120H3,5 [38;5H[37;7H[46m([14C)[m[85;120H2,22[37;22H[36;25H[46m[[3C][m[37;7H([14C)[85;120H1,29[36;29H[35;25H[46m[[3C][m[36;25H[[3C][85;120H0[35;29H[26;5H[46m{[34;5H}[m[35;25H[[3C][85;118H99,5  [34;5H[26;5H{[34;5H}[85;119H8,12[33;12H[28;9H[46m{[32;9H}[m[85;119H7,9 [32;9H[28;9H{[32;9H}[85;119H6,18[31;18H[85;119H5,27[30;27H[85;119H4,24[29;24H[28;9H[46m{[32;9H}[m[85;119H3,9 [28;9H[27;19H[46m([9C)[m[28;9H{[32;9H}[85;119H2,29[27;29H[26;5H[46m{[m[27;19H([9C)[34;5H[46m}[m[85;119H1,5 [26;5H[25;10H[46m([13C)[m
    {[34;5H}[85;119H0,24[25;24H[25;10H([13C)[85;118H89,12[24;12H[85;119H8,23[23;23H[85;119H7,22[22;22H[85;119H6,19[21;19H[85;119H5,1 [20;1H[19;16H[46m([8C)[m[85;119H4,25[19;25H[19;16H([8C)[85;119H3,0-1[18;1H[85;119H2,1  [17;1H[85;119H1,5[16;5H[85;119H0,12[15;12H[1;9H[46m{[14;9H}[m[85;118H79,9 [14;9H[1;9H{[10;13H[46m{[13;13H}[m[14;9H}[85;119H8,13[13;13H[10;13H{[13;13H}[85;119H7,24[12;24H[85;119H6,29[11;29H[10;13H[46m{[13;13H}[m[85;119H5,13[10;13H{[13;13H}[85;119H4,29[9;29H[5;13H[46m{[8;13H}[m[85;119H3,13[8;13H[5;13H{[8;13H}[85;119H2,24[7;24H[85;119H1,29[6;29H[5;13H[46m{[8;13H}[m[85;119H0,13[5;13H[4;15H[46m([9C)[m[5;13H{[8;13H}[85;118H69,25[4;25H[4;15H([9C)[85;119H8,29[3;29H[85;119H7,24[2;24H[1;9H[46m{[14;9H}[m[85;119H6,9 [1;9H[1;84r[1;1H[L[1;85r[1;8H [33melse[m [33mif[m ( strcmp(c[46m[[mi[46m][m, [31m">>"[m) == [31m0[m)[2;9H{[15;9H}[85;118H[K[85;118H65,29[9C16%[1;29H[1;84r[1;1H[L[1;85r[1;8H }[2;27H[i][85;118H[K[85;118H64,9[10C15%[1;9H[1;84r[1;1H[L[1;85r[1;12H }[85;118H[K[85;118H63,13[9C15%[1;13H[1;84r[1;1H[L[1;85r[1;16H exit([31m1[m);[85;118H[K[85;118H62,24[9C15%[1;24H[1;84r[1;1H[L[1;85r[1;16H perror([31m"error in dup2"[m);[85;118H[K[85;118H61,29[9C15%[1;29H[1;84r[1;1H[L[1;85r[1;12H [46m{[4;13H}[m[85;118H[K[85;118H60,13[9C14%[1;13H[1;84r[1;1H[L[1;85r[1;12H [33mif[m( dup2(fd,[31m1[m) == -[31m1[m)[2;13H{[5;13H}[85;118H[K[85;118H59,29[9C14%[1;29H[1;84r[1;1H[L[1;85r[1;12H }[85;118H[K[85;118H58,13[9C14%[1;13H[1;84r[1;1H[L[1;85r[1;16H exit([31m1[m);[85;118H[K[85;118H57,24[9C14%[1;24H[1;84r[1;1H[L[1;85r[1;16H perror([31m"error in open"[m);[85;118H[K[85;118H56,29[9C13%[1;29H[1;84r[1;1H[L[1;85r[1;12H [46m{[4;13H}[m[85;118H[K[85;118H55,13[9C13%[1;13H[1;84r[1;1H[L[1;85r[1;12H [33mif[m[46m([m fd == -[31m1[m[46m)[m[2;13H{[5;13H}[85;118H[K[85;118H54,25[9C13%[1;25H[1;84r[1;1H[L[1;85r[1;12H fd = open(c[i+[31m1[m], O_CREAT | O_WRONLY |O_TRUNC, [35m0[m[31m666[m);[2;15H([9C)[85;118H[K[85;118H53,29[9C13%[1;29H[1;84r[1;1H[L[1;85r[1;12H c[i] = [35m'\0'[m;[85;118H[K[85;118H52,24[9C12%[1;24H[1;84r[1;1H[L[1;85r[1;8H [46m{[14;9H}[m[85;118H[K[85;118H51,9[10C12%[1;9H[1;84r[1;1H[L[1;85r[1;8H [33melse[m [33mif[m( strcmp(c[i], [31m">"[m) == [31m0[m)[2;9H{[15;9H}[85;118H[K[85;118H50,29[9C12%[1;29H[1;84r[1;1H[L[1;85r[1;8H }[85;118H[K[85;118H49,9[10C12%[1;9H[1;84r[1;1H[L[1;85r[1;12H }[85;118H[K[85;118H48,13[9C11%[1;13H[1;84r[1;1H[L[1;85r[1;16H exit([31m1[m);[85;118H[K[85;118H47,24[9C11%[1;24H[1;84r[1;1H[L[1;85r[1;16H perror([31m"error in dup2"[m);[85;118H[K[85;118H46,29[9C11%[1;29H[1;84r[1;1H[L[1;85r[1;12H [46m{[4;13H}[m[85;118H[K[85;118H45,13[9C11%[1;13H[1;84r[1;1H[L[1;85r[1;12H [33mif[m( dup2(fd,[31m0[m) == -[31m1[m)[2;13H{[5;13H}[85;118H[K[85;118H44,29[9C10%[1;29H[1;84r[1;1H[L[1;85r[1;12H }[85;118H[K[85;118H43,13[9C10%[1;13H[1;84r[1;1H[L[1;85r[1;16H exit([31m1[m);[85;118H[K[85;118H42,24[9C10%[1;24H[1;84r[1;1H[L[1;85r[1;16H perror([31m"error in open"[m);[85;118H[K[85;118H41,29[9C10%[1;29H[1;84r[1;1H[L[1;85r[1;12H [46m{[4;13H}[m[85;118H[K[85;118H40,13[10C9%[1;13H[1;84r[1;1H[L[1;85r[1;12H [33mif[m[46m([m fd == -[31m1[m[46m)[m[2;13H{[5;13H}[85;118H[K[85;118H39,25[10C9%[1;25H[1;84r[1;1H[L[1;85r[1;12H fd = open(c[i+[31m1[m], O_RDONLY);[2;15H([9C)[85;118H[K[85;118H38,29[10C9%[1;29H[1;84r[1;1H[L[1;85r[1;12H c[i] = [35m'\0'[m;[85;118H[K[85;118H37,24[10C9%[1;24H[1;84r[1;1H[L[1;85r[1;8H [46m{[14;9H}[m[85;118H[K[85;118H36,9[11C8%[1;9H[1;84r[1;1H[L[1;85r[1;8H [33mif[m( strcmp[46m([mc[i], [31m"<"[m[46m)[m == [31m0[m)[2;9H{[15;9H}[85;118H[K[85;118H35,29[10C8%[1;29H[1;84r[1;1H[L[1;85r[1;8H [32mint[m fd;[2;19H([9C)[85;118H[K[85;118H34,15[10C8%[1;15H[1;84r[1;1H[L[1;85r[1;4H [46m{[49;5H}[m[85;118H[K[85;118H33,5[11C8%[1;5H[1;84r[1;1H[L[1;85r[1;4H [33mwhile[m[46m([m c[i] != [35m'\0'[m[46m)[m
    {[50;5H}[85;118H[K[85;118H32,24[10C7%[1;24H[1;84r[1;1H[L[1;85r[1;4H [32mint[m i=[31m0[m;[2;10H([13C)[85;118H[K[85;118H31,12[10C7%[1;12H[1;84r[1;1H[L[1;85r[1;1H[46m{[53;1H}[m[85;118H[K[85;118H30,1[11C7%[1;1H[1;84r[1;1H[L[1;85r[1;1H[32mvoid[m check_dup[46m([m[32mchar[m **c[46m)[m
{[54;1H}[85;118H[K[85;118H29,24[10C7%[1;24H[1;84r[1;1H[L[1;85r[2;15H([8C)[85;118H[K[85;118H28,0-1[9C6%[1;1H[1;84r[1;1H[L[1;85r[1;1H}[85;118H[K[85;118H27,1[11C6%[1;1H[1;84r[1;1H[L[1;85r[1;4H [33mreturn[m [31mfalse[m;[85;118H[K[85;118H26,17[10C6%[1;17H[1;84r[1;1H[L[1;85r[1;4H }[85;118H[K[85;118H25,5[11C6%[1;5H[1;84r[1;1H[L[1;85r[1;8H i++;[85;118H[K[85;118H24,12[10C5%[1;12H[1;84r[1;1H[L[1;85r[1;8H }[85;118H[K[85;118H23,9[11C5%[1;9H[1;84r[1;1H[L[1;85r[1;12H [33mreturn[m [31mtrue[m;[85;118H[K[85;118H22,24[10C5%[1;24H[1;84r[1;1H[L[1;85r[1;8H [46m{[3;9H}[m[85;118H[K[85;118H21,9[11C5%[1;9H[1;84r[1;1H[L[1;85r[1;8H [33mif[m( strcmp[46m([mc[i], [31m"|"[m[46m)[m == [31m0[m)[2;9H{[4;9H}[85;118H[K[85;118H20,29[10C4%[1;29H[1;84r[1;1H[L[1;85r[1;4H [46m{[m[2;19H([9C)[7;5H[46m}[m[85;118H[K[85;118H19,5[11C4%[1;5H[1;84r[1;1H[L[1;85r[1;4H [33mwhile[m [46m([mc[i] != [35m'\0'[m[46m)[m
    {[8;5H}[85;118H[K[85;118H18,24[10C4%[1;24H[1;84r[1;1H[L[1;85r[1;4H [32mint[m i=[31m0[m;[2;11H([12C)[85;118H[K[85;118H17,12[10C4%[1;12H[1;84r[1;1H[L[1;85r[1;1H[46m{[12;1H}[m[85;118H[K[85;118H16,1[11C3%[1;1H[1;84r[1;1H[L[1;85r[1;1H[32mbool[m pipes[46m([m[32mchar[m **c[46m)[m
{[13;1H}[85;118H[K[85;118H15,20[10C3%[1;20H[1;84r[1;1H[L[1;85r[1;1H[33musing[m [32mnamespace[m std;[2;11H([8C)[85;118H[K[85;118H14,20[10C3%[1;20H[1;84r[1;1H[L[1;85r[85;118H[K[85;118H13,0-1[9C3%[1;1H[1;84r[1;1H[L[1;85r[85;118H[K[85;118H12,0-1[9C2%[1;1H[1;84r[1;1H[L[1;85r[1;1H[35m#include [m[31m<sys/wait.h>[m[85;118H[K[85;118H11,21[10C2%[1;21H[1;84r[1;1H[L[1;85r[1;1H[35m#include [m[31m<sys/types.h>[m[85;118H[K[85;118H10,22[10C2%[1;22H[1;84r[1;1H[L[1;85r[1;1H[35m#include [m[31m<sstream>[m[85;118H[K[85;118H9,18[11C2%[1;18H[1;84r[1;1H[L[1;85r[1;1H[35m#include [m[31m<vector>[m[85;118H[K[85;118H8,17[11C1%[1;17H[1;84r[1;1H[L[1;85r[1;1H[35m#include [m[31m<cstdlib>[m[85;118H[K[85;118H7,18[11C1%[1;18H[1;84r[1;1H[L[1;85r[1;1H[35m#include [m[31m<unistd.h>[m[85;118H[K[85;118H6,19[11C1%[1;19H[1;84r[1;1H[L[1;85r[1;1H[35m#include [m[31m<errno.h>[m[85;118H[K[85;118H5,18[11C1%[1;18H[1;84r[1;1H[L[1;85r[1;1H[35m#include [m[31m<stdio.h>[m[85;118H[K[85;118H4,18[11C0%[1;18H[1;84r[1;1H[L[1;85r[1;1H[35m#include [m[31m<string.h>[m[85;118H[K[85;118H3,19[11C0%[1;19H[1;84r[1;1H[L[1;85r[1;1H[35m#include [m[31m<iostream>[m[85;118H[K[85;118H2,19[11C0%[1;19H[1;84r[1;1H[L[1;85r[1;1H[35m#include [m[31m<fcntl.h>[m[85;118H[K[85;118H1,18[10CTop[1;18H[85;118H2,19[2;19H[85;118H3[3;19H[85;118H4,18[4;18H[85;118H5[5;18H[85;118H6,19[6;19H[85;118H7,18[7;18H[85;118H8,17[8;17H[85;118H9,18[9;18H[85;118H10,22[10;22H[85;119H1,21[11;21H[85;119H2,0-1[12;1H[85;119H3[13;1H[85;119H4,20 [14;20H[15;11H[46m([8C)[m[85;119H5[15;20H[15;11H([8C)
[46m{[27;1H}[m[85;119H6,1 [16;1H{[27;1H}[85;119H7,12[17;12H[18;11H[46m([12C)[m[85;119H8,24[18;24H[18;11H([12C)
    [46m{[25;5H}[m[85;119H9,5 [19;5H{[20;19H[46m([9C)[m[25;5H}[85;118H20,29[20;29H[20;19H([9C)[21;9H[46m{[23;9H}[m[85;119H1,9 [21;9H{[23;9H}[85;119H2,24[22;24H[21;9H[46m{[23;9H}[m[85;119H3,9 [23;9H[21;9H{[23;9H}[85;119H4,12[24;12H[19;5H[46m{[25;5H}[m[85;119H5,5 [25;5H[19;5H{[25;5H}[85;119H6,17[26;17H[16;1H[46m{[27;1H}[m[85;119H7,1 [27;1H[16;1H{[27;1H}[85;119H8,0-1[28;1H[29;15H[46m([8C)[m[85;119H9,24 [29;24H[29;15H([8C)
[46m{[82;1H}[m[85;118H30,1 [30;1H{[82;1H}[85;119H1,12[31;12H[32;10H[46m([13C)[m[85;119H2,24[32;24H[32;10H([13C)
    [46m{[81;5H}[m[85;119H3,5 [33;5H{[81;5H}[85;119H4,15[34;15H[35;19H[46m([9C)[m[85;119H5,29[35;29H[35;19H([9C)[36;9H[46m{[49;9H}[m[85;119H6,9 [36;9H{[49;9H}[85;119H7,24[37;24H[85;119H8,29[38;29H[39;15H[46m([9C)[m[85;119H9,25[39;25H[39;15H([9C)[40;13H[46m{[43;13H}[m[85;118H40,13[40;13H{[43;13H}[85;119H1,29[41;29H[85;119H2,24[42;24H[40;13H[46m{[43;13H}[m[85;119H3,13[43;13H[40;13H{[43;13H}[85;119H4,29[44;29H[45;13H[46m{[48;13H}[m[85;119H5,13[45;13H{[48;13H}[85;119H6,29[46;29H[85;119H7,24[47;24H[45;13H[46m{[48;13H}[m[85;119H8,13[48;13H[36;9H[46m{[m[45;13H{[48;13H}[49;9H[46m}[m[85;119H9,9 [49;9H[36;9H{[49;9H}[85;118H50,29[50;29H[51;9H[46m{[64;9H}[m[85;119H1,9 [51;9H{[64;9H}[85;119H2,24[52;24H[85;119H3,29[53;29H[54;15H[46m([9C)[m[85;119H4,25[54;25H[54;15H([9C)[55;13H[46m{[58;13H}[m[85;119H5,13[55;13H{[58;13H}[85;119H6,29[56;29H[85;119H7,24[57;24H[55;13H[46m{[58;13H}[m[85;119H8,13[58;13H[55;13H{[58;13H}[85;119H9,29[59;29H[60;13H[46m{[63;13H}[m[85;118H60,13[60;13H{[63;13H}[85;119H1,29[61;29H[85;119H2,24[62;24H[60;13H[46m{[63;13H}[m[85;119H3,13[63;13H[51;9H[46m{[m[60;13H{[63;13H}[64;9H[46m}[m[85;119H4,9 [64;9H[51;9H{[64;9H}[65;27H[46m[[mi[46m][m[85;119H5,29[65;29H[i][66;9H[46m{[79;9H}[m[85;119H6,9 [66;9H{[79;9H}[85;119H7,24[67;24H[85;119H8,29[68;29H[69;15H[46m([9C)[m[85;119H9,25[69;25H[69;15H([9C)[70;13H[46m{[73;13H}[m[85;118H70,13[70;13H{[73;13H}[85;119H1,29[71;29H[85;119H2,24[72;24H[70;13H[46m{[73;13H}[m[85;119H3,13[73;13H[70;13H{[73;13H}[85;119H4,29[74;29H[75;13H[46m{[78;13H}[m[85;119H5,13[75;13H{[78;13H}[85;119H6,29[76;29H[85;119H7,24[77;24H[75;13H[46m{[78;13H}[m[85;119H8,13[78;13H[66;9H[46m{[m[75;13H{[78;13H}[79;9H[46m}[m[85;119H9,9 [79;9H[66;9H{[79;9H}[85;118H80,12[80;12H[33;5H[46m{[81;5H}[m[85;119H1,5 [81;5H[30;1H[46m{[m[33;5H{[81;5H}
[46m}[m[85;119H2,1[82;1H[30;1H{[82;1H}[85;119H3,0-1[83;1H[84;16H[46m([8C)[m[85;119H4,25 [84;25H[1;84r[84;1H
[1;85r[83;16H([8C)
{[85;118H[K[85;118H85,1[11C0%[84;1H[1;84r[84;1H
[1;85r[84;4H [32mint[m status = [31m0[m;[85;118H[K[85;118H86,19[10C0%[84;19H[1;84r[84;1H
[1;85r[84;4H [32mint[m num_pipes = [31m0[m;[85;118H[K[85;118H87,22[10C0%[84;22H[1;84r[84;1H
[1;85r[84;4H [32mint[m pipe_index = [31m0[m;[85;118H[K[85;118H88,23[10C1%[84;23H[1;84r[84;1H
[1;85r[84;4H [32mint[m i=[31m0[m;[85;118H[K[85;118H89,12[10C1%[84;12H[1;84r[84;1H
[1;85r[84;4H [33mwhile[m[46m([m c[i] != [35m'\0'[m[46m)[m[85;118H[K[85;118H90,24[10C1%[84;24H[1;84r[84;1H
[1;85r[83;10H([13C)
    {[85;118H[K[85;118H91,5[11C1%[84;5H[1;84r[84;1H
[1;85r[84;8H [33mif[m( strcmp[46m([mc[i], [31m"|"[m[46m)[m == [31m0[m)[85;118H[K[85;118H92,29[10C2%[84;29H[1;84r[84;1H
[1;85r[83;19H([9C)[84;8H {[85;118H[K[85;118H93,9[11C2%[84;9H[1;84r[84;1H
[1;85r[84;12H num_pipes++;[85;118H[K[85;118H94,24[10C2%[84;24H[1;84r[84;1H
[1;85r[84;12H pipe_index = i;[85;118H[K[85;118H95,27[10C2%[84;27H[1;84r[84;1H
[1;85r[84;12H [33mbreak[m;[85;118H[K[85;118H96,18[10C3%[84;18H[1;84r[84;1H
[1;85r[80;9H[46m{[m[84;8H [46m}[m[85;118H[K[85;118H97,9[11C3%[84;9H[1;84r[84;1H
[1;85r[79;9H{[83;9H}[84;8H i++;[85;118H[K[85;118H98,12[10C3%[84;12H[1;84r[84;1H
[1;85r[76;5H[46m{[m[84;4H [46m}[m[85;118H[K[85;118H99,5[11C3%[84;5H[1;84r[84;1H
[1;85r[75;5H{[83;5H}
    [32mchar[m **a = [33mnew[m [32mchar[m*[46m[[m[31m100[m[46m][m;[85;118H[K[85;118H100,29[9C4%[84;29H[1;84r[84;1H
[1;85r[83;25H[[3C]
    [32mchar[m **b = [33mnew[m [32mchar[m*[46m[[m[31m100[m[46m][m;[85;118H[K[85;118H101,29[9C4%[84;29H[1;84r[84;1H
[1;85r[83;25H[[3C]
    [33mif[m[46m([mpipe_index > [31m0[m[46m)[m[85;118H[K[85;118H102,22[9C4%[84;22H[1;84r[84;1H
[1;85r[83;7H([14C)
    {[85;118H[K[85;118H103,5[10C4%[84;5H[1;84r[84;1H
[1;85r[84;8H [32mint[m j = [31m0[m;[85;118H[K[85;118H104,18[9C5%[84;18H[1;84r[84;1H
[1;85r[84;8H [33mwhile[m( j < pipe_index)[85;118H[K[85;118H105,29[9C5%[84;29H[1;84r[84;1H
[1;85r[84;8H {[85;118H[K[85;118H106,9[10C5%[84;9H[1;84r[84;1H
[1;85r[84;12H a[j] = c[j];[85;118H[K[85;118H107,24[9C5%[84;24H[1;84r[84;1H
[1;85r[84;12H j++;[85;118H[K[85;118H108,16[9C6%[84;16H[1;84r[84;1H
[1;85r[81;9H[46m{[m[84;8H [46m}[m[85;118H[K[85;118H109,9[10C6%[84;9H[1;84r[84;1H
[1;85r[80;9H{[83;9H}[84;8H a[j] = [35m'\0'[m;[85;118H[K[85;118H110,20[9C6%[84;20H[1;84r[84;1H
[1;85r[84;8H [32mint[m k = pipe_index+[31m1[m;[85;118H[K[85;118H111,29[9C6%[84;29H[1;84r[84;1H
[1;85r[84;8H [32mint[m l = [31m0[m;[85;118H[K[85;118H112,18[9C7%[84;18H[1;84r[84;1H
[1;85r[84;8H [33mwhile[m( c[k] != [35m'\0'[m)[85;118H[K[85;118H113,29[9C7%[84;29H[1;84r[84;1H
[1;85r[84;8H {[85;118H[K[85;118H114,9[10C7%[84;9H[1;84r[84;1H
[1;85r[84;12H b[l] = c[k];[85;118H[K[85;118H115,24[9C7%[84;24H[1;84r[84;1H
[1;85r[84;12H l++; k++;[85;118H[K[85;118H116,21[9C8%[84;21H[1;84r[84;1H
[1;85r[81;9H[46m{[m[84;8H [46m}[m[85;118H[K[85;118H117,9[10C8%[84;9H[1;84r[84;1H
[1;85r[80;9H{[83;9H}[84;8H b[l] = [35m'\0'[m;[85;118H[K[85;118H118,20[9C8%[84;20H[1;84r[84;1H
[1;85r[85;118H[K[85;118H119,0-1[8C8%[84;1H[1;84r[84;1H
[1;85r[84;8H [34m//now i will execute the commands with piping[m[85;118H[K[85;118H120,29[9C9%[84;29H[1;84r[84;1H
[1;85r[84;8H [32mint[m fd[[31m2[m];[85;118H[K[85;118H121,18[9C9%[84;18H[1;84r[84;1H
[1;85r[84;8H [33mif[m[46m([mpipe(fd) == -[31m1[m [46m)[m[85;118H[K[85;118H122,27[9C9%[84;27H[1;84r[84;1H
[1;85r[83;11H([15C)[84;8H {[85;118H[K[85;118H123,9[10C9%[84;9H[1;84r[84;1H
[1;85r[84;12H perror([31m"pipe fail"[m);[85;118H[K[85;118H124,29[8C10%[84;29H[1;84r[84;1H
[1;85r[84;12H exit([31m1[m);[85;118H[K[85;118H125,20[8C10%[84;20H[1;84r[84;1H
[1;85r[81;9H[46m{[m[84;8H [46m}[m[85;118H[K[85;118H126,9[9C10%[84;9H[1;84r[84;1H
[1;85r[80;9H{[83;9H}[84;8H [32mint[m pid = fork();[85;118H[K[85;118H127,25[8C10%[84;25H[1;84r[84;1H
[1;85r[84;8H [33mif[m[46m([m pid  == -[31m1[m[46m)[m[85;118H[K[85;118H128,23[8C11%[84;23H[1;84r[84;1H
[1;85r[83;11H([11C)[84;8H {[85;118H[K[85;118H129,9[9C11%[84;9H[1;84r[84;1H
[1;85r[84;12H perror([31m"fork fail"[m);[85;118H[K[85;118H130,29[8C11%[84;29H[1;84r[84;1H
[1;85r[84;12H exit([31m1[m);[85;118H[K[85;118H131,20[8C11%[84;20H[1;84r[84;1H
[1;85r[81;9H[46m{[m[84;8H [46m}[m[85;118H[K[85;118H132,9[9C12%[84;9H[1;84r[84;1H
[1;85r[80;9H{[83;9H}[84;8H [33melse[m [33mif[m[46m([mpid == [31m0[m[46m)[m[85;118H[K[85;118H133,25[8C12%[84;25H[1;84r[84;1H
[1;85r[83;16H([8C)[84;8H {[85;118H[K[85;118H134,9[9C12%[84;9H[1;84r[84;1H
[1;85r[84;12H [33mif[m( dup2(fd[[31m1[m], [31m1[m) == -[31m1[m)[85;118H[K[85;118H135,29[8C12%[84;29H[1;84r[84;1H
[1;85r[84;12H {[85;118H[K[85;118H136,13[8C13%[84;13H[1;84r[84;1H
[1;85r[84;16H perror([31m"error with dup2"[m);[85;118H[K[85;118H137,29[8C13%[84;29H[1;84r[84;1H
[1;85r[84;16H exit([31m1[m);[85;118H[K[85;118H138,24[8C13%[84;24H[1;84r[84;1H
[1;85r[81;13H[46m{[m[84;12H [46m}[m[85;118H[K[85;118H139,13[8C13%[84;13H[1;84r[84;1H
[1;85r[80;13H{[83;13H}[84;12H [33mif[m( close(fd[[31m0[m]) == -[31m1[m)[85;118H[K[85;118H140,29[8C14%[84;29H[1;84r[84;1H
[1;85r[84;12H {[85;118H[K[85;118H141,13[8C14%[84;13H[1;84r[84;1H
[1;85r[84;16H perror([31m"error with close"[m);[85;118H[K[85;118H142,29[8C14%[84;29H[1;84r[84;1H
[1;85r[84;16H exit([31m1[m);[85;118H[K[85;118H143,24[8C14%[84;24H[1;84r[84;1H
[1;85r[81;13H[46m{[m[84;12H [46m}[m[85;118H[K[85;118H144,13[8C15%[84;13H[1;84r[84;1H
[1;85r[80;13H{[83;13H}[84;12H check_dup(a);[85;118H[K[85;118H145,25[8C15%[84;25H[1;84r[84;1H
[1;85r[84;12H [33mif[m( execvp( a[[31m0[m], a) == -[31m1[m)[85;118H[K[85;118H146,29[8C15%[84;29H[1;84r[84;1H
[1;85r[84;12H {[85;118H[K[85;118H147,13[8C15%[84;13H[1;84r[84;1H
[1;85r[84;16H perror([31m"error in execvp"[m);[85;118H[K[85;118H148,29[8C16%[84;29H[1;84r[84;1H
[1;85r[84;16H exit([31m1[m);[85;118H[K[85;118H149,24[8C16%[84;24H[1;84r[84;1H
[1;85r[81;13H[46m{[m[84;12H [46m}[m[85;118H[K[85;118H150,13[8C16%[84;13H[1;84r[84;1H
[1;85r[80;13H{[83;13H}[84;12H exit([31m1[m);[85;118H[K[85;118H151,20[8C16%[84;20H[1;84r[84;1H
[1;85r[66;9H[46m{[m[84;8H [46m}[m[85;118H[K[85;118H152,9[9C17%[84;9H[1;84r[84;1H
[1;85r[65;9H{[83;9H}[85;118H[K[85;118H153,8[9C17%[84;8H[1;84r[84;1H
[1;85r[84;8H [32mint[m savestdin;[85;118H[K[85;118H154,22[8C17%[84;22H[1;84r[84;1H
[1;85r[84;8H savestdin = dup([31m0[m);[85;118H[K[85;118H155,27[8C17%[84;27H[1;84r[84;1H
[1;85r[84;8H [33mif[m[46m([m savestdin == -[31m1[m[46m)[m[85;118H[K[85;118H156,28[8C18%[84;28H[1;84r[84;1H
[1;85r[83;11H([16C)[84;8H {[85;118H[K[85;118H157,9[9C18%[84;9H[1;84r[84;1H
[1;85r[84;12H perror([31m"error with dup"[m);[85;118H[K[85;118H158,29[8C18%[84;29H[1;84r[84;1H
[1;85r[84;12H exit([31m1[m);[85;118H[K[85;118H159,20[8C18%[84;20H[1;84r[84;1H
[1;85r[81;9H[46m{[m[84;8H [46m}[m[85;118H[K[85;118H160,9[9C19%[84;9H[1;84r[84;1H
[1;85r[80;9H{[83;9H}[84;8H [33mif[m( dup2(fd[[31m0[m],[31m0[m) == -[31m1[m)[85;118H[K[85;118H161,29[8C19%[84;29H[1;84r[84;1H
[1;85r[84;8H {[85;118H[K[85;118H162,9[9C19%[84;9H[1;84r[84;1H
[1;85r[84;12H perror([31m"error with dup2"[m);[85;118H[K[85;118H163,29[8C19%[84;29H[1;84r[84;1H
[1;85r[84;12H exit([31m1[m);[85;118H[K[85;118H164,20[8C20%[84;20H[1;84r[84;1H
[1;85r[81;9H[46m{[m[84;8H [46m}[m[85;118H[K[85;118H165,9[9C20%[84;9H[1;84r[84;1H
[1;85r[80;9H{[83;9H}[84;8H [33mif[m( close(fd[[31m1[m]) == -[31m1[m)[85;118H[K[85;118H166,29[8C20%[84;29H[1;84r[84;1H
[1;85r[84;8H {[85;118H[K[85;118H167,9[9C20%[84;9H[1;84r[84;1H
[1;85r[84;12H perror([31m"error with close"[m);[85;118H[K[85;118H168,29[8C21%[84;29H[1;84r[84;1H
[1;85r[84;12H exit([31m1[m);[85;118H[K[85;118H169,20[8C21%[84;20H[1;84r[84;1H
[1;85r[81;9H[46m{[m[84;8H [46m}[m[85;118H[K[85;118H170,9[9C21%[84;9H[1;84r[84;1H
[1;85r[80;9H{[83;9H}[84;8H [33mif[m (wait(&status) == -[31m1[m)[85;118H[K[85;118H171,29[8C21%[84;29H[1;84r[84;1H
[1;85r[84;8H {[85;118H[K[85;118H172,9[9C22%[84;9H[1;84r[84;1H
[1;85r[84;12H perror([31m"error in wait()"[m);[85;118H[K[85;118H173,29[8C22%[84;29H[1;84r[84;1H
[1;85r[84;12H exit([31m1[m);[85;118H[K[85;118H174,20[8C22%[84;20H[1;84r[84;1H
[1;85r[81;9H[46m{[m[84;8H [46m}[m[85;118H[K[85;118H175,9[9C22%[84;9H[1;84r[84;1H
[1;85r[80;9H{[83;9H}[85;118H[K[85;118H176,0-1[7C23%[84;1H[1;84r[84;1H
[1;85r[84;8H [34m//we need to check that the rest of c does not have any pipes[m[85;118H[K[85;118H177,29[8C23%[84;29H[1;84r[84;1H
[1;85r[84;8H find_pipes(b);[85;118H[K[85;118H178,22[8C23%[84;22H[1;84r[84;1H
[1;85r[84;8H dup2(savestdin, [31m0[m);[85;118H[K[85;118H179,27[8C23%[84;27H[1;84r[84;1H
[1;85r[84;1H[34m/*       [m[85;118H[K[85;118H180,9[9C24%[84;9H[1;84r[84;1H
[1;85r[84;1H[34m        status = 1;[m[85;118H[K[85;118H181,19[8C24%[84;19H[1;84r[84;1H
[1;85r[84;1H[34m        int pid = fork();[m[85;118H[K[85;118H182,25[8C24%[84;25H[1;84r[84;1H
[1;85r[84;1H[34m        if[m[34m[46m([m[34mpid == -1[m[34m[46m)[m[85;118H[K[85;118H183,21[8C24%[84;21H[1;84r[84;1H
[1;85r[83;11H[34m([9C)
        {[m[85;118H[K[85;118H184,9[9C25%[84;9H[1;84r[84;1H
[1;85r[84;1H[34m            perror("fork fail");[m[85;118H[K[85;118H185,29[8C25%[84;29H[1;84r[84;1H
[1;85r[84;1H[34m            exit(1);[m[85;118H[K[85;118H186,20[8C25%[84;20H[1;84r[84;1H
[1;85r[81;9H[34m[46m{[m


[34m        [m[34m[46m}[m[85;118H[K[85;118H187,9[9C25%[84;9H[1;84r[84;1H
[1;85r[80;9H[34m{[83;9H}
        else if[m[34m[46m([m[34mpid == 0[m[34m[46m)[m[85;118H[K[85;118H188,25[8C26%[84;25H[1;84r[84;1H
[1;85r[83;16H[34m([8C)
        {[m[85;118H[K[85;118H189,9[9C26%[84;9H[1;84r[84;1H
[1;85r[84;1H[34m            //this will check for i/o redirection[m[85;118H[K[85;118H190,29[8C26%[84;29H[1;84r[84;1H
[1;85r[84;1H[34m            check_dup(a);[m[85;118H[K[85;118H191,25[8C26%[84;25H[1;84r[84;1H
[1;85r[85;118H[K[85;118H192,0-1[7C27%[84;1H[1;84r[84;1H
[1;85r[84;1H[34m            if (execvp(a[0], a) !=0 )[m[85;118H[K[85;118H193,29[8C27%[84;29H[1;84r[84;1H
[1;85r[84;1H[34m            {[m[85;118H[K[85;118H194,13[8C27%[84;13H[1;84r[84;1H
[1;85r[84;1H[34m                perror("error in execvp");[m[85;118H[K[85;118H195,29[8C27%[84;29H[1;84r[84;1H
[1;85r[84;1H[34m                exit(1);[m[85;118H[K[85;118H196,24[8C28%[84;24H[1;84r[84;1H
[1;85r[81;13H[34m[46m{[m


[34m            [m[34m[46m}[m[85;118H[K[85;118H197,13[8C28%[84;13H[1;84r[84;1H
[1;85r[75;9H[34m[46m{[m[80;13H[34m{[83;13H}
        [m[34m[46m}[m[85;118H[K[85;118H198,9[9C28%[84;9H[1;84r[84;1H
[1;85r[74;9H[34m{[83;9H}
        //else[m[85;118H[K[85;118H199,14[8C28%[84;14H[74;9H[34m[46m{[83;9H}[m[85;120H8,9 [83;9H[74;9H[34m{[m[79;13H[34m[46m{[82;13H}[m[83;9H[34m}[m[85;120H7,13[82;13H[79;13H[34m{[82;13H}[m[85;120H6,24[81;24H[85;120H5,29[80;29H[79;13H[34m[46m{[82;13H}[m[85;120H4,13[79;13H[34m{[82;13H}[m[85;120H3,29[78;29H[85;120H2,0-1[77;1H[85;120H1,25 [76;25H[85;120H0,29[75;29H[74;9H[34m[46m{[83;9H}[m[85;119H89,9 [74;9H[73;16H[34m[46m([8C)[m[74;9H[34m{[83;9H}[m[85;120H8,25[73;25H[69;9H[34m[46m{[72;9H}[m[73;16H[34m([8C)[m[85;120H7,9 [72;9H[69;9H[34m{[72;9H}[m[85;120H6,20[71;20H[85;120H5,29[70;29H[69;9H[34m[46m{[72;9H}[m[85;120H4,9 [69;9H[68;11H[34m[46m([9C)[m[69;9H[34m{[72;9H}[m[85;120H3,21[68;21H[68;11H[34m([9C)[m[85;120H2,25[67;25H[85;120H1,19[66;19H[85;120H0,9 [65;9H[85;119H79,27[64;27H[85;120H8,22[63;22H[85;120H7,29[62;29H[85;120H6,0-1[61;1H[57;9H[46m{[60;9H}[m[85;120H5,9  [60;9H[57;9H{[60;9H}[85;120H4,20[59;20H[85;120H3,29[58;29H[57;9H[46m{[60;9H}[m[85;120H2,9 [57;9H{[60;9H}[85;120H1,29[56;29H[52;9H[46m{[55;9H}[m[85;120H0,9 [55;9H[52;9H{[55;9H}[85;119H69,20[54;20H[85;120H8,29[53;29H[52;9H[46m{[55;9H}[m[85;120H7,9 [52;9H{[55;9H}[85;120H6,29[51;29H[47;9H[46m{[50;9H}[m[85;120H5,9 [50;9H[47;9H{[50;9H}[85;120H4,20[49;20H[85;120H3,29[48;29H[47;9H[46m{[50;9H}[m[85;120H2,9 [47;9H{[50;9H}[85;120H1,29[46;29H[42;9H[46m{[45;9H}[m[85;120H0,9 [45;9H[42;9H{[45;9H}[85;119H59,20[44;20H[85;120H8,29[43;29H[42;9H[46m{[45;9H}[m[85;120H7,9 [42;9H[41;11H[46m([16C)[m[42;9H{[45;9H}[85;120H6,28[41;28H[41;11H([16C)[85;120H5,27[40;27H[85;120H4,22[39;22H[85;120H3,8 [38;8H[19;9H[46m{[37;9H}[m[85;120H2,9[37;9H[19;9H{[37;9H}[85;120H1,20[36;20H[32;13H[46m{[35;13H}[m[85;120H0,13[35;13H[32;13H{[35;13H}[85;119H49,24[34;24H[85;120H8,29[33;29H[32;13H[46m{[35;13H}[m[85;120H7,13[32;13H{[35;13H}[85;120H6,29[31;29H[85;120H5,25[30;25H[46m([ma[46m)[m[85;123H4[30;24H(a)[85;123H3[30;23H[46m([ma[46m)[m[85;123H2[30;22H(a)[85;123H1[30;21H[85;123H0[30;20H[85;122H19[30;19H[85;123H8[30;18H[85;123H7[30;17H[85;123H6[30;16H[85;123H5[30;15H[85;123H4[30;14H[85;123H3[30;13H[85;1H[1m-- INSERT --[m[85;118H[K[85;118H145,13[8C28%[30;13H /check_dup(a);[85;123H4[30;14H[34m//check_dup(a);[m[85;123H5[30;15H[85;1H[K[30;14H[85;118H145,14[8C28%[30;14H[85;118H[K[85;1H:wq"src/rshell.cpp" 483L, 11001C written
[?1l>[2J[?47l8[s%%%%%%%%%%[u[0;32mmonti004[0;36m@[0;32mcs100[0;36m:[0;32m~/rshell[0;95m ((hw2)) [0;36m$[0m vim src/rshell.cpp[Kls[Kclearvalgrind bin/rshell[4Pls/bin/rshellmake[Kgit checkout hw2make[K
g++ -Wall -Werror -ansi -pedantic -o   bin/rshell src/rshell.cpp
g++ -Wall -Werror -ansi -pedantic -o bin/ls src/ls.cpp
[s%%%%%%%%%%[u[0;32mmonti004[0;36m@[0;32mcs100[0;36m:[0;32m~/rshell[0;95m ((hw2)) [0;36m$[0m makevim src/rshell.cpp
7[?47h[?1h=[1;85r[m[H[2J[85;1H"src/rshell.cpp" 483L, 11001C[>c[1;8H [32mint[m j = [31m0[m;[2;8H [33mwhile[m( j < pipe_index)[3;8H {[4;12H a[j] = c[j];[5;12H j++;[6;8H }[7;8H a[j] = [35m'\0'[m;[8;8H [32mint[m k = pipe_index+[31m1[m;[9;8H [32mint[m l = [31m0[m;[10;8H [33mwhile[m( c[k] != [35m'\0'[m)[11;8H {[12;12H b[l] = c[k];[13;12H l++; k++;[14;8H }[15;8H b[l] = [35m'\0'[m;[17;8H [34m//now i will execute the commands with piping[m[18;8H [32mint[m fd[[31m2[m];[19;8H [33mif[m(pipe(fd) == -[31m1[m )[20;8H {[21;12H perror([31m"pipe fail"[m);[22;12H exit([31m1[m);[23;8H }[24;8H [32mint[m pid = fork();[25;8H [33mif[m( pid  == -[31m1[m)[26;8H {[27;12H perror([31m"fork fail"[m);[28;12H exit([31m1[m);[29;8H }[30;8H [33melse[m [33mif[m(pid == [31m0[m)[31;8H {[32;12H [33mif[m( dup2(fd[[31m1[m], [31m1[m) == -[31m1[m)[33;12H {[34;16H perror([31m"error with dup2"[m);[35;16H exit([31m1[m);[36;12H }[37;12H [33mif[m( close(fd[[31m0[m]) == -[31m1[m)[38;12H {[39;16H perror([31m"error with close"[m);[40;16H exit([31m1[m);[41;12H }[42;12H [34m//check_dup(a);[m[43;12H [33mif[m( execvp( a[[31m0[m], a) == -[31m1[m)[44;12H {[45;16H perror([31m"error in execvp"[m);[46;16H exit([31m1[m);[47;12H }[48;12H exit([31m1[m);[49;8H }[51;8H [32mint[m savestdin;[52;8H savestdin = dup([31m0[m);[53;8H [33mif[m( savestdin == -[31m1[m)[54;8H {[55;12H perror([31m"error with dup"[m);[56;12H exit([31m1[m);[57;8H }[58;8H [33mif[m( dup2(fd[[31m0[m],[31m0[m) == -[31m1[m)[59;8H {[60;12H perror([31m"error with dup2"[m);[61;12H exit([31m1[m);[62;8H }[63;8H [33mif[m( close(fd[[31m1[m]) == -[31m1[m)[64;8H {[65;12H perror([31m"error with close"[m);[66;12H exit([31m1[m);[67;8H }[68;8H [33mif[m (wait(&status) == -[31m1[m)[69;8H {[70;12H perror([31m"error in wait()"[m);[71;12H exit([31m1[m);[72;8H }[74;8H [34m//we need to check that the rest of c does not have any pipes[m[75;8H find_pipes(b);[76;8H dup2(savestdin, [31m0[m);
[34m/*       
        status = 1;
        int pid = fork();
        if(pid == -1)
        {
            perror("fork fail");
            exit(1);
        }[m[85;118H145,13[8C25%[42;13HP+q436f\P+q6b75\P+q6b64\P+q6b72\P+q6b6c\P+q2332\P+q2334\P+q2569\P+q2a37\P+q6b31\[85;1H[K[85;1H:wq"src/rshell.cpp" 483L, 11001C written
[?1l>[2J[?47l8[s%%%%%%%%%%[u[0;32mmonti004[0;36m@[0;32mcs100[0;36m:[0;32m~/rshell[0;95m ((hw2)) [0;36m$[0m vim src/rshell.cppmake[Kvim src/rshell.cpp[Kls[Kclearvalgrind bin/rshell[4Plsrshell
==21905== Memcheck, a memory error detector
==21905== Copyright (C) 2002-2012, and GNU GPL'd, by Julian Seward et al.
==21905== Using Valgrind-3.8.1 and LibVEX; rerun with -h for copyright info
==21905== Command: bin/rshell
==21905== 
$ cat<Makefile | tr a-z A-Z > output.txt
cat: <: No such file or directory
$ ^[:wq
error in execvp: No such file or directory
==21968== 
==21968== HEAP SUMMARY:
==21968==     in use at exit: 154 bytes in 15 blocks
==21968==   total heap usage: 35 allocs, 20 frees, 5,023 bytes allocated
==21968== 
==21968== LEAK SUMMARY:
==21968==    definitely lost: 41 bytes in 9 blocks
==21968==    indirectly lost: 0 bytes in 0 blocks
==21968==      possibly lost: 87 bytes in 3 blocks
==21968==    still reachable: 26 bytes in 3 blocks
==21968==         suppressed: 0 bytes in 0 blocks
==21968== Rerun with --leak-check=full to see details of leaked memory
==21968== 
==21968== For counts of detected and suppressed errors, rerun with: -v
==21968== ERROR SUMMARY: 0 errors from 0 contexts (suppressed: 6 from 6)
$ exit
==21905== 
==21905== HEAP SUMMARY:
==21905==     in use at exit: 75 bytes in 11 blocks
==21905==   total heap usage: 38 allocs, 27 frees, 5,105 bytes allocated
==21905== 
==21905== LEAK SUMMARY:
==21905==    definitely lost: 46 bytes in 10 blocks
==21905==    indirectly lost: 0 bytes in 0 blocks
==21905==      possibly lost: 29 bytes in 1 blocks
==21905==    still reachable: 0 bytes in 0 blocks
==21905==         suppressed: 0 bytes in 0 blocks
==21905== Rerun with --leak-check=full to see details of leaked memory
==21905== 
==21905== For counts of detected and suppressed errors, rerun with: -v
==21905== ERROR SUMMARY: 0 errors from 0 contexts (suppressed: 6 from 6)
[s%%%%%%%%%%[u[0;32mmonti004[0;36m@[0;32mcs100[0;36m:[0;32m~/rshell[0;95m ((hw2)) [0;36m$[0m valgrind bin/rshell[1Pim src/rshell.cppmake[Kvim src/rshell.cpp[Kls[Kvim src/rshellls[Kclearvalgrind bin/rshell[4Pls/bin/rshellmake[Kgit checkout hw2[7Pcd rshellgit clone http://github.com/monti004/rshell.git[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Cls[Krm -rf rshellls[Krm -rf shellls[Kvim rshell.cppls[Kvim rshell.cpp[Csrshell.cpp[Crshell.cppcrshell.cpp/rshell.cpp
7[?47h[?1h=[1;85r[m[H[2J[85;1H"src/rshell.cpp" 483L, 11001C[>c[1;8H [32mint[m j = [31m0[m;[2;8H [33mwhile[m( j < pipe_index)[3;8H {[4;12H a[j] = c[j];[5;12H j++;[6;8H }[7;8H a[j] = [35m'\0'[m;[8;8H [32mint[m k = pipe_index+[31m1[m;[9;8H [32mint[m l = [31m0[m;[10;8H [33mwhile[m( c[k] != [35m'\0'[m)[11;8H {[12;12H b[l] = c[k];[13;12H l++; k++;[14;8H }[15;8H b[l] = [35m'\0'[m;[17;8H [34m//now i will execute the commands with piping[m[18;8H [32mint[m fd[[31m2[m];[19;8H [33mif[m(pipe(fd) == -[31m1[m )[20;8H {[21;12H perror([31m"pipe fail"[m);[22;12H exit([31m1[m);[23;8H }[24;8H [32mint[m pid = fork();[25;8H [33mif[m( pid  == -[31m1[m)[26;8H {[27;12H perror([31m"fork fail"[m);[28;12H exit([31m1[m);[29;8H }[30;8H [33melse[m [33mif[m(pid == [31m0[m)[31;8H {[32;12H [33mif[m( dup2(fd[[31m1[m], [31m1[m) == -[31m1[m)[33;12H {[34;16H perror([31m"error with dup2"[m);[35;16H exit([31m1[m);[36;12H }[37;12H [33mif[m( close(fd[[31m0[m]) == -[31m1[m)[38;12H {[39;16H perror([31m"error with close"[m);[40;16H exit([31m1[m);[41;12H }[42;12H [34m//check_dup(a);[m[43;12H [33mif[m( execvp( a[[31m0[m], a) == -[31m1[m)[44;12H {[45;16H perror([31m"error in execvp"[m);[46;16H exit([31m1[m);[47;12H }[48;12H exit([31m1[m);[49;8H }[51;8H [32mint[m savestdin;[52;8H savestdin = dup([31m0[m);[53;8H [33mif[m( savestdin == -[31m1[m)[54;8H {[55;12H perror([31m"error with dup"[m);[56;12H exit([31m1[m);[57;8H }[58;8H [33mif[m( dup2(fd[[31m0[m],[31m0[m) == -[31m1[m)[59;8H {[60;12H perror([31m"error with dup2"[m);[61;12H exit([31m1[m);[62;8H }[63;8H [33mif[m( close(fd[[31m1[m]) == -[31m1[m)[64;8H {[65;12H perror([31m"error with close"[m);[66;12H exit([31m1[m);[67;8H }[68;8H [33mif[m (wait(&status) == -[31m1[m)[69;8H {[70;12H perror([31m"error in wait()"[m);[71;12H exit([31m1[m);[72;8H }[74;8H [34m//we need to check that the rest of c does not have any pipes[m[75;8H find_pipes(b);[76;8H dup2(savestdin, [31m0[m);
[34m/*       
        status = 1;
        int pid = fork();
        if(pid == -1)
        {
            perror("fork fail");
            exit(1);
        }[m[85;118H145,13[8C25%[42;13HP+q436f\P+q6b75\P+q6b64\P+q6b72\P+q6b6c\P+q2332\P+q2334\P+q2569\P+q2a37\P+q6b31\[85;120H6[43;13H[44;13H[46m{[47;13H}[m[85;120H7[44;13H{[47;13H}[85;120H8[45;13H[85;120H9[46;13H[85;120H8[45;13H[44;13H[46m{[47;13H}[m[85;120H7[44;13H{[47;13H}[85;120H6[43;13H[85;120H5[42;13H[85;123H4[42;14H[85;123H5[42;15H[85;1H[1m-- INSERT --[m[85;13H[K[85;118H145,15[8C25%[42;15H/check_dup(a);[42;27H[K[85;123H4[42;14H check_dup(a);[42;26H[K[85;123H3[42;13H[85;1H[K[42;12H[85;118H145,12[8C25%[42;12H[85;118H[K[85;1H:wq"src/rshell.cpp" 483L, 10999C written
[?1l>[2J[?47l8[s%%%%%%%%%%[u[0;32mmonti004[0;36m@[0;32mcs100[0;36m:[0;32m~/rshell[0;95m ((hw2)) [0;36m$[0m vim src/rshell.cppalgrind bin/rshell[1Pim src/rshell.cppalgrind bin/rshell
==22016== Memcheck, a memory error detector
==22016== Copyright (C) 2002-2012, and GNU GPL'd, by Julian Seward et al.
==22016== Using Valgrind-3.8.1 and LibVEX; rerun with -h for copyright info
==22016== Command: bin/rshell
==22016== 
$ cat<Makefile
CC = g++
FLAGS = -Wall -Werror -ansi -pedantic

all:|bin 
	$(CC) $(FLAGS) -o   bin/rshell src/rshell.cpp
	$(CC) $(FLAGS) -o bin/ls src/ls.cpp


rshell: |bin
	$(CC) -o bin/rshell src/rshell.cpp
ls: |bin
	$(CC) -o bin/ls src/ls.cpp

bin: 
	mkdir bin

clean: 
	rm -rf bin


$ exit
==22016== 
==22016== HEAP SUMMARY:
==22016==     in use at exit: 44 bytes in 4 blocks
==22016==   total heap usage: 17 allocs, 13 frees, 666 bytes allocated
==22016== 
==22016== LEAK SUMMARY:
==22016==    definitely lost: 15 bytes in 3 blocks
==22016==    indirectly lost: 0 bytes in 0 blocks
==22016==      possibly lost: 29 bytes in 1 blocks
==22016==    still reachable: 0 bytes in 0 blocks
==22016==         suppressed: 0 bytes in 0 blocks
==22016== Rerun with --leak-check=full to see details of leaked memory
==22016== 
==22016== For counts of detected and suppressed errors, rerun with: -v
==22016== ERROR SUMMARY: 0 errors from 0 contexts (suppressed: 6 from 6)
[s%%%%%%%%%%[u[0;32mmonti004[0;36m@[0;32mcs100[0;36m:[0;32m~/rshell[0;95m ((hw2)) [0;36m$[0m valgrind bin/rshell-bin/rshell-bin/rshelllbin/rshellebin/rshellabin/rshellkbin/rshell-bin/rshellcbin/rshellhbin/rshellebin/rshellcbin/rshellkbin/rshell=bin/rshellgbin/rshell[1Pbin/rshellfbin/rshellubin/rshelllbin/rshelllbin/rshell bin/rshell
==22172== Memcheck, a memory error detector
==22172== Copyright (C) 2002-2012, and GNU GPL'd, by Julian Seward et al.
==22172== Using Valgrind-3.8.1 and LibVEX; rerun with -h for copyright info
==22172== Command: bin/rshell
==22172== 
$ cat<Maj kefile
CC = g++
FLAGS = -Wall -Werror -ansi -pedantic

all:|bin 
	$(CC) $(FLAGS) -o   bin/rshell src/rshell.cpp
	$(CC) $(FLAGS) -o bin/ls src/ls.cpp


rshell: |bin
	$(CC) -o bin/rshell src/rshell.cpp
ls: |bin
	$(CC) -o bin/ls src/ls.cpp

bin: 
	mkdir bin

clean: 
	rm -rf bin


$ exit
==22172== 
==22172== HEAP SUMMARY:
==22172==     in use at exit: 44 bytes in 4 blocks
==22172==   total heap usage: 17 allocs, 13 frees, 666 bytes allocated
==22172== 
==22172== 15 bytes in 3 blocks are definitely lost in loss record 1 of 2
==22172==    at 0x4A07192: operator new[](unsigned long) (vg_replace_malloc.c:363)
==22172==    by 0x402078: run_exec(char*, int) (in /class/classes/monti004/rshell/bin/rshell)
==22172==    by 0x4024F7: main (in /class/classes/monti004/rshell/bin/rshell)
==22172== 
==22172== 29 bytes in 1 blocks are possibly lost in loss record 2 of 2
==22172==    at 0x4A075FC: operator new(unsigned long) (vg_replace_malloc.c:298)
==22172==    by 0x3B5B29C3C8: std::string::_Rep::_S_create(unsigned long, unsigned long, std::allocator<char> const&) (in /usr/lib64/libstdc++.so.6.0.13)
==22172==    by 0x3B5B29D19A: std::string::_Rep::_M_clone(std::allocator<char> const&, unsigned long) (in /usr/lib64/libstdc++.so.6.0.13)
==22172==    by 0x3B5B29D5EB: std::string::reserve(unsigned long) (in /usr/lib64/libstdc++.so.6.0.13)
==22172==    by 0x3B5B27BFF4: std::basic_istream<char, std::char_traits<char> >& std::getline<char, std::char_traits<char>, std::allocator<char> >(std::basic_istream<char, std::char_traits<char> >&, std::basic_string<char, std::char_traits<char>, std::allocator<char> >&, char) (in /usr/lib64/libstdc++.so.6.0.13)
==22172==    by 0x4022B0: main (in /class/classes/monti004/rshell/bin/rshell)
==22172== 
==22172== LEAK SUMMARY:
==22172==    definitely lost: 15 bytes in 3 blocks
==22172==    indirectly lost: 0 bytes in 0 blocks
==22172==      possibly lost: 29 bytes in 1 blocks
==22172==    still reachable: 0 bytes in 0 blocks
==22172==         suppressed: 0 bytes in 0 blocks
==22172== 
==22172== For counts of detected and suppressed errors, rerun with: -v
==22172== ERROR SUMMARY: 2 errors from 2 contexts (suppressed: 6 from 6)
[s%%%%%%%%%%[u[0;32mmonti004[0;36m@[0;32mcs100[0;36m:[0;32m~/rshell[0;95m ((hw2)) [0;36m$[0m valgrind --leak-check=full bin/rshell[18Pbin/rshell[1Pim src/rshell.cppalgrind bin/rshell[1Pim src/rshell.cpp
7[?47h[?1h=[1;85r[m[H[2J[85;1H"src/rshell.cpp" 483L, 10999C[>c[1;8H [32mint[m j = [31m0[m;[2;8H [33mwhile[m( j < pipe_index)[3;8H {[4;12H a[j] = c[j];[5;12H j++;[6;8H }[7;8H a[j] = [35m'\0'[m;[8;8H [32mint[m k = pipe_index+[31m1[m;[9;8H [32mint[m l = [31m0[m;[10;8H [33mwhile[m( c[k] != [35m'\0'[m)[11;8H {[12;12H b[l] = c[k];[13;12H l++; k++;[14;8H }[15;8H b[l] = [35m'\0'[m;[17;8H [34m//now i will execute the commands with piping[m[18;8H [32mint[m fd[[31m2[m];[19;8H [33mif[m(pipe(fd) == -[31m1[m )[20;8H {[21;12H perror([31m"pipe fail"[m);[22;12H exit([31m1[m);[23;8H }[24;8H [32mint[m pid = fork();[25;8H [33mif[m( pid  == -[31m1[m)[26;8H {[27;12H perror([31m"fork fail"[m);[28;12H exit([31m1[m);[29;8H }[30;8H [33melse[m [33mif[m(pid == [31m0[m)[31;8H {[32;12H [33mif[m( dup2(fd[[31m1[m], [31m1[m) == -[31m1[m)[33;12H {[34;16H perror([31m"error with dup2"[m);[35;16H exit([31m1[m);[36;12H }[37;12H [33mif[m( close(fd[[31m0[m]) == -[31m1[m)[38;12H {[39;16H perror([31m"error with close"[m);[40;16H exit([31m1[m);[41;12H }[42;12H check_dup(a);[43;12H [33mif[m( execvp( a[[31m0[m], a) == -[31m1[m)[44;12H {[45;16H perror([31m"error in execvp"[m);[46;16H exit([31m1[m);[47;12H }[48;12H exit([31m1[m);[49;8H }[51;8H [32mint[m savestdin;[52;8H savestdin = dup([31m0[m);[53;8H [33mif[m( savestdin == -[31m1[m)[54;8H {[55;12H perror([31m"error with dup"[m);[56;12H exit([31m1[m);[57;8H }[58;8H [33mif[m( dup2(fd[[31m0[m],[31m0[m) == -[31m1[m)[59;8H {[60;12H perror([31m"error with dup2"[m);[61;12H exit([31m1[m);[62;8H }[63;8H [33mif[m( close(fd[[31m1[m]) == -[31m1[m)[64;8H {[65;12H perror([31m"error with close"[m);[66;12H exit([31m1[m);[67;8H }[68;8H [33mif[m (wait(&status) == -[31m1[m)[69;8H {[70;12H perror([31m"error in wait()"[m);[71;12H exit([31m1[m);[72;8H }[74;8H [34m//we need to check that the rest of c does not have any pipes[m[75;8H find_pipes(b);[76;8H dup2(savestdin, [31m0[m);
[34m/*       
        status = 1;
        int pid = fork();
        if(pid == -1)
        {
            perror("fork fail");
            exit(1);
        }[m[85;118H145,13[8C25%[42;13HP+q436f\P+q6b75\P+q6b64\P+q6b72\P+q6b6c\P+q2332\P+q2334\P+q2569\P+q2a37\P+q6b31\[85;120H6[43;13H[44;13H[46m{[47;13H}[m[85;120H7[44;13H{[47;13H}[85;120H8[45;13H[85;120H9[46;13H[44;13H[46m{[47;13H}[m[85;119H50[47;13H[44;13H{[47;13H}[85;120H1[48;13H[31;9H[46m{[49;9H}[m[85;120H2,9 [49;9H[31;9H{[49;9H}[85;120H3,8[50;8H[85;120H4,13[51;13H[85;120H5[52;13H[85;120H6[53;13H[54;9H[46m{[57;9H}[m[85;120H7,9 [54;9H{[57;9H}[85;120H8,13[55;13H[85;120H9[56;13H[54;9H[46m{[57;9H}[m[85;119H60,9 [57;9H[54;9H{[57;9H}[85;120H1,13[58;13H[59;9H[46m{[62;9H}[m[85;120H2,9 [59;9H{[62;9H}[85;120H3,13[60;13H[85;120H4[61;13H[59;9H[46m{[62;9H}[m[85;120H5,9 [62;9H[59;9H{[62;9H}[85;120H6,13[63;13H[64;9H[46m{[67;9H}[m[85;120H7,9 [64;9H{[67;9H}[85;120H8,13[65;13H[85;120H9[66;13H[64;9H[46m{[67;9H}[m[85;119H70,9 [67;9H[64;9H{[67;9H}[85;120H1,13[68;13H[69;9H[46m{[72;9H}[m[85;120H2,9 [69;9H{[72;9H}[85;120H3,13[70;13H[85;120H4[71;13H[69;9H[46m{[72;9H}[m[85;120H5,9 [72;9H[69;9H{[72;9H}[85;120H6,0-1[73;1H[85;120H7,13 [74;13H[85;120H8[75;13H[76;13H[46m([12C)[m[85;120H9[76;13H([12C)[85;119H80,9 [77;9H[85;120H1,13[78;13H[85;120H2[79;13H[85;120H3[80;13H[81;9H[34m[46m{[84;9H}[m[85;120H4,9 [81;9H[34m{[84;9H}[m[85;120H5,13[82;13H[85;120H6[83;13H[81;9H[34m[46m{[84;9H}[m[85;120H7,9 [84;9H[1;84r[84;1H
[1;85r[80;9H[34m{[83;9H}
        else if(pid == 0)[m[85;1H[K[85;118H188,13[8C26%[84;13H[1;84r[84;1H
[1;85r[84;1H[34m        {[m[85;118H[K[85;118H189,9[9C26%[84;9H[1;84r[84;1H
[1;85r[84;1H[34m            //this will check for i/o redirection[m[85;118H[K[85;118H190,13[8C26%[84;13H[1;84r[84;1H
[1;85r[84;1H[34m            check_dup(a);[m[85;118H[K[85;118H191,13[8C26%[84;13H[1;84r[84;1H
[1;85r[85;118H[K[85;118H192,0-1[7C27%[84;1H[1;84r[84;1H
[1;85r[84;1H[34m            if (execvp(a[0], a) !=0 )[m[85;118H[K[85;118H193,13[8C27%[84;13H[1;84r[84;1H
[1;85r[84;1H[34m            {[m[85;118H[K[85;118H194,13[8C27%[84;13H[1;84r[84;1H
[1;85r[84;1H[34m                perror("error in execvp");[m[85;118H[K[85;118H195,13[8C27%[84;13H[1;84r[84;1H
[1;85r[84;1H[34m                exit(1);[m[85;118H[K[85;118H196,13[8C28%[84;13H[1;84r[84;1H
[1;85r[81;13H[34m[46m{[m


[34m            [m[34m[46m}[m[85;118H[K[85;118H197,13[8C28%[84;13H[1;84r[84;1H
[1;85r[75;9H[34m[46m{[m[80;13H[34m{[83;13H}
        [m[34m[46m}[m[85;118H[K[85;118H198,9[9C28%[84;9H[1;84r[84;1H
[1;85r[74;9H[34m{[83;9H}
        //else[m[85;118H[K[85;118H199,13[8C28%[84;13H[1;84r[84;1H
[1;85r[84;1H[34m        //{[m[85;118H[K[85;118H200,11[8C29%[84;11H[1;84r[84;1H
[1;85r[84;1H[34m            if (wait(&status) == -1)[m[85;118H[K[85;118H201,13[8C29%[84;13H[1;84r[84;1H
[1;85r[84;1H[34m            {[m[85;118H[K[85;118H202,13[8C29%[84;13H[1;84r[84;1H
[1;85r[84;1H[34m                perror("error in wait");[m[85;118H[K[85;118H203,13[8C29%[84;13H[1;84r[84;1H
[1;85r[84;1H[34m                exit(1);[m[85;118H[K[85;118H204,13[8C30%[84;13H[1;84r[84;1H
[1;85r[81;13H[34m[46m{[m


[34m            [m[34m[46m}[m[85;118H[K[85;118H205,13[8C30%[84;13H[1;84r[84;1H
[1;85r[78;11H[34m[46m{[m[80;13H[34m{[83;13H}
       //[m[34m[46m}[m[85;118H[K[85;118H206,10[8C30%[84;10H[1;84r[84;1H
[1;85r[77;11H[34m{[83;10H}
    find_pipes(b);[m[85;118H[K[85;118H207,13[8C30%[84;13H[1;84r[84;1H
[1;85r[84;1H[34m*/[m[85;118H[K[85;118H208,2[9C31%[84;2H[1;84r[84;1H
[1;85r[84;4H }[85;118H[K[85;118H209,5[9C31%[84;5H[1;84r[84;1H
[1;85r[85;118H[K[85;118H210,8[9C31%[84;8H[1;84r[84;1H
[1;85r[84;4H [34m//if there are no more pipes to go through then the find_pipes fxm wil end[m[85;118H[K[85;118H211,13[8C31%[84;13H[1;84r[84;1H
[1;85r[85;118H[K[85;118H212,0-1[7C32%[84;1H[1;84r[84;1H
[1;85r[84;4H [32mint[m pid = fork();[85;118H[K[85;118H213,13[8C32%[84;13H[1;84r[84;1H
[1;85r[84;4H [33mif[m(pid == -[31m1[m)[85;118H[K[85;118H214,13[8C32%[84;13H[1;84r[84;1H
[1;85r[84;4H {[85;118H[K[85;118H215,5[9C32%[84;5H[1;84r[84;1H
[1;85r[84;8H perror([31m"fork fail"[m);[85;118H[K[85;118H216,13[8C33%[84;13H[1;84r[84;1H
[1;85r[84;8H exit[46m([m[31m1[m[46m)[m;[85;118H[K[85;118H217,13[8C33%[84;13H[1;84r[84;1H
[1;85r[81;5H[46m{[m[83;13H([1C)
    [46m}[m[85;118H[K[85;118H218,5[9C33%[84;5H[1;84r[84;1H
[1;85r[80;5H{[83;5H}
    [33melse[m [33mif[m(pid == [31m0[m)[85;118H[K[85;118H219,13[8C33%[84;13H[1;84r[84;1H
[1;85r[84;4H {[85;118H[K[85;118H220,5[9C34%[84;5H[1;84r[84;1H
[1;85r[84;8H [34m//this will check for i/o redirection[m[85;118H[K[85;118H221,13[8C34%[84;13H[1;84r[84;1H
[1;85r[84;8H check_dup(c);[85;118H[K[85;118H222,13[8C34%[84;13H[1;84r[84;1H
[1;85r[85;118H[K[85;118H223,0-1[7C34%[84;1H[1;84r[84;1H
[1;85r[84;8H [33mif[m (execvp(c[[31m0[m], c) !=[31m0[m )[85;118H[K[85;118H224,13[8C35%[84;13H[1;84r[84;1H
[1;85r[84;8H {[85;118H[K[85;118H225,9[9C35%[84;9H[1;84r[84;1H
[1;85r[84;12H perror([31m"error in execvp"[m);[85;118H[K[85;118H226,13[8C35%[84;13H[1;84r[84;1H
[1;85r[84;12H exit([31m1[m);[85;118H[K[85;118H227,13[8C35%[84;13H[1;84r[84;1H
[1;85r[81;9H[46m{[m[84;8H [46m}[m[85;118H[K[85;118H228,9[9C36%[84;9H[1;84r[84;1H
[1;85r[75;5H[46m{[m[80;9H{[83;9H}
    [46m}[m[85;118H[K[85;118H229,5[9C36%[84;5H[1;84r[84;1H
[1;85r[74;5H{[83;5H}
    [33melse[m[85;118H[K[85;118H230,8[9C36%[84;8H[1;84r[84;1H
[1;85r[84;4H {[85;118H[K[85;118H231,5[9C36%[84;5H[1;84r[84;1H
[1;85r[84;8H [33mif[m (wait(&status) == -[31m1[m)[85;118H[K[85;118H232,13[8C37%[84;13H[1;84r[84;1H
[1;85r[84;8H {[85;118H[K[85;118H233,9[9C37%[84;9H[1;84r[84;1H
[1;85r[84;12H perror([31m"error in wait"[m);[85;118H[K[85;118H234,13[8C37%[84;13H[1;84r[84;1H
[1;85r[84;12H exit([31m1[m);[85;118H[K[85;118H235,13[8C37%[84;13H[1;84r[84;1H
[1;85r[81;9H[46m{[m[84;8H [46m}[m[85;118H[K[85;118H236,9[9C38%[84;9H[1;84r[84;1H
[1;85r[78;5H[46m{[m[80;9H{[83;9H}
    [46m}[m[85;118H[K[85;118H237,5[9C38%[84;5H[1;84r[84;1H
[1;85r[77;5H{[83;5H}[85;118H[K[85;118H238,0-1[7C38%[84;1H[1;84r[84;1H
[1;85r[85;118H[K[85;118H239,0-1[7C38%[84;1H[1;84r[84;1H
[1;85r[84;1H[34m/*    int f=0;[m[85;118H[K[85;118H240,13[8C39%[84;13H[1;84r[84;1H
[1;85r[84;1H[34m    while( f < 100)[m[85;118H[K[85;118H241,13[8C39%[84;13H[1;84r[84;1H
[1;85r[84;1H[34m    {[m[85;118H[K[85;118H242,5[9C39%[84;5H[1;84r[84;1H
[1;85r[84;1H[34m        delete[] a[f];[m[85;118H[K[85;118H243,13[8C39%[84;13H[1;84r[84;1H
[1;85r[84;1H[34m        f++;[m[85;118H[K[85;118H244,12[8C40%[84;12H[1;84r[84;1H
[1;85r[84;1H[34m    }*/[m[85;118H[K[85;118H245,7[9C40%[84;7H[1;84r[84;1H
[1;85r[84;4H [33mdelete[m[] a;[85;118H[K[85;118H246,13[8C40%[84;13H[1;84r[84;1H
[1;85r[84;1H[34m/*    int ff=0;[m[85;118H[K[85;118H247,13[8C40%[84;13H[1;84r[84;1H
[1;85r[84;1H[34m    while( ff < 100)[m[85;118H[K[85;118H248,13[8C41%[84;13H[1;84r[84;1H
[1;85r[84;1H[34m    {[m[85;118H[K[85;118H249,5[9C41%[84;5H[1;84r[84;1H
[1;85r[84;1H[34m        delete[] b[ff];[m[85;118H[K[85;118H250,13[8C41%[84;13H[1;84r[84;1H
[1;85r[84;1H[34m        ff++;[m[85;118H[K[85;118H251,13[8C41%[84;13H[1;84r[84;1H
[1;85r[84;1H[34m    }*/[m[85;118H[K[85;118H252,7[9C42%[84;7H[1;84r[84;1H
[1;85r[84;4H [33mdelete[m[] b;[85;118H[K[85;118H253,13[8C42%[84;13H[1;84r[84;1H
[1;85r[85;118H[K[85;118H254,0-1[7C42%[84;1H[1;84r[84;1H
[1;85r[85;118H[K[85;118H255,0-1[7C42%[84;1H[1;84r[84;1H
[1;85r[84;1H[34m//    return status;[m[85;118H[K[85;118H256,13[8C43%[84;13H[1;84r[84;1H
[1;85r[84;1H}[85;118H[K[85;118H257,1[9C43%[84;1H[1;84r[84;1H
[1;85r[85;118H[K[85;118H258,0-1[7C43%[84;1H[1;84r[84;1H
[1;85r[84;1H[32mvoid[m check_spaces(string &s)[85;118H[K[85;118H259,13[8C43%[84;13H[1;84r[84;1H
[1;85r[84;1H{[85;118H[K[85;118H260,1[9C44%[84;1H[1;84r[84;1H
[1;85r[84;4H [32mint[m size = s.size();[85;118H[K[85;118H261,13[8C44%[84;13H[1;84r[84;1H
[1;85r[84;4H [32mint[m i=[31m0[m;[85;118H[K[85;118H262,12[8C44%[84;12H[1;84r[84;1H
[1;85r[84;4H [33mwhile[m ( i < size  )[85;118H[K[85;118H263,13[8C44%[84;13H[1;84r[84;1H
[1;85r[84;4H {[85;118H[K[85;118H264,5[9C45%[84;5H[1;84r[84;1H
[1;85r[84;8H [33mif[m (s[i] == [31m'<'[m)[85;118H[K[85;118H265,13[8C45%[84;13H[1;84r[84;1H
[1;85r[84;8H {[85;118H[K[85;118H266,9[9C45%[84;9H[1;84r[84;1H
[1;85r[84;12H s.insert(i+[31m1[m , [31m" "[m);[85;118H[K[85;118H267,13[8C45%[84;13H[1;84r[84;1H
[1;85r[84;12H s.insert(i , [31m" "[m);[85;118H[K[85;118H268,13[8C46%[84;13H[1;84r[84;1H
[1;85r[81;9H[46m{[m[84;8H [46m}[m[85;118H[K[85;118H269,9[9C46%[84;9H[1;84r[84;1H
[1;85r[80;9H{[83;9H}[84;8H [33melse[m [33mif[m (s[i] == [31m'|'[m)[85;118H[K[85;118H270,13[8C46%[84;13H[1;84r[84;1H
[1;85r[84;8H {[85;118H[K[85;118H271,9[9C46%[84;9H[1;84r[84;1H
[1;85r[84;12H s.insert(i+[31m1[m , [31m" "[m);[85;118H[K[85;118H272,13[8C47%[84;13H[1;84r[84;1H
[1;85r[84;12H s.insert(i , [31m" "[m);[85;118H[K[85;118H273,13[8C47%[84;13H[1;84r[84;1H
[1;85r[85;118H[K[85;118H274,0-1[7C47%[84;1H[1;84r[84;1H
[1;85r[80;9H[46m{[m[84;8H [46m}[m[85;118H[K[85;118H275,9[9C47%[84;9H[1;84r[84;1H
[1;85r[79;9H{[83;9H}[84;8H [33melse[m [33mif[m (s[i] == [31m'>'[m)[85;118H[K[85;118H276,13[8C48%[84;13H[1;84r[84;1H
[1;85r[84;8H {[85;118H[K[85;118H277,9[9C48%[84;9H[1;84r[84;1H
[1;85r[84;12H [33mif[m (s[i+[31m1[m] == [31m'>'[m)[85;118H[K[85;118H278,13[8C48%[84;13H[1;84r[84;1H
[1;85r[84;12H {[85;118H[K[85;118H279,13[8C48%[84;13H[1;84r[84;1H
[1;85r[84;16H s.insert(i+[31m2[m , [31m" "[m);[85;118H[K[85;118H280,13[8C49%[84;13H[1;84r[84;1H
[1;85r[84;16H s.insert(i , [31m" "[m);[85;118H[K[85;118H281,13[8C49%[84;13H[1;84r[84;1H
[1;85r[81;13H[46m{[m[84;12H [46m}[m[85;118H[K[85;118H282,13[8C49%[84;13H[1;84r[84;1H
[1;85r[80;13H{[83;13H}[84;12H [33melse[m[85;118H[K[85;118H283,13[8C49%[84;13H[1;84r[84;1H
[1;85r[84;12H {[85;118H[K[85;118H284,13[8C50%[84;13H[1;84r[84;1H
[1;85r[84;16H s.insert(i+[31m1[m , [31m" "[m);[85;118H[K[85;118H285,13[8C50%[84;13H[1;84r[84;1H
[1;85r[84;16H s.insert(i , [31m" "[m);[85;118H[K[85;118H286,13[8C50%[84;13H[1;84r[84;1H
[1;85r[81;13H[46m{[m[84;12H [46m}[m[85;118H[K[85;118H287,13[8C50%[84;13H[1;84r[84;1H
[1;85r[73;9H[46m{[m[80;13H{[83;13H}[84;8H [46m}[m[85;118H[K[85;118H288,9[9C51%[84;9H[1;84r[84;1H
[1;85r[72;9H{[83;9H}[84;8H i++;[85;118H[K[85;118H289,12[8C51%[84;12H[1;84r[84;1H
[1;85r[58;5H[46m{[m[84;4H [46m}[m[85;118H[K[85;118H290,5[9C51%[84;5H[1;84r[84;1H
[1;85r[53;1H[46m{[m[57;5H{[83;5H}
[46m}[m[85;118H[K[85;118H291,1[9C51%[84;1H[1;84r[84;1H
[1;85r[52;1H{[83;1H}[85;118H[K[85;118H292,0-1[7C52%[84;1H[1;84r[84;1H
[1;85r[84;1H[32mint[m num_tokens( [32mchar[m *c)[85;118H[K[85;118H293,13[8C52%[84;13H[1;84r[84;1H
[1;85r[84;1H{[85;118H[K[85;118H294,1[9C52%[84;1H[1;84r[84;1H
[1;85r[84;4H [32mint[m count =[31m0[m;[85;118H[K[85;118H295,13[8C52%[84;13H[1;84r[84;1H
[1;85r[84;4H [32mint[m i=[31m0[m;[85;118H[K[85;118H296,12[8C53%[84;12H[1;84r[84;1H
[1;85r[84;4H [33mwhile[m(c[i] != [35m'\0'[m)[85;118H[K[85;118H297,13[8C53%[84;13H[1;84r[84;1H
[1;85r[84;4H {[85;118H[K[85;118H298,5[9C53%[84;5H[1;84r[84;1H
[1;85r[84;8H [33mif[m(c[46m[[mi[46m][m == [31m' '[m)[85;118H[K[85;118H299,13[8C53%[84;13H[1;84r[84;1H
[1;85r[83;13H[i][84;8H {[85;118H[K[85;118H300,9[9C54%[84;9H[1;84r[84;1H
[1;85r[84;12H count++;[85;118H[K[85;118H301,13[8C54%[84;13H[1;84r[84;1H
[1;85r[82;9H[46m{[m[84;8H [46m}[m[85;118H[K[85;118H302,9[9C54%[84;9H[1;84r[84;1H
[1;85r[81;9H{[83;9H}[84;8H i++;[85;118H[K[85;118H303,12[8C54%[84;12H[1;84r[84;1H
[1;85r[78;5H[46m{[m[84;4H [46m}[m[85;118H[K[85;118H304,5[9C55%[84;5H[1;84r[84;1H
[1;85r[77;5H{[83;5H}
    [33mreturn[m count+[31m1[m;[85;118H[K[85;118H305,13[8C55%[84;13H[1;84r[84;1H
[1;85r[72;1H[46m{[84;1H}[m[85;118H[K[85;118H306,1[9C55%[84;1H[1;84r[84;1H
[1;85r[71;1H{[83;1H}
[34m//this fxn counts the number of & and | and pushes them back in order[m[85;118H[K[85;118H307,13[8C55%[84;13H[1;84r[84;1H
[1;85r[85;118H[K[85;118H308,0-1[7C56%[84;1H[1;84r[84;1H
[1;85r[84;1Hvector<[32mint[m> cmds_order([32mchar[m *c)[85;118H[K[85;118H309,13[8C56%[84;13H[1;84r[84;1H
[1;85r[84;1H{[85;118H[K[85;118H310,1[9C56%[84;1H[1;84r[84;1H
[1;85r[84;4H vector<[32mint[m> v;[85;118H[K[85;118H311,13[8C56%[84;13H[1;84r[84;1H
[1;85r[84;4H [32mint[m i=[31m0[m;[85;118H[K[85;118H312,12[8C57%[84;12H[1;84r[84;1H
[1;85r[84;4H [33mwhile[m(c[i] != [35m'\0'[m)[85;118H[K[85;118H313,13[8C57%[84;13H[1;84r[84;1H
[1;85r[84;4H {[85;118H[K[85;118H314,5[9C57%[84;5H[1;84r[84;1H
[1;85r[84;8H [33mif[m ([46m([mc[i] ==[31m'&'[m[46m)[m&&(c[i+[31m1[m]==[31m'&'[m))[85;118H[K[85;118H315,13[8C57%[84;13H[1;84r[84;1H
[1;85r[83;13H([10C)[84;12H {[85;118H[K[85;118H316,13[8C58%[84;13H[1;84r[84;1H
[1;85r[84;16H v.push_back([31m1[m);[85;118H[K[85;118H317,13[8C58%[84;13H[1;84r[84;1H
[1;85r[84;16H c[i+[31m1[m] = [31m' '[m;[85;118H[K[85;118H318,13[8C58%[84;13H[1;84r[84;1H
[1;85r[84;16H i = i+[31m2[m;[85;118H[K[85;118H319,13[8C58%[84;13H[1;84r[84;1H
[1;85r[80;13H[46m{[m[84;12H [46m}[m[85;118H[K[85;118H320,13[8C59%[84;13H[1;84r[84;1H
[1;85r[79;13H{[83;13H}[84;8H [33mif[m ([46m([mc[i] ==[31m'|'[m[46m)[m&&(c[i+[31m1[m] ==[31m'|'[m))[85;118H[K[85;118H321,13[8C59%[84;13H[1;84r[84;1H
[1;85r[83;13H([10C)[84;12H {[85;118H[K[85;118H322,13[8C59%[84;13H[1;84r[84;1H
[1;85r[84;16H v.push_back([31m2[m);[85;118H[K[85;118H323,13[8C59%[84;13H[1;84r[84;1H
[1;85r[84;16H c[i] = [31m'&'[m;[85;118H[K[85;118H324,13[8C60%[84;13H[1;84r[84;1H
[1;85r[84;16H c[i+[31m1[m] = [31m' '[m;[85;118H[K[85;118H325,13[8C60%[84;13H[1;84r[84;1H
[1;85r[84;16H i = i+[31m2[m;[85;118H[K[85;118H326,13[8C60%[84;13H[1;84r[84;1H
[1;85r[79;13H[46m{[m[84;12H [46m}[m[85;118H[K[85;118H327,13[8C60%[84;13H[1;84r[84;1H
[1;85r[78;13H{[83;13H}[84;8H [33melse[m[85;118H[K[85;118H328,12[8C61%[84;12H[1;84r[84;1H
[1;85r[84;12H i++;[85;118H[K[85;118H329,13[8C61%[84;13H[1;84r[84;1H
[1;85r[68;5H[46m{[m[84;4H [46m}[m[85;118H[K[85;118H330,5[9C61%[84;5H[1;84r[84;1H
[1;85r[67;5H{[83;5H}
    [34m//c[i] = '\0';[m[85;118H[K[85;118H331,13[8C61%[84;13H[1;84r[84;1H
[1;85r[84;4H [33mreturn[m v;[85;118H[K[85;118H332,13[8C62%[84;13H[1;84r[84;1H
[1;85r[61;1H[46m{[84;1H}[m[85;118H[K[85;118H333,1[9C62%[84;1H[1;84r[84;1H
[1;85r[60;1H{[83;1H}
[34m//this fxm will run the commands passed in as char *c[m[85;118H[K[85;118H334,13[8C62%[84;13H[1;84r[84;1H
[1;85r[84;1H[32mint[m  run_exec( [32mchar[m *c, [32mint[m count)[85;118H[K[85;118H335,13[8C62%[84;13H[1;84r[84;1H
[1;85r[84;1H{[85;118H[K[85;118H336,1[9C63%[84;1H[1;84r[84;1H
[1;85r[84;4H [32mchar[m **cmd = [33mnew[m [32mchar[m*[count+[31m1[m];[85;118H[K[85;118H337,13[8C63%[84;13H[1;84r[84;1H
[1;85r[85;118H[K[85;118H338,0-1[7C63%[84;1H[1;84r[84;1H
[1;85r[84;4H string word = string(c);[85;118H[K[85;118H339,13[8C63%[84;13H[1;84r[84;1H
[1;85r[84;1H[34m//    cerr<<word<<endl;[m[85;118H[K[85;118H340,13[8C64%[84;13H[1;84r[84;1H
[1;85r[84;4H istringstream iss(c);[85;118H[K[85;118H341,13[8C64%[84;13H[1;84r[84;1H
[1;85r[84;4H [32mint[m i=[31m0[m;[85;118H[K[85;118H342,12[8C64%[84;12H[1;84r[84;1H
[1;85r[84;4H [33mwhile[m(iss >>word)[85;118H[K[85;118H343,13[8C64%[84;13H[1;84r[84;1H
[1;85r[84;4H {[85;118H[K[85;118H344,5[9C65%[84;5H[1;84r[84;1H
[1;85r[84;8H [32mconst[m [32mchar[m *x = word.c_str();[85;118H[K[85;118H345,13[8C65%[84;13H[1;84r[84;1H
[1;85r[84;8H cmd[i] = [33mnew[m [32mchar[m[word.size()+[31m1[m];[85;118H[K[85;118H346,13[8C65%[84;13H[1;84r[84;1H
[1;85r[84;8H strcpy(cmd[i], x );[85;118H[K[85;118H347,13[8C65%[84;13H[1;84r[84;1H
[1;85r[84;8H i++;[85;118H[K[85;118H348,12[8C66%[84;12H[1;84r[84;1H
[1;85r[79;5H[46m{[m[84;4H [46m}[m[85;118H[K[85;118H349,5[9C66%[84;5H[1;84r[84;1H
[1;85r[78;5H{[83;5H}
    cmd[i] = [35m'\0'[m;[85;118H[K[85;118H350,13[8C66%[84;13H[1;84r[84;1H
[1;85r[84;4H [32mint[m status;[85;118H[K[85;118H351,13[8C66%[84;13H[1;84r[84;1H
[1;85r[84;4H [34m//this will run if there are <,>,>> in the command[m[85;118H[K[85;118H352,13[8C67%[84;13H[1;84r[84;1H
[1;85r[84;4H [34m//then we wil check to pipes and execute i/o redirection and piping within this loop[m[85;118H[K[85;118H353,13[8C67%[84;13H[1;84r[84;1H
[1;85r[84;4H [33mif[m( pipes(cmd) == [31mtrue[m )[85;118H[K[85;118H354,13[8C67%[84;13H[1;84r[84;1H
[1;85r[84;4H {[85;118H[K[85;118H355,5[9C67%[84;5H[1;84r[84;1H
[1;85r[84;1H[34m//        cerr<<"FOUND PIPE"<<endl;[m[85;118H[K[85;118H356,13[8C68%[84;13H[1;84r[84;1H
[1;85r[84;8H [34m//now i have to separate the arguments in the pipe[m[85;118H[K[85;118H357,13[8C68%[84;13H[1;84r[84;1H
[1;85r[84;8H find_pipes(cmd);[85;118H[K[85;118H358,13[8C68%[84;13H[1;84r[84;1H
[1;85r[80;5H[46m{[m[84;4H [46m}[m[85;118H[K[85;118H359,5[9C68%[84;5H[1;84r[84;1H
[1;85r[79;5H{[83;5H}
    [34m//all other regular commands will be ran through this loop[m[85;118H[K[85;118H360,13[8C69%[84;13H[1;84r[84;1H
[1;85r[84;4H [33melse[m[85;118H[K[85;118H361,8[9C69%[84;8H[1;84r[84;1H
[1;85r[84;4H {[85;118H[K[85;118H362,5[9C69%[84;5H[1;84r[84;1H
[1;85r[84;8H status = [31m1[m;[85;118H[K[85;118H363,13[8C69%[84;13H[1;84r[84;1H
[1;85r[84;1H[34m//        cerr<<"no pipe"<<endl;[m[85;118H[K[85;118H364,13[8C70%[84;13H[1;84r[84;1H
[1;85r[84;8H [32mint[m pid = fork();[85;118H[K[85;118H365,13[8C70%[84;13H[1;84r[84;1H
[1;85r[84;8H [33mif[m(pid == -[31m1[m)[85;118H[K[85;118H366,13[8C70%[84;13H[1;84r[84;1H
[1;85r[84;8H {[85;118H[K[85;118H367,9[9C70%[84;9H[1;84r[84;1H
[1;85r[84;12H perror([31m"fork fail"[m);[85;118H[K[85;118H368,13[8C71%[84;13H[1;84r[84;1H
[1;85r[84;12H exit([31m1[m);[85;118H[K[85;118H369,13[8C71%[84;13H[1;84r[84;1H
[1;85r[81;9H[46m{[m[84;8H [46m}[m[85;118H[K[85;118H370,9[9C71%[84;9H[1;84r[84;1H
[1;85r[80;9H{[83;9H}[84;8H [33melse[m [33mif[m(pid == [31m0[m)[85;118H[K[85;118H371,13[8C71%[84;13H[1;84r[84;1H
[1;85r[84;8H {[85;118H[K[85;118H372,9[9C72%[84;9H[1;84r[84;1H
[1;85r[84;12H [34m//this will check for i/o redirection[m[85;118H[K[85;118H373,13[8C72%[84;13H[1;84r[84;1H
[1;85r[84;12H check_dup(cmd);[85;118H[K[85;118H374,13[8C72%[84;13H[1;84r[84;1H
[1;85r[85;118H[K[85;118H375,0-1[7C72%[84;1H[1;84r[84;1H
[1;85r[84;12H [33mif[m (execvp(cmd[[31m0[m], cmd) !=[31m0[m )[85;118H[K[85;118H376,13[8C73%[84;13H[1;84r[84;1H
[1;85r[84;12H {[85;118H[K[85;118H377,13[8C73%[84;13H[1;84r[84;1H
[1;85r[84;16H perror([31m"error in execvp"[m);[85;118H[K[85;118H378,13[8C73%[84;13H[1;84r[84;1H
[1;85r[84;16H exit([31m1[m);[85;118H[K[85;118H379,13[8C73%[84;13H[1;84r[84;1H
[1;85r[81;13H[46m{[m[84;12H [46m}[m[85;118H[K[85;118H380,13[8C74%[84;13H[1;84r[84;1H
[1;85r[75;9H[46m{[m[80;13H{[83;13H}[84;8H [46m}[m[85;118H[K[85;118H381,9[9C74%[84;9H[1;84r[84;1H
[1;85r[74;9H{[83;9H}[84;8H [34m//else[m[85;118H[K[85;118H382,13[8C74%[84;13H[1;84r[84;1H
[1;85r[84;8H [34m//{[m[85;118H[K[85;118H383,11[8C74%[84;11H[1;84r[84;1H
[1;85r[84;12H [33mif[m (wait(&status) == -[31m1[m)[85;118H[K[85;118H384,13[8C75%[84;13H[1;84r[84;1H
[1;85r[84;12H {[85;118H[K[85;118H385,13[8C75%[84;13H[1;84r[84;1H
[1;85r[84;16H perror([31m"error in wait"[m);[85;118H[K[85;118H386,13[8C75%[84;13H[1;84r[84;1H
[1;85r[84;16H exit([31m1[m);[85;118H[K[85;118H387,13[8C75%[84;13H[1;84r[84;1H
[1;85r[81;13H[46m{[m[84;12H [46m}[m[85;118H[K[85;118H388,13[8C76%[84;13H[1;84r[84;1H
[1;85r[78;11H[34m[46m{[m[80;13H{[83;13H}[84;7H [34m//[m[34m[46m}[m[85;118H[K[85;118H389,10[8C76%[84;10H[1;84r[84;1H
[1;85r[56;5H[46m{[m[77;11H[34m{[83;10H}[m
    [46m}[m[85;118H[K[85;118H390,5[9C76%[84;5H[1;84r[84;1H
[1;85r[55;5H{[83;5H}
[34m/*    int f=0;[m[85;118H[K[85;118H391,13[8C76%[84;13H[1;84r[84;1H
[1;85r[84;1H[34m    while( f < count+1)[m[85;118H[K[85;118H392,13[8C77%[84;13H[1;84r[84;1H
[1;85r[84;1H[34m    {[m[85;118H[K[85;118H393,5[9C77%[84;5H[1;84r[84;1H
[1;85r[84;1H[34m        delete[] cmd[f];[m[85;118H[K[85;118H394,13[8C77%[84;13H[1;84r[84;1H
[1;85r[84;1H[34m        f++;[m[85;118H[K[85;118H395,12[8C77%[84;12H[1;84r[84;1H
[1;85r[84;1H[34m    }*/[m[85;118H[K[85;118H396,7[9C78%[84;7H[1;84r[84;1H
[1;85r[84;4H [33mdelete[m[] cmd;[85;118H[K[85;118H397,13[8C78%[84;13H[1;84r[84;1H
[1;85r[84;4H [33mreturn[m status;[85;118H[K[85;118H398,13[8C78%[84;13H[1;84r[84;1H
[1;85r[84;4H [34m//this returns 0 if the execvp ran succesfully[m[85;118H[K[85;118H399,13[8C78%[84;13H[1;84r[84;1H
[1;85r[20;1H[46m{[84;1H}[m[85;118H[K[85;118H400,1[9C79%[84;1H[1;84r[84;1H
[1;85r[19;1H{[83;1H}[85;118H[K[85;118H401,0-1[7C79%[84;1H[1;84r[84;1H
[1;85r[84;1H[32mint[m main([32mint[m argc, [32mchar[m **argv)[85;118H[K[85;118H402,13[8C79%[84;13H[1;84r[84;1H
[1;85r[84;1H{[85;118H[K[85;118H403,1[9C79%[84;1H[85;120H2,13[83;13H[85;120H1,0-1[82;1H[17;1H[46m{[81;1H}[m[85;120H0,1  [81;1H[17;1H{[81;1H}[85;118H399,13[80;13H[85;120H8[79;13H[85;120H7[78;13H[85;120H6,7 [77;7H[85;120H5,12[76;12H[85;120H4,13[75;13H[74;5H[34m[46m{[77;5H}[m[85;120H3,5 [74;5H[34m{[77;5H}[m[85;120H2,13[73;13H[85;120H1[72;13H[43;5H[46m{[71;5H}[m[85;120H0,5 [71;5H[43;5H{[64;11H[34m[46m{[70;10H}[m
    }[85;119H89,10[70;10H[64;11H[34m{[m[66;13H[46m{[69;13H}[m[70;10H[34m}[m[85;120H8,13[69;13H[66;13H{[69;13H}[85;120H7[68;13H[85;120H6[67;13H[66;13H[46m{[69;13H}[m[85;120H5[66;13H{[69;13H}[85;120H4[65;13H[64;11H[34m[46m{[70;10H}[m[85;120H3,11[64;11H[34m{[70;10H}[m[85;120H2,13[63;13H[53;9H[46m{[62;9H}[m[85;120H1,9 [62;9H[53;9H{[58;13H[46m{[61;13H}[m[62;9H}[85;120H0,13[61;13H[58;13H{[61;13H}[85;119H79[60;13H[85;120H8[59;13H[58;13H[46m{[61;13H}[m[85;120H7[58;13H{[61;13H}[85;120H6[57;13H[85;120H5,0-1[56;1H[85;120H4,13 [55;13H[85;120H3[54;13H[53;9H[46m{[62;9H}[m[85;120H2,9 [53;9H{[62;9H}[85;120H1,13[52;13H[48;9H[46m{[51;9H}[m[85;120H0,9 [51;9H[48;9H{[51;9H}[85;119H69,13[50;13H[85;120H8[49;13H[48;9H[46m{[51;9H}[m[85;120H7,9 [48;9H{[51;9H}[85;120H6,13[47;13H[85;120H5[46;13H[85;120H4[45;13H[85;120H3[44;13H[43;5H[46m{[71;5H}[m[85;120H2,5 [43;5H{[71;5H}[85;120H3,13[44;13H[43;5H[46m{[71;5H}[m[85;120H2,5 [43;5H{[71;5H}[85;120H1,8[42;8H[85;120H0,13[41;13H[36;5H[46m{[40;5H}[m[85;119H59,5 [40;5H[36;5H{[40;5H}[85;120H8,13[39;13H[85;120H7[38;13H[85;120H6[37;13H[36;5H[46m{[40;5H}[m[85;120H5,5 [36;5H{[40;5H}[85;120H4,13[35;13H[85;120H3[34;13H[85;120H2[33;13H[85;120H1[32;13H[85;120H0[31;13H[25;5H[46m{[30;5H}[m[85;119H49,5 [30;5H[25;5H{[30;5H}[85;120H8,12[29;12H[85;120H7,13[28;13H[85;120H8,12[29;12H[25;5H[46m{[30;5H}[m[85;120H9,5 [30;5H[25;5H{[30;5H}[85;119H50,13[31;13H[85;120H1[32;13H[85;120H2[33;13H[85;120H3[34;13H[85;120H4[35;13H
    [46m{[40;5H}[m[85;120H5,5 [36;5H{[40;5H}[85;120H6,13[37;13H[85;120H7[38;13H[85;120H8[39;13H[36;5H[46m{[40;5H}[m[85;120H9,5 [40;5H[36;5H{[40;5H}[85;119H60,13[41;13H[85;120H1,8 [42;8H
    [46m{[71;5H}[m[85;120H2,5[43;5H{[71;5H}[85;120H3,13[44;13H[85;120H4[45;13H[85;120H5[46;13H[85;120H6[47;13H[48;9H[46m{[51;9H}[m[85;120H7,9 [48;9H{[51;9H}[85;120H8,13[49;13H[85;120H9[50;13H[48;9H[46m{[51;9H}[m[85;119H70,9 [51;9H[48;9H{[51;9H}[85;120H1,13[52;13H[53;9H[46m{[62;9H}[m[85;120H2,9 [53;9H{[62;9H}[85;120H3,13[54;13H[85;120H4[55;13H[85;120H5,0-1[56;1H[85;120H6,13 [57;13H[58;13H[46m{[61;13H}[m[85;120H7[58;13H{[61;13H}[85;120H8[59;13H[85;120H9[60;13H[58;13H[46m{[61;13H}[m[85;119H80[61;13H[53;9H[46m{[m[58;13H{[61;13H}[62;9H[46m}[m[85;120H1,9 [62;9H[53;9H{[62;9H}[85;120H2,13[63;13H[64;11H[34m[46m{[70;10H}[m[85;120H3,11[64;11H[34m{[70;10H}[m[85;120H4,13[65;13H[66;13H[46m{[69;13H}[m[85;120H5[66;13H{[69;13H}[85;120H6[67;13H[85;120H7[68;13H[66;13H[46m{[69;13H}[m[85;120H8[69;13H[64;11H[34m[46m{[m[66;13H{[69;13H}[70;10H[34m[46m}[m[85;120H9,10[70;10H[43;5H[46m{[m[64;11H[34m{[70;10H}[m
    [46m}[m[85;119H90,5 [71;5H[43;5H{[71;5H}[85;120H1,13[72;13H[85;120H2[73;13H[85;120H1[72;13H[85;123H2[72;12H[85;123H1[72;11H[85;123H0[72;10H[85;122H9 [72;9H[85;122H8[72;8H[85;122H7[72;7H[85;122H6[72;6H[85;122H5[72;5H[85;122H4[72;4H[85;122H3[72;3H[85;122H2[72;2H[85;122H1[72;1H[85;122H2[72;2H[85;122H3[72;3H[85;122H2[72;2H[85;122H1[72;1H[85;1H[1m-- INSERT --[m[85;118H[K[85;118H391,1[9C79%[72;1H[85;122H2[72;2H[85;122H3[72;3H/    [32mint[m f=[31m0[m;[72;14H[K[73;1H    [33mwhile[m( f < count+[31m1[m)
    {
        [33mdelete[m[] cmd[f];
        f++;
    }[1m[37m[41m*/[m[85;122H2[72;2H    [32mint[m f=[31m0[m;[72;13H[K[85;122H1[72;1H[85;120H2[73;1H[85;120H3[74;1H[85;120H4[75;1H[85;120H5[76;1H[85;122H2[76;2H[85;122H3[76;3H[85;122H4[76;4H[85;122H5[76;5H[85;122H6[76;6H[74;5H[46m{[77;5H}[m[85;120H6[77;6H[74;5H{[77;5H}[85;122H7[77;7H[85;122H8[77;8H*[77;7H[K[85;122H7[77;7H[77;6H[K[74;5H[46m{[77;5H}[m[85;122H6[77;6H[85;1H[K[77;5H[85;118H396,5[9C79%[77;5H[85;118H[K[85;1H:wq"src/rshell.cpp" 483L, 10995C written
[?1l>[2J[?47l8[s%%%%%%%%%%[u[0;32mmonti004[0;36m@[0;32mcs100[0;36m:[0;32m~/rshell[0;95m ((hw2)) [0;36m$[0m vim src/rshell.cppalgrind --leak-check=full bin/rshell[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[Kmake
g++ -Wall -Werror -ansi -pedantic -o   bin/rshell src/rshell.cpp
g++ -Wall -Werror -ansi -pedantic -o bin/ls src/ls.cpp
[s%%%%%%%%%%[u[0;32mmonti004[0;36m@[0;32mcs100[0;36m:[0;32m~/rshell[0;95m ((hw2)) [0;36m$[0m makevim src/rshell.cppalgrind --leak-check=full bin/rshell
==22556== Memcheck, a memory error detector
==22556== Copyright (C) 2002-2012, and GNU GPL'd, by Julian Seward et al.
==22556== Using Valgrind-3.8.1 and LibVEX; rerun with -h for copyright info
==22556== Command: bin/rshell
==22556== 
$ cat<Makefile
CC = g++
FLAGS = -Wall -Werror -ansi -pedantic

all:|bin 
	$(CC) $(FLAGS) -o   bin/rshell src/rshell.cpp
	$(CC) $(FLAGS) -o bin/ls src/ls.cpp


rshell: |bin
	$(CC) -o bin/rshell src/rshell.cpp
ls: |bin
	$(CC) -o bin/ls src/ls.cpp

bin: 
	mkdir bin

clean: 
	rm -rf bin


==22556== Conditional jump or move depends on uninitialised value(s)
==22556==    at 0x4021E2: run_exec(char*, int) (in /class/classes/monti004/rshell/bin/rshell)
==22556==    by 0x402559: main (in /class/classes/monti004/rshell/bin/rshell)
==22556== 
$ exit
==22556== 
==22556== HEAP SUMMARY:
==22556==     in use at exit: 29 bytes in 1 blocks
==22556==   total heap usage: 17 allocs, 16 frees, 666 bytes allocated
==22556== 
==22556== 29 bytes in 1 blocks are possibly lost in loss record 1 of 1
==22556==    at 0x4A075FC: operator new(unsigned long) (vg_replace_malloc.c:298)
==22556==    by 0x3B5B29C3C8: std::string::_Rep::_S_create(unsigned long, unsigned long, std::allocator<char> const&) (in /usr/lib64/libstdc++.so.6.0.13)
==22556==    by 0x3B5B29D19A: std::string::_Rep::_M_clone(std::allocator<char> const&, unsigned long) (in /usr/lib64/libstdc++.so.6.0.13)
==22556==    by 0x3B5B29D5EB: std::string::reserve(unsigned long) (in /usr/lib64/libstdc++.so.6.0.13)
==22556==    by 0x3B5B27BFF4: std::basic_istream<char, std::char_traits<char> >& std::getline<char, std::char_traits<char>, std::allocator<char> >(std::basic_istream<char, std::char_traits<char> >&, std::basic_string<char, std::char_traits<char>, std::allocator<char> >&, char) (in /usr/lib64/libstdc++.so.6.0.13)
==22556==    by 0x402312: main (in /class/classes/monti004/rshell/bin/rshell)
==22556== 
==22556== LEAK SUMMARY:
==22556==    definitely lost: 0 bytes in 0 blocks
==22556==    indirectly lost: 0 bytes in 0 blocks
==22556==      possibly lost: 29 bytes in 1 blocks
==22556==    still reachable: 0 bytes in 0 blocks
==22556==         suppressed: 0 bytes in 0 blocks
==22556== 
==22556== For counts of detected and suppressed errors, rerun with: -v
==22556== Use --track-origins=yes to see where uninitialised values come from
==22556== ERROR SUMMARY: 17 errors from 2 contexts (suppressed: 6 from 6)
[s%%%%%%%%%%[u[0;32mmonti004[0;36m@[0;32mcs100[0;36m:[0;32m~/rshell[0;95m ((hw2)) [0;36m$[0m valgrind --leak-check=full bin/rshell[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Cmake[Kvim src/rshell.cppalgrind --leak-check=full bin/rshell[19Pim src/rshell.cpp
7[?47h[?1h=[1;85r[m[H[2J[85;1H"src/rshell.cpp" 483L, 10995C[>c[1;4H {
[34m//        cerr<<"FOUND PIPE"<<endl;[m[3;8H [34m//now i have to separate the arguments in the pipe[m[4;8H find_pipes(cmd);
    }
    [34m//all other regular commands will be ran through this loop[m
    [33melse[m
    {[9;8H status = [31m1[m;
[34m//        cerr<<"no pipe"<<endl;[m[11;8H [32mint[m pid = fork();[12;8H [33mif[m(pid == -[31m1[m)[13;8H {[14;12H perror([31m"fork fail"[m);[15;12H exit([31m1[m);[16;8H }[17;8H [33melse[m [33mif[m(pid == [31m0[m)[18;8H {[19;12H [34m//this will check for i/o redirection[m[20;12H check_dup(cmd);[22;12H [33mif[m (execvp(cmd[[31m0[m], cmd) !=[31m0[m )[23;12H {[24;16H perror([31m"error in execvp"[m);[25;16H exit([31m1[m);[26;12H }[27;8H }[28;8H [34m//else[m[29;8H [34m//{[m[30;12H [33mif[m (wait(&status) == -[31m1[m)[31;12H {[32;16H perror([31m"error in wait"[m);[33;16H exit([31m1[m);[34;12H }[35;7H [34m//}[m
    }
    [32mint[m f=[31m0[m;
    [33mwhile[m( f < count+[31m1[m)
    {[40;8H [33mdelete[m[] cmd[f];[41;8H f++;
    }
    [33mdelete[m[] cmd;
    [33mreturn[m status;
    [34m//this returns 0 if the execvp ran succesfully[m
}

[32mint[m main([32mint[m argc, [32mchar[m **argv)
{
    [33mwhile[m([31m1[m)
    {[52;8H cerr<<[31m"$ "[m;[54;8H string command_line;[56;8H getline(cin, command_line);[58;8H [33mif[m ( command_line.find([31m"exit"[m) != string::npos)[59;12H exit([31m0[m);
[34m//        cerr<<command_line<<endl;[m[61;8H [34m//this will make sure there is spaces before and after i/o redirection[m[62;8H check_spaces(command_line);
[34m//        cerr<<command_line<<endl;[m[64;8H [32mchar[m *commands = [33mnew[m [32mchar[m[command_line.length()+[31m1[m];[65;8H strcpy(commands, command_line.c_str());[67;8H [32mchar[m *token,*save;[69;8H token = strtok_r(commands,[31m"#"[m,&save);[70;8H token = strtok_r(commands,[31m";"[m,&save);[72;8H [33mwhile[m(token!= [31mNULL[m)[73;8H {[74;12H vector<[32mint[m> order;[75;12H [32mbool[m prev = [31mtrue[m;[76;12H [34m//i count the number of conditions and label & with 1 and | with 2[m[77;12H [34m//this will also change || to & to make tokenizing easier when adding pipping.[m[78;12H [34m//both && and || will be & but the order they appeared as initially will be in the vector[m[79;12H order = cmds_order(token);[80;12H [33mif[m ( !(order.empty() ))[81;12H {[82;16H [32mint[m i = -[31m1[m;[83;16H [32mchar[m *token2, *save2;[84;16H token2 = strtok_r(token, [31m"&"[m, &save2);[85;118H396,5[9C88%[42;5HP+q436f\P+q6b75\P+q6b64\P+q6b72\P+q6b6c\P+q2332\P+q2334\P+q2569\P+q2a37\P+q6b31\[85;120H7[43;5H[85;120H8[44;5H[85;120H9[45;5H[85;118H400,1[46;1H[85;120H1,0-1[47;1H[85;120H2,5  [48;5H[85;120H3,1[49;1H[85;120H4,5[50;5H[85;120H5[51;5H[85;120H6[52;5H[85;120H7,5-8[53;8H[85;120H8,5  [54;5H[85;120H9,0-1[55;1H[85;119H10,5  [56;5H[85;120H1,0-1[57;1H[85;120H2,5  [58;5H[85;120H3[59;5H[85;120H4[60;5H[85;120H5[61;5H[85;120H6[62;5H[85;120H7[63;5H[85;120H8[64;5H[85;120H9[65;5H[85;119H20,2[66;2H[85;120H1,5[67;5H[85;120H0,2[66;2H[85;119H19,5[65;5H[85;120H8[64;5H[85;120H7[63;5H[85;120H6[62;5H[85;120H5[61;5H[85;120H4[60;5H[85;120H3[59;5H[85;120H2[58;5H[85;120H1,0-1[57;1H[85;120H0,5  [56;5H[85;119H09,0-1[55;1H[85;120H8,5  [54;5H[85;120H7,5-8[53;8H[85;120H6,5  [52;5H[85;120H5[51;5H[85;120H4[50;5H[85;120H3,1[49;1H[85;120H2,5[48;5H[85;120H1,0-1[47;1H[85;120H0,1  [46;1H[85;118H399,5[45;5H[85;120H8[44;5H[85;120H7[43;5H[39;5H[46m{[42;5H}[m[85;120H6[42;5H[39;5H{[42;5H}[85;120H5[41;5H[85;120H4[40;5H[39;5H[46m{[42;5H}[m[85;120H3[39;5H{[42;5H}[85;120H2[38;5H[85;120H1[37;5H[8;5H[46m{[36;5H}[m[85;120H0[36;5H[8;5H{[36;5H}[85;119H89[35;5H[85;120H8[34;5H[85;120H7[33;5H[85;120H6[32;5H[85;120H5[31;5H[85;120H4[30;5H[85;120H3[29;5H[85;120H2[28;5H[85;120H1[27;5H[85;120H0[26;5H[85;119H79[25;5H[85;120H8[24;5H[85;120H7[23;5H[85;120H6[22;5H[85;120H5,0-1[21;1H[85;120H4,5  [20;5H[85;120H3[19;5H[85;120H2[18;5H[85;120H1[17;5H[85;120H0[16;5H[85;119H69[15;5H[85;120H8[14;5H[85;120H7[13;5H[85;120H6[12;5H[85;120H5[11;5H[85;120H4[10;5H[85;120H3[9;5H[8;5H[46m{[36;5H}[m[85;120H2[8;5H{[36;5H}[85;120H1[7;5H[85;120H0[6;5H[1;5H[46m{[5;5H}[m[85;119H59[5;5H[1;5H{[5;5H}[85;120H8[4;5H[85;120H7[3;5H[85;120H6[2;5H[1;5H[46m{[5;5H}[m[85;120H5[1;5H[1;84r[1;1H[L[1;85r[1;4H [33mif[m( pipes(cmd) == [31mtrue[m )
    {[6;5H}[85;1H[K[85;118H354,5[9C88%[1;5H[1;84r[1;1H[L[1;85r[1;4H [34m//then we wil check to pipes and execute i/o redirection and piping within this loop[m[85;118H[K[85;118H353,5[9C88%[1;5H[1;84r[1;1H[L[1;85r[1;4H [34m//this will run if there are <,>,>> in the command[m[85;118H[K[85;118H352,5[9C87%[1;5H[1;84r[1;1H[L[1;85r[1;4H [32mint[m status;[85;118H[K[85;118H351,5[9C87%[1;5H[1;84r[1;1H[L[1;85r[1;4H cmd[i] = [35m'\0'[m;[85;118H[K[85;118H350,5[9C87%[1;5H[1;84r[1;1H[L[1;85r[1;4H }[85;118H[K[85;118H349,5[9C87%[1;5H[1;84r[1;1H[L[1;85r[1;8H i++;[85;118H[K[85;118H348,5[9C86%[1;5H[1;84r[1;1H[L[1;85r[1;8H strcpy(cmd[i], x );[85;118H[K[85;118H347,5[9C86%[1;5H[1;84r[1;1H[L[1;85r[1;8H cmd[i] = [33mnew[m [32mchar[m[word.size()+[31m1[m];[85;118H[K[85;118H346,5[9C86%[1;5H[1;84r[1;1H[L[1;85r[1;8H [32mconst[m [32mchar[m *x = word.c_str();[85;118H[K[85;118H345,5[9C86%[1;5H[1;84r[1;1H[L[1;85r[1;4H [46m{[6;5H}[m[85;118H[K[85;118H344,5[9C85%[1;5H[1;84r[1;1H[L[1;85r[1;4H [33mwhile[m(iss >>word)
    {[7;5H}[85;118H[K[85;118H343,5[9C85%[1;5H[1;84r[1;1H[L[1;85r[1;4H [32mint[m i=[31m0[m;[85;118H[K[85;118H342,5[9C85%[1;5H[1;84r[1;1H[L[1;85r[1;4H istringstream iss(c);[85;118H[K[85;118H341,5[9C85%[1;5H[1;84r[1;1H[L[1;85r[1;1H[34m//    cerr<<word<<endl;[m[85;118H[K[85;118H340,5[9C84%[1;5H[1;84r[1;1H[L[1;85r[1;4H string word = string(c);[85;118H[K[85;118H339,5[9C84%[1;5H[1;84r[1;1H[L[1;85r[85;118H[K[85;118H338,0-1[7C84%[1;1H[1;84r[1;1H[L[1;85r[1;4H [32mchar[m **cmd = [33mnew[m [32mchar[m*[count+[31m1[m];[85;118H[K[85;118H337,5[9C84%[1;5H[1;84r[1;1H[L[1;85r[1;1H[46m{[65;1H}[m[85;118H[K[85;118H336,1[9C83%[1;1H[1;84r[1;1H[L[1;85r[1;1H[32mint[m  run_exec( [32mchar[m *c, [32mint[m count)
{[66;1H}[85;118H[K[85;118H335,5[9C83%[1;5H[1;84r[1;1H[L[1;85r[1;1H[34m//this fxm will run the commands passed in as char *c[m[85;118H[K[85;118H334,5[9C83%[1;5H[1;84r[1;1H[L[1;85r[1;1H}[85;118H[K[85;118H333,1[9C83%[1;1H[1;84r[1;1H[L[1;85r[1;4H [33mreturn[m v;[85;118H[K[85;118H332,5[9C82%[1;5H[1;84r[1;1H[L[1;85r[1;4H [34m//c[i] = '\0';[m[85;118H[K[85;118H331,5[9C82%[1;5H[1;84r[1;1H[L[1;85r[1;4H }[85;118H[K[85;118H330,5[9C82%[1;5H[1;84r[1;1H[L[1;85r[1;12H i++;[85;118H[K[85;118H329,5[9C82%[1;5H[1;84r[1;1H[L[1;85r[1;8H [33melse[m[85;118H[K[85;118H328,5[9C81%[1;5H[1;84r[1;1H[L[1;85r[1;12H }[85;118H[K[85;118H327,5[9C81%[1;5H[1;84r[1;1H[L[1;85r[1;16H i = i+[31m2[m;[85;118H[K[85;118H326,5[9C81%[1;5H[1;84r[1;1H[L[1;85r[1;16H c[i+[31m1[m] = [31m' '[m;[85;118H[K[85;118H325,5[9C81%[1;5H[1;84r[1;1H[L[1;85r[1;16H c[i] = [31m'&'[m;[85;118H[K[85;118H324,5[9C80%[1;5H[1;84r[1;1H[L[1;85r[1;16H v.push_back([31m2[m);[85;118H[K[85;118H323,5[9C80%[1;5H[1;84r[1;1H[L[1;85r[1;12H {[85;118H[K[85;118H322,5[9C80%[1;5H[1;84r[1;1H[L[1;85r[1;8H [33mif[m ((c[i] ==[31m'|'[m)&&(c[i+[31m1[m] ==[31m'|'[m))[85;118H[K[85;118H321,5[9C80%[1;5H[1;84r[1;1H[L[1;85r[1;12H }[85;118H[K[85;118H320,5[9C79%[1;5H[1;84r[1;1H[L[1;85r[1;16H i = i+[31m2[m;[85;118H[K[85;118H319,5[9C79%[1;5H[1;84r[1;1H[L[1;85r[1;16H c[i+[31m1[m] = [31m' '[m;[85;118H[K[85;118H318,5[9C79%[1;5H[1;84r[1;1H[L[1;85r[1;16H v.push_back([31m1[m);[85;118H[K[85;118H317,5[9C79%[1;5H[1;84r[1;1H[L[1;85r[1;12H {[85;118H[K[85;118H316,5[9C78%[1;5H[1;84r[1;1H[L[1;85r[1;8H [33mif[m ((c[i] ==[31m'&'[m)&&(c[i+[31m1[m]==[31m'&'[m))[85;118H[K[85;118H315,5[9C78%[1;5H[1;84r[1;1H[L[1;85r[1;4H [46m{[17;5H}[m[85;118H[K[85;118H314,5[9C78%[1;5H[1;84r[1;1H[L[1;85r[1;4H [33mwhile[m(c[i] != [35m'\0'[m)
    {[18;5H}[85;118H[K[85;118H313,5[9C78%[1;5H[1;84r[1;1H[L[1;85r[1;4H [32mint[m i=[31m0[m;[85;118H[K[85;118H312,5[9C77%[1;5H[1;84r[1;1H[L[1;85r[1;4H vector<[32mint[m> v;[85;118H[K[85;118H311,5[9C77%[1;5H[1;84r[1;1H[L[1;85r[1;1H[46m{[24;1H}[m[85;118H[K[85;118H310,1[9C77%[1;1H[1;84r[1;1H[L[1;85r[1;1Hvector<[32mint[m> cmds_order([32mchar[m *c)
{[25;1H}[85;118H[K[85;118H309,5[9C77%[1;5H[1;84r[1;1H[L[1;85r[85;118H[K[85;118H308,0-1[7C76%[1;1H[1;84r[1;1H[L[1;85r[1;1H[34m//this fxn counts the number of & and | and pushes them back in order[m[85;118H[K[85;118H307,5[9C76%[1;5H[1;84r[1;1H[L[1;85r[1;1H}[85;118H[K[85;118H306,1[9C76%[1;1H[1;84r[1;1H[L[1;85r[1;4H [33mreturn[m count+[31m1[m;[85;118H[K[85;118H305,5[9C76%[1;5H[1;84r[1;1H[L[1;85r[1;4H }[85;118H[K[85;118H304,5[9C75%[1;5H[1;84r[1;1H[L[1;85r[1;8H i++;[85;118H[K[85;118H303,5[9C75%[1;5H[1;84r[1;1H[L[1;85r[1;8H }[85;118H[K[85;118H302,5[9C75%[1;5H[1;84r[1;1H[L[1;85r[1;12H count++;[85;118H[K[85;118H301,5[9C75%[1;5H[1;84r[1;1H[L[1;85r[1;8H {[85;118H[K[85;118H300,5[9C74%[1;5H[1;84r[1;1H[L[1;85r[1;8H [33mif[m(c[i] == [31m' '[m)[85;118H[K[85;118H299,5[9C74%[1;5H[1;84r[1;1H[L[1;85r[1;4H [46m{[7;5H}[m[85;118H[K[85;118H298,5[9C74%[1;5H[1;84r[1;1H[L[1;85r[1;4H [33mwhile[m(c[i] != [35m'\0'[m)
    {[8;5H}[85;118H[K[85;118H297,5[9C74%[1;5H[1;84r[1;1H[L[1;85r[1;4H [32mint[m i=[31m0[m;[85;118H[K[85;118H296,5[9C73%[1;5H[1;84r[1;1H[L[1;85r[1;4H [32mint[m count =[31m0[m;[85;118H[K[85;118H295,5[9C73%[1;5H[1;84r[1;1H[L[1;85r[1;1H[46m{[13;1H}[m[85;118H[K[85;118H294,1[9C73%[1;1H[1;84r[1;1H[L[1;85r[1;1H[32mint[m num_tokens( [32mchar[m *c)
{[14;1H}[85;118H[K[85;118H293,5[9C73%[1;5H[1;84r[1;1H[L[1;85r[85;118H[K[85;118H292,0-1[7C72%[1;1H[1;84r[1;1H[L[1;85r[1;1H}[85;118H[K[85;118H291,1[9C72%[1;1H[1;84r[1;1H[L[1;85r[1;4H }[85;118H[K[85;118H290,5[9C72%[1;5H[1;84r[1;1H[L[1;85r[1;8H i++;[85;118H[K[85;118H289,5[9C72%[1;5H[1;84r[1;1H[L[1;85r[1;8H }[85;118H[K[85;118H288,5[9C71%[1;5H[1;84r[1;1H[L[1;85r[1;12H }[85;118H[K[85;118H287,5[9C71%[1;5H[1;84r[1;1H[L[1;85r[1;16H s.insert(i , [31m" "[m);[85;118H[K[85;118H286,5[9C71%[1;5H[1;84r[1;1H[L[1;85r[1;16H s.insert(i+[31m1[m , [31m" "[m);[85;118H[K[85;118H285,5[9C71%[1;5H[1;84r[1;1H[L[1;85r[1;12H {[85;118H[K[85;118H284,5[9C70%[1;5H[1;84r[1;1H[L[1;85r[1;12H [33melse[m[85;118H[K[85;118H283,5[9C70%[1;5H[1;84r[1;1H[L[1;85r[1;12H }[85;118H[K[85;118H282,5[9C70%[1;5H[1;84r[1;1H[L[1;85r[1;16H s.insert(i , [31m" "[m);[85;118H[K[85;118H281,5[9C70%[1;5H[1;84r[1;1H[L[1;85r[1;16H s.insert(i+[31m2[m , [31m" "[m);[85;118H[K[85;118H280,5[9C69%[1;5H[1;84r[1;1H[L[1;85r[1;12H {[85;118H[K[85;118H279,5[9C69%[1;5H[1;84r[1;1H[L[1;85r[1;12H [33mif[m (s[i+[31m1[m] == [31m'>'[m)[85;118H[K[85;118H278,5[9C69%[1;5H[1;84r[1;1H[L[1;85r[1;8H {[85;118H[K[85;118H277,5[9C69%[1;5H[1;84r[1;1H[L[1;85r[1;8H [33melse[m [33mif[m (s[i] == [31m'>'[m)[85;118H[K[85;118H276,5[9C68%[1;5H[1;84r[1;1H[L[1;85r[1;8H }[85;118H[K[85;118H275,5[9C68%[1;5H[1;84r[1;1H[L[1;85r[85;118H[K[85;118H274,0-1[7C68%[1;1H[1;84r[1;1H[L[1;85r[1;12H s.insert(i , [31m" "[m);[85;118H[K[85;118H273,5[9C68%[1;5H[1;84r[1;1H[L[1;85r[1;12H s.insert(i+[31m1[m , [31m" "[m);[85;118H[K[85;118H272,5[9C67%[1;5H[1;84r[1;1H[L[1;85r[1;8H {[85;118H[K[85;118H271,5[9C67%[1;5H[1;84r[1;1H[L[1;85r[1;8H [33melse[m [33mif[m (s[i] == [31m'|'[m)[85;118H[K[85;118H270,5[9C67%[1;5H[1;84r[1;1H[L[1;85r[1;8H }[85;118H[K[85;118H269,5[9C67%[1;5H[1;84r[1;1H[L[1;85r[1;12H s.insert(i , [31m" "[m);[85;118H[K[85;118H268,5[9C66%[1;5H[1;84r[1;1H[L[1;85r[1;12H s.insert(i+[31m1[m , [31m" "[m);[85;118H[K[85;118H267,5[9C66%[1;5H[1;84r[1;1H[L[1;85r[1;8H {[85;118H[K[85;118H266,5[9C66%[1;5H[1;84r[1;1H[L[1;85r[1;8H [33mif[m (s[i] == [31m'<'[m)[85;118H[K[85;118H265,5[9C66%[1;5H[1;84r[1;1H[L[1;85r[1;4H [46m{[27;5H}[m[85;118H[K[85;118H264,5[9C65%[1;5H[1;84r[1;1H[L[1;85r[1;4H [33mwhile[m ( i < size  )
    {[28;5H}[85;118H[K[85;118H263,5[9C65%[1;5H[1;84r[1;1H[L[1;85r[1;4H [32mint[m i=[31m0[m;[85;118H[K[85;118H262,5[9C65%[1;5H[1;84r[1;1H[L[1;85r[1;4H [32mint[m size = s.size();[85;118H[K[85;118H261,5[9C65%[1;5H[1;84r[1;1H[L[1;85r[1;1H[46m{[32;1H}[m[85;118H[K[85;118H260,1[9C64%[1;1H[1;84r[1;1H[L[1;85r[1;1H[32mvoid[m check_spaces(string &s)
{[33;1H}[85;118H[K[85;118H259,5[9C64%[1;5H[1;84r[1;1H[L[1;85r[85;118H[K[85;118H258,0-1[7C64%[1;1H[1;84r[1;1H[L[1;85r[1;1H}[85;118H[K[85;118H257,1[9C64%[1;1H[1;84r[1;1H[L[1;85r[1;1H[34m//    return status;[m[85;118H[K[85;118H256,5[9C63%[1;5H[1;84r[1;1H[L[1;85r[85;118H[K[85;118H255,0-1[7C63%[1;1H[1;84r[1;1H[L[1;85r[85;118H[K[85;118H254,0-1[7C63%[1;1H[1;84r[1;1H[L[1;85r[1;4H [33mdelete[m[] b;[85;118H[K[85;118H253,5[9C63%[1;5H[1;84r[1;1H[L[1;85r[1;1H[34m    }*/[m[85;118H[K[85;118H252,5[9C62%[1;5H[1;84r[1;1H[L[1;85r[1;1H[34m        ff++;[m[85;118H[K[85;118H251,5[9C62%[1;5H[1;84r[1;1H[L[1;85r[1;1H[34m        delete[] b[ff];[m[85;118H[K[85;118H250,5[9C62%[1;5H[1;84r[1;1H[L[1;85r[1;1H[34m    [m[34m[46m{[4;5H}[m[85;118H[K[85;118H249,5[9C62%[1;5H[1;84r[1;1H[L[1;85r[1;1H[34m    while( ff < 100)
    {[5;5H}[m[85;118H[K[85;118H248,5[9C61%[1;5H[1;84r[1;1H[L[1;85r[1;1H[34m/*    int ff=0;[m[85;118H[K[85;118H247,5[9C61%[1;5H[1;84r[1;1H[L[1;85r[1;4H [33mdelete[m[] a;[85;118H[K[85;118H246,5[9C61%[1;5H[1;84r[1;1H[L[1;85r[1;1H[34m    }*/[m[85;118H[K[85;118H245,5[9C61%[1;5H[1;84r[1;1H[L[1;85r[1;1H[34m        f++;[m[85;118H[K[85;118H244,5[9C60%[1;5H[1;84r[1;1H[L[1;85r[1;1H[34m        delete[] a[f];[m[85;118H[K[85;118H243,5[9C60%[1;5H[1;84r[1;1H[L[1;85r[1;1H[34m    [m[34m[46m{[4;5H}[m[85;118H[K[85;118H242,5[9C60%[1;5H[1;84r[1;1H[L[1;85r[1;1H[34m    while( f < 100)
    {[5;5H}[m[85;118H[K[85;118H241,5[9C60%[1;5H[1;84r[1;1H[L[1;85r[1;1H[34m/*    int f=0;[m[85;118H[K[85;118H240,5[9C59%[1;5H[1;84r[1;1H[L[1;85r[85;118H[K[85;118H239,0-1[7C59%[1;1H[1;84r[1;1H[L[1;85r[85;118H[K[85;118H238,0-1[7C59%[1;1H[1;84r[1;1H[L[1;85r[1;4H }[85;118H[K[85;118H237,5[9C59%[1;5H[1;84r[1;1H[L[1;85r[1;8H }[85;118H[K[85;118H236,5[9C58%[1;5H[1;84r[1;1H[L[1;85r[1;12H exit([31m1[m);[85;118H[K[85;118H235,5[9C58%[1;5H[1;84r[1;1H[L[1;85r[1;12H perror([31m"error in wait"[m);[85;118H[K[85;118H234,5[9C58%[1;5H[1;84r[1;1H[L[1;85r[1;8H {[85;118H[K[85;118H233,5[9C58%[1;5H[1;84r[1;1H[L[1;85r[1;8H [33mif[m (wait(&status) == -[31m1[m)[85;118H[K[85;118H232,5[9C57%[1;5H[1;84r[1;1H[L[1;85r[1;4H [46m{[7;5H}[m[85;118H[K[85;118H231,5[9C57%[1;5H[1;84r[1;1H[L[1;85r[1;4H [33melse[m
    {[8;5H}[85;118H[K[85;118H230,5[9C57%[1;5H[1;84r[1;1H[L[1;85r[1;4H }[85;118H[K[85;118H229,5[9C57%[1;5H[1;84r[1;1H[L[1;85r[1;8H }[85;118H[K[85;118H228,5[9C56%[1;5H[1;84r[1;1H[L[1;85r[1;12H exit([31m1[m);[85;118H[K[85;118H227,5[9C56%[1;5H[1;84r[1;1H[L[1;85r[1;12H perror([31m"error in execvp"[m);[85;118H[K[85;118H226,5[9C56%[1;5H[1;84r[1;1H[L[1;85r[1;8H {[85;118H[K[85;118H225,5[9C56%[1;5H[1;84r[1;1H[L[1;85r[1;8H [33mif[m (execvp(c[[31m0[m], c) !=[31m0[m )[85;118H[K[85;118H224,5[9C55%[1;5H[1;84r[1;1H[L[1;85r[85;118H[K[85;118H223,0-1[7C55%[1;1H[1;84r[1;1H[L[1;85r[1;8H check_dup(c);[85;118H[K[85;118H222,5[9C55%[1;5H[1;84r[1;1H[L[1;85r[1;8H [34m//this will check for i/o redirection[m[85;118H[K[85;118H221,5[9C55%[1;5H[1;84r[1;1H[L[1;85r[1;4H [46m{[10;5H}[m[85;118H[K[85;118H220,5[9C54%[1;5H[1;84r[1;1H[L[1;85r[1;4H [33melse[m [33mif[m(pid == [31m0[m)
    {[11;5H}[85;118H[K[85;118H219,5[9C54%[1;5H[1;84r[1;1H[L[1;85r[1;4H }[85;118H[K[85;118H218,5[9C54%[1;5H[1;84r[1;1H[L[1;85r[1;8H exit([31m1[m);[85;118H[K[85;118H217,5[9C54%[1;5H[1;84r[1;1H[L[1;85r[1;8H perror([31m"fork fail"[m);[85;118H[K[85;118H216,5[9C53%[1;5H[1;84r[1;1H[L[1;85r[1;4H [46m{[4;5H}[m[85;118H[K[85;118H215,5[9C53%[1;5H[1;84r[1;1H[L[1;85r[1;4H [33mif[m(pid == -[31m1[m)
    {[5;5H}[85;118H[K[85;118H214,5[9C53%[1;5H[1;84r[1;1H[L[1;85r[1;4H [32mint[m pid = fork();[85;118H[K[85;118H213,5[9C53%[1;5H[1;84r[1;1H[L[1;85r[85;118H[K[85;118H212,0-1[7C52%[1;1H[1;84r[1;1H[L[1;85r[1;4H [34m//if there are no more pipes to go through then the find_pipes fxm wil end[m[85;118H[K[85;118H211,5[9C52%[1;5H[1;84r[1;1H[L[1;85r[85;118H[K[85;118H210,5[9C52%[1;5H[1;84r[1;1H[L[1;85r[1;4H }[85;118H[K[85;118H209,5[9C52%[1;5H[1;84r[1;1H[L[1;85r[1;1H[34m*/[m[85;118H[K[85;118H208,2[9C51%[1;2H[1;84r[1;1H[L[1;85r[1;1H[34m    find_pipes(b);[m[85;118H[K[85;118H207,5[9C51%[1;5H[1;84r[1;1H[L[1;85r[1;1H[34m       //}[m[85;118H[K[85;118H206,5[9C51%[1;5H[1;84r[1;1H[L[1;85r[1;1H[34m            }[m[85;118H[K[85;118H205,5[9C51%[1;5H[1;84r[1;1H[L[1;85r[1;1H[34m                exit(1);[m[85;118H[K[85;118H204,5[9C50%[1;5H[1;84r[1;1H[L[1;85r[1;1H[34m                perror("error in wait");[m[85;118H[K[85;118H203,5[9C50%[1;5H[1;84r[1;1H[L[1;85r[1;1H[34m            {[m[85;118H[K[85;118H202,5[9C50%[1;5H[1;84r[1;1H[L[1;85r[1;1H[34m            if (wait(&status) == -1)[m[85;118H[K[85;118H201,5[9C50%[1;5H[1;84r[1;1H[L[1;85r[1;1H[34m        //{[m[85;118H[K[85;118H200,5[9C49%[1;5H[1;84r[1;1H[L[1;85r[1;1H[34m        //else[m[85;118H[K[85;118H199,5[9C49%[1;5H[1;84r[1;1H[L[1;85r[1;1H[34m        }[m[85;118H[K[85;118H198,5[9C49%[1;5H[1;84r[1;1H[L[1;85r[1;1H[34m            }[m[85;118H[K[85;118H197,5[9C49%[1;5H[1;84r[1;1H[L[1;85r[1;1H[34m                exit(1);[m[85;118H[K[85;118H196,5[9C48%[1;5H[1;84r[1;1H[L[1;85r[1;1H[34m                perror("error in execvp");[m[85;118H[K[85;118H195,5[9C48%[1;5H[1;84r[1;1H[L[1;85r[1;1H[34m            {[m[85;118H[K[85;118H194,5[9C48%[1;5H[1;84r[1;1H[L[1;85r[1;1H[34m            if (execvp(a[0], a) !=0 )[m[85;118H[K[85;118H193,5[9C48%[1;5H[1;84r[1;1H[L[1;85r[85;118H[K[85;118H192,0-1[7C47%[1;1H[1;84r[1;1H[L[1;85r[1;1H[34m            check_dup(a);[m[85;118H[K[85;118H191,5[9C47%[1;5H[1;84r[1;1H[L[1;85r[1;1H[34m            //this will check for i/o redirection[m[85;118H[K[85;118H190,5[9C47%[1;5H[1;84r[1;1H[L[1;85r[1;1H[34m        {[m[85;118H[K[85;118H189,5[9C47%[1;5H[1;84r[1;1H[L[1;85r[1;1H[34m        else if(pid == 0)[m[85;118H[K[85;118H188,5[9C46%[1;5H[1;84r[1;1H[L[1;85r[1;1H[34m        }[m[85;118H[K[85;118H187,5[9C46%[1;5H[1;84r[1;1H[L[1;85r[1;1H[34m            exit(1);[m[85;118H[K[85;118H186,5[9C46%[1;5H[1;84r[1;1H[L[1;85r[1;1H[34m            perror("fork fail");[m[85;118H[K[85;118H185,5[9C46%[1;5H[1;84r[1;1H[L[1;85r[1;1H[34m        {[m[85;118H[K[85;118H184,5[9C45%[1;5H[1;84r[1;1H[L[1;85r[1;1H[34m        if(pid == -1)[m[85;118H[K[85;118H183,5[9C45%[1;5H[1;84r[1;1H[L[1;85r[1;1H[34m        int pid = fork();[m[85;118H[K[85;118H182,5[9C45%[1;5H[1;84r[1;1H[L[1;85r[1;1H[34m        status = 1;[m[85;118H[K[85;118H181,5[9C45%[1;5H[1;84r[1;1H[L[1;85r[1;1H[34m/*       [m[85;118H[K[85;118H180,5[9C44%[1;5H[1;84r[1;1H[L[1;85r[1;8H dup2(savestdin, [31m0[m);[85;118H[K[85;118H179,5[9C44%[1;5H[1;84r[1;1H[L[1;85r[1;8H find_pipes(b);[85;118H[K[85;118H178,5[9C44%[1;5H[1;84r[1;1H[L[1;85r[1;8H [34m//we need to check that the rest of c does not have any pipes[m[85;118H[K[85;118H177,5[9C44%[1;5H[1;84r[1;1H[L[1;85r[85;118H[K[85;118H176,0-1[7C43%[1;1H[1;84r[1;1H[L[1;85r[1;8H }[85;118H[K[85;118H175,5[9C43%[1;5H[1;84r[1;1H[L[1;85r[1;12H exit([31m1[m);[85;118H[K[85;118H174,5[9C43%[1;5H[1;84r[1;1H[L[1;85r[1;12H perror([31m"error in wait()"[m);[85;118H[K[85;118H173,5[9C43%[1;5H[1;84r[1;1H[L[1;85r[1;8H {[85;118H[K[85;118H172,5[9C42%[1;5H[1;84r[1;1H[L[1;85r[1;8H [33mif[m (wait(&status) == -[31m1[m)[85;118H[K[85;118H171,5[9C42%[1;5H[1;84r[1;1H[L[1;85r[1;8H }[85;118H[K[85;118H170,5[9C42%[1;5H[1;84r[1;1H[L[1;85r[1;12H exit([31m1[m);[85;118H[K[85;118H169,5[9C42%[1;5H[1;84r[1;1H[L[1;85r[1;12H perror([31m"error with close"[m);[85;118H[K[85;118H168,5[9C41%[1;5H[1;84r[1;1H[L[1;85r[1;8H {[85;118H[K[85;118H167,5[9C41%[1;5H[1;84r[1;1H[L[1;85r[1;8H [33mif[m( close(fd[[31m1[m]) == -[31m1[m)[85;118H[K[85;118H166,5[9C41%[1;5H[1;84r[1;1H[L[1;85r[1;8H }[85;118H[K[85;118H165,5[9C41%[1;5H[1;84r[1;1H[L[1;85r[1;12H exit([31m1[m);[85;118H[K[85;118H164,5[9C40%[1;5H[1;84r[1;1H[L[1;85r[1;12H perror([31m"error with dup2"[m);[85;118H[K[85;118H163,5[9C40%[1;5H[1;84r[1;1H[L[1;85r[1;8H {[85;118H[K[85;118H162,5[9C40%[1;5H[1;84r[1;1H[L[1;85r[1;8H [33mif[m( dup2(fd[[31m0[m],[31m0[m) == -[31m1[m)[85;118H[K[85;118H161,5[9C40%[1;5H[1;84r[1;1H[L[1;85r[1;8H }[85;118H[K[85;118H160,5[9C39%[1;5H[1;84r[1;1H[L[1;85r[1;12H exit([31m1[m);[85;118H[K[85;118H159,5[9C39%[1;5H[1;84r[1;1H[L[1;85r[1;12H perror([31m"error with dup"[m);[85;118H[K[85;118H158,5[9C39%[1;5H[1;84r[1;1H[L[1;85r[1;8H {[85;118H[K[85;118H157,5[9C39%[1;5H[1;84r[1;1H[L[1;85r[1;8H [33mif[m( savestdin == -[31m1[m)[85;118H[K[85;118H156,5[9C38%[1;5H[1;84r[1;1H[L[1;85r[1;8H savestdin = dup([31m0[m);[85;118H[K[85;118H155,5[9C38%[1;5H[1;84r[1;1H[L[1;85r[1;8H [32mint[m savestdin;[85;118H[K[85;118H154,5[9C38%[1;5H[1;84r[1;1H[L[1;85r[85;118H[K[85;118H153,5[9C38%[1;5H[1;84r[1;1H[L[1;85r[1;8H }[85;118H[K[85;118H152,5[9C37%[1;5H[1;84r[1;1H[L[1;85r[1;12H exit([31m1[m);[85;118H[K[85;118H151,5[9C37%[1;5H[1;84r[1;1H[L[1;85r[1;12H }[85;118H[K[85;118H150,5[9C37%[1;5H[1;84r[1;1H[L[1;85r[1;16H exit([31m1[m);[85;118H[K[85;118H149,5[9C37%[1;5H[1;84r[1;1H[L[1;85r[1;16H perror([31m"error in execvp"[m);[85;118H[K[85;118H148,5[9C36%[1;5H[1;84r[1;1H[L[1;85r[1;12H {[85;118H[K[85;118H147,5[9C36%[1;5H[1;84r[1;1H[L[1;85r[1;12H [33mif[m( execvp( a[[31m0[m], a) == -[31m1[m)[85;118H[K[85;118H146,5[9C36%[1;5H[1;84r[1;1H[L[1;85r[1;12H check_dup(a);[85;118H[K[85;118H145,5[9C36%[1;5H[1;84r[1;1H[L[1;85r[1;12H }[85;118H[K[85;118H144,5[9C35%[1;5H[1;84r[1;1H[L[1;85r[1;16H exit([31m1[m);[85;118H[K[85;118H143,5[9C35%[1;5H[1;84r[1;1H[L[1;85r[1;16H perror([31m"error with close"[m);[85;118H[K[85;118H142,5[9C35%[1;5H[1;84r[1;1H[L[1;85r[1;12H {[85;118H[K[85;118H141,5[9C35%[1;5H[1;84r[1;1H[L[1;85r[1;12H [33mif[m( close(fd[[31m0[m]) == -[31m1[m)[85;118H[K[85;118H140,5[9C34%[1;5H[1;84r[1;1H[L[1;85r[1;12H }[85;118H[K[85;118H139,5[9C34%[1;5H[1;84r[1;1H[L[1;85r[1;16H exit([31m1[m);[85;118H[K[85;118H138,5[9C34%[1;5H[1;84r[1;1H[L[1;85r[1;16H perror([31m"error with dup2"[m);[85;118H[K[85;118H137,5[9C34%[1;5H[1;84r[1;1H[L[1;85r[1;12H {[85;118H[K[85;118H136,5[9C33%[1;5H[1;84r[1;1H[L[1;85r[1;12H [33mif[m( dup2(fd[[31m1[m], [31m1[m) == -[31m1[m)[85;118H[K[85;118H135,5[9C33%[1;5H[85;120H6[2;5H[85;120H7[3;5H[85;120H8[4;5H[85;120H9[5;5H[85;119H40[6;5H[85;120H1[7;5H[85;120H2[8;5H[85;120H3[9;5H[85;120H4[10;5H[85;120H5[11;5H[85;120H6[12;5H[85;120H7[13;5H[85;120H8[14;5H[85;120H9[15;5H[85;119H50[16;5H[85;120H1[17;5H[85;120H2[18;5H[85;120H3[19;5H[85;120H2[18;5H[85;120H1[17;5H[85;120H0[16;5H[85;119H49[15;5H[85;120H8[14;5H[85;120H7[13;5H[85;120H6[12;5H[85;120H5[11;5H[85;120H4[10;5H[85;120H3[9;5H[85;120H2[8;5H[85;120H1[7;5H[85;120H0[6;5H[85;119H39[5;5H[85;120H8[4;5H[85;120H7[3;5H[85;120H6[2;5H[85;120H5[1;5H[1;84r[1;1H[L[1;85r[1;8H {[85;118H[K[85;118H134,5[9C33%[1;5H[1;84r[1;1H[L[1;85r[1;8H [33melse[m [33mif[m(pid == [31m0[m)[85;118H[K[85;118H133,5[9C33%[1;5H[1;84r[1;1H[L[1;85r[1;8H }[85;118H[K[85;118H132,5[9C32%[1;5H[1;84r[1;1H[L[1;85r[1;12H exit([31m1[m);[85;118H[K[85;118H131,5[9C32%[1;5H[1;84r[1;1H[L[1;85r[1;12H perror([31m"fork fail"[m);[85;118H[K[85;118H130,5[9C32%[1;5H[1;84r[1;1H[L[1;85r[1;8H {[85;118H[K[85;118H129,5[9C32%[1;5H[1;84r[1;1H[L[1;85r[1;8H [33mif[m( pid  == -[31m1[m)[85;118H[K[85;118H128,5[9C31%[1;5H[1;84r[1;1H[L[1;85r[1;8H [32mint[m pid = fork();[85;118H[K[85;118H127,5[9C31%[1;5H[1;84r[1;1H[L[1;85r[1;8H }[85;118H[K[85;118H126,5[9C31%[1;5H[1;84r[1;1H[L[1;85r[1;12H exit([31m1[m);[85;118H[K[85;118H125,5[9C31%[1;5H[1;84r[1;1H[L[1;85r[1;12H perror([31m"pipe fail"[m);[85;118H[K[85;118H124,5[9C30%[1;5H[1;84r[1;1H[L[1;85r[1;8H {[85;118H[K[85;118H123,5[9C30%[1;5H[1;84r[1;1H[L[1;85r[1;8H [33mif[m(pipe(fd) == -[31m1[m )[85;118H[K[85;118H122,5[9C30%[1;5H[1;84r[1;1H[L[1;85r[1;8H [32mint[m fd[[31m2[m];[85;118H[K[85;118H121,5[9C30%[1;5H[1;84r[1;1H[L[1;85r[1;8H [34m//now i will execute the commands with piping[m[85;118H[K[85;118H120,5[9C29%[1;5H[1;84r[1;1H[L[1;85r[85;118H[K[85;118H119,0-1[7C29%[1;1H[1;84r[1;1H[L[1;85r[1;8H b[l] = [35m'\0'[m;[85;118H[K[85;118H118,5[9C29%[1;5H[1;84r[1;1H[L[1;85r[1;8H }[85;118H[K[85;118H117,5[9C29%[1;5H[85;120H8[2;5H[85;120H9,0-1[3;1H[85;119H20,5  [4;5H[85;120H1[5;5H[85;120H2[6;5H[85;120H3[7;5H[85;120H4[8;5H[85;120H5[9;5H[85;120H6[10;5H[85;120H7[11;5H[85;120H8[12;5H[85;120H9[13;5H[85;119H30[14;5H[85;120H1[15;5H[85;120H2[16;5H[85;120H3[17;5H[85;120H4[18;5H[85;120H5[19;5H[85;120H6[20;5H[85;120H7[21;5H[85;120H8[22;5H[85;120H9[23;5H[85;119H40[24;5H[85;120H1[25;5H[85;120H2[26;5H[85;120H3[27;5H[85;120H4[28;5H[85;120H5[29;5H[85;120H6[30;5H[85;120H7[31;5H[85;120H8[32;5H[85;120H9[33;5H[85;119H50[34;5H[85;120H1[35;5H[85;120H2[36;5H[85;120H3[37;5H[85;120H2[36;5H[85;120H1[35;5H[85;120H0[34;5H[85;119H49[33;5H[85;120H8[32;5H[85;120H7[31;5H[85;120H6[30;5H[85;120H5[29;5H[85;120H4[28;5H[85;120H3[27;5H[85;120H2[26;5H[85;120H1[25;5H[85;120H0[24;5H[85;119H39[23;5H[85;120H8[22;5H[85;120H7[21;5H[85;120H6[20;5H[85;120H5[19;5H[85;120H4[18;5H[85;120H3[17;5H[85;120H2[16;5H[85;120H1[15;5H[85;120H0[14;5H[85;119H29[13;5H[85;120H8[12;5H[85;120H7[11;5H[85;120H6[10;5H[85;120H5[9;5H[85;120H4[8;5H[85;120H3[7;5H[85;120H2[6;5H[85;120H1[5;5H[85;120H0[4;5H[85;119H19,0-1[3;1H[85;120H8,5  [2;5H[85;120H7[1;5H[1;84r[1;1H[L[1;85r[1;12H l++; k++;[85;118H[K[85;118H116,5[9C28%[1;5H[1;84r[1;1H[L[1;85r[1;12H b[l] = c[k];[85;118H[K[85;118H115,5[9C28%[1;5H[1;84r[1;1H[L[1;85r[1;8H {[85;118H[K[85;118H114,5[9C28%[1;5H[1;84r[1;1H[L[1;85r[1;8H [33mwhile[m( c[k] != [35m'\0'[m)[85;118H[K[85;118H113,5[9C28%[1;5H[1;84r[1;1H[L[1;85r[1;8H [32mint[m l = [31m0[m;[85;118H[K[85;118H112,5[9C27%[1;5H[1;84r[1;1H[L[1;85r[1;8H [32mint[m k = pipe_index+[31m1[m;[85;118H[K[85;118H111,5[9C27%[1;5H[1;84r[1;1H[L[1;85r[1;8H a[j] = [35m'\0'[m;[85;118H[K[85;118H110,5[9C27%[1;5H[1;84r[1;1H[L[1;85r[1;8H }[85;118H[K[85;118H109,5[9C27%[1;5H[1;84r[1;1H[L[1;85r[1;12H j++;[85;118H[K[85;118H108,5[9C26%[1;5H[1;84r[1;1H[L[1;85r[1;12H a[j] = c[j];[85;118H[K[85;118H107,5[9C26%[1;5H[1;84r[1;1H[L[1;85r[1;8H {[85;118H[K[85;118H106,5[9C26%[1;5H[1;84r[1;1H[L[1;85r[1;8H [33mwhile[m( j < pipe_index)[85;118H[K[85;118H105,5[9C26%[1;5H[1;84r[1;1H[L[1;85r[1;8H [32mint[m j = [31m0[m;[85;118H[K[85;118H104,5[9C25%[1;5H[1;84r[1;1H[L[1;85r[1;4H {[85;118H[K[85;118H103,5[9C25%[1;5H[1;84r[1;1H[L[1;85r[1;4H [33mif[m(pipe_index > [31m0[m)[85;118H[K[85;118H102,5[9C25%[1;5H[1;84r[1;1H[L[1;85r[1;4H [32mchar[m **b = [33mnew[m [32mchar[m*[[31m100[m];[85;118H[K[85;118H101,5[9C25%[1;5H[1;84r[1;1H[L[1;85r[1;4H [32mchar[m **a = [33mnew[m [32mchar[m*[[31m100[m];[85;118H[K[85;118H100,5[9C24%[1;5H[1;84r[1;1H[L[1;85r[1;4H }[85;118H[K[85;118H99,5[10C24%[1;5H[1;84r[1;1H[L[1;85r[1;8H i++;[85;118H[K[85;118H98,5[10C24%[1;5H[1;84r[1;1H[L[1;85r[1;8H }[85;118H[K[85;118H97,5[10C24%[1;5H[1;84r[1;1H[L[1;85r[1;12H [33mbreak[m;[85;118H[K[85;118H96,5[10C23%[1;5H[1;84r[1;1H[L[1;85r[1;12H pipe_index = i;[85;118H[K[85;118H95,5[10C23%[1;5H[1;84r[1;1H[L[1;85r[1;12H num_pipes++;[85;118H[K[85;118H94,5[10C23%[1;5H[1;84r[1;1H[L[1;85r[1;8H {[85;118H[K[85;118H93,5[10C23%[1;5H[1;84r[1;1H[L[1;85r[1;8H [33mif[m( strcmp(c[i], [31m"|"[m) == [31m0[m)[85;118H[K[85;118H92,5[10C22%[1;5H[1;84r[1;1H[L[1;85r[1;4H [46m{[9;5H}[m[85;118H[K[85;118H91,5[10C22%[1;5H[1;84r[1;1H[L[1;85r[1;4H [33mwhile[m( c[i] != [35m'\0'[m)
    {[10;5H}[85;118H[K[85;118H90,5[10C22%[1;5H[1;84r[1;1H[L[1;85r[1;4H [32mint[m i=[31m0[m;[85;118H[K[85;118H89,5[10C22%[1;5H[1;84r[1;1H[L[1;85r[1;4H [32mint[m pipe_index = [31m0[m;[85;118H[K[85;118H88,5[10C21%[1;5H[1;84r[1;1H[L[1;85r[1;4H [32mint[m num_pipes = [31m0[m;[85;118H[K[85;118H87,5[10C21%[1;5H[1;84r[1;1H[L[1;85r[1;4H [32mint[m status = [31m0[m;[85;118H[K[85;118H86,5[10C21%[1;5H[1;84r[1;1H[L[1;85r[1;1H{[85;118H[K[85;118H85,1[10C21%[1;1H[1;84r[1;1H[L[1;85r[1;1H[32mvoid[m find_pipes([32mchar[m **c)[85;118H[K[85;118H84,5[10C20%[1;5H[1;84r[1;1H[L[1;85r[85;118H[K[85;118H83,0-1[8C20%[1;1H[1;84r[1;1H[L[1;85r[1;1H}[85;118H[K[85;118H82,1[10C20%[1;1H[1;84r[1;1H[L[1;85r[1;4H }[85;118H[K[85;118H81,5[10C20%[1;5H[1;84r[1;1H[L[1;85r[1;8H i++;[85;118H[K[85;118H80,5[10C19%[1;5H[1;84r[1;1H[L[1;85r[1;8H }[85;118H[K[85;118H79,5[10C19%[1;5H[1;84r[1;1H[L[1;85r[1;12H }[85;118H[K[85;118H78,5[10C19%[1;5H[1;84r[1;1H[L[1;85r[1;16H exit([31m1[m);[85;118H[K[85;118H77,5[10C19%[1;5H[1;84r[1;1H[L[1;85r[1;16H perror([31m"error in dup2"[m);[85;118H[K[85;118H76,5[10C18%[1;5H[1;84r[1;1H[L[1;85r[1;12H {[85;118H[K[85;118H75,5[10C18%[1;5H[1;84r[1;1H[L[1;85r[1;12H [33mif[m( dup2(fd,[31m1[m) == -[31m1[m)[85;118H[K[85;118H74,5[10C18%[1;5H[1;84r[1;1H[L[1;85r[1;12H }[85;118H[K[85;118H73,5[10C18%[1;5H[1;84r[1;1H[L[1;85r[1;16H exit([31m1[m);[85;118H[K[85;118H72,5[10C17%[1;5H[1;84r[1;1H[L[1;85r[1;16H perror([31m"error in open"[m);[85;118H[K[85;118H71,5[10C17%[1;5H[1;84r[1;1H[L[1;85r[1;12H {[85;118H[K[85;118H70,5[10C17%[1;5H[1;84r[1;1H[L[1;85r[1;12H [33mif[m( fd == -[31m1[m)[85;118H[K[85;118H69,5[10C17%[1;5H[1;84r[1;1H[L[1;85r[1;12H fd = open(c[i+[31m1[m], O_APPEND | O_CREAT | O_WRONLY, [35m0[m[31m666[m);[85;118H[K[85;118H68,5[10C16%[1;5H[1;84r[1;1H[L[1;85r[1;12H c[i] = [35m'\0'[m;[85;118H[K[85;118H67,5[10C16%[1;5H[1;84r[1;1H[L[1;85r[1;8H {[85;118H[K[85;118H66,5[10C16%[1;5H[1;84r[1;1H[L[1;85r[1;8H [33melse[m [33mif[m ( strcmp(c[i], [31m">>"[m) == [31m0[m)[85;118H[K[85;118H65,5[10C16%[1;5H[1;84r[1;1H[L[1;85r[1;8H }[85;118H[K[85;118H64,5[10C15%[1;5H[1;84r[1;1H[L[1;85r[1;12H }[85;118H[K[85;118H63,5[10C15%[1;5H[1;84r[1;1H[L[1;85r[1;16H exit([31m1[m);[85;118H[K[85;118H62,5[10C15%[1;5H[1;84r[1;1H[L[1;85r[1;16H perror([31m"error in dup2"[m);[85;118H[K[85;118H61,5[10C15%[1;5H[1;84r[1;1H[L[1;85r[1;12H {[85;118H[K[85;118H60,5[10C14%[1;5H[1;84r[1;1H[L[1;85r[1;12H [33mif[m( dup2(fd,[31m1[m) == -[31m1[m)[85;118H[K[85;118H59,5[10C14%[1;5H[1;84r[1;1H[L[1;85r[1;12H }[85;118H[K[85;118H58,5[10C14%[1;5H[1;84r[1;1H[L[1;85r[1;16H exit([31m1[m);[85;118H[K[85;118H57,5[10C14%[1;5H[1;84r[1;1H[L[1;85r[1;16H perror([31m"error in open"[m);[85;118H[K[85;118H56,5[10C13%[1;5H[1;84r[1;1H[L[1;85r[1;12H {[85;118H[K[85;118H55,5[10C13%[1;5H[1;84r[1;1H[L[1;85r[1;12H [33mif[m( fd == -[31m1[m)[85;118H[K[85;118H54,5[10C13%[1;5H[1;84r[1;1H[L[1;85r[1;12H fd = open(c[i+[31m1[m], O_CREAT | O_WRONLY |O_TRUNC, [35m0[m[31m666[m);[85;118H[K[85;118H53,5[10C13%[1;5H[1;84r[1;1H[L[1;85r[1;12H c[i] = [35m'\0'[m;[85;118H[K[85;118H52,5[10C12%[1;5H[1;84r[1;1H[L[1;85r[1;8H {[85;118H[K[85;118H51,5[10C12%[1;5H[1;84r[1;1H[L[1;85r[1;8H [33melse[m [33mif[m( strcmp(c[i], [31m">"[m) == [31m0[m)[85;118H[K[85;118H50,5[10C12%[1;5H[1;84r[1;1H[L[1;85r[1;8H }[85;118H[K[85;118H49,5[10C12%[1;5H[1;84r[1;1H[L[1;85r[1;12H }[85;118H[K[85;118H48,5[10C11%[1;5H[1;84r[1;1H[L[1;85r[1;16H exit([31m1[m);[85;118H[K[85;118H47,5[10C11%[1;5H[1;84r[1;1H[L[1;85r[1;16H perror([31m"error in dup2"[m);[85;118H[K[85;118H46,5[10C11%[1;5H[1;84r[1;1H[L[1;85r[1;12H {[85;118H[K[85;118H45,5[10C11%[1;5H[1;84r[1;1H[L[1;85r[1;12H [33mif[m( dup2(fd,[31m0[m) == -[31m1[m)[85;118H[K[85;118H44,5[10C10%[1;5H[1;84r[1;1H[L[1;85r[1;12H }[85;118H[K[85;118H43,5[10C10%[1;5H[1;84r[1;1H[L[1;85r[1;16H exit([31m1[m);[85;118H[K[85;118H42,5[10C10%[1;5H[1;84r[1;1H[L[1;85r[1;16H perror([31m"error in open"[m);[85;118H[K[85;118H41,5[10C10%[1;5H[1;84r[1;1H[L[1;85r[1;12H {[85;118H[K[85;118H40,5[11C9%[1;5H[1;84r[1;1H[L[1;85r[1;12H [33mif[m( fd == -[31m1[m)[85;118H[K[85;118H39,5[11C9%[1;5H[1;84r[1;1H[L[1;85r[1;12H fd = open(c[i+[31m1[m], O_RDONLY);[85;118H[K[85;118H38,5[11C9%[1;5H[1;84r[1;1H[L[1;85r[1;12H c[i] = [35m'\0'[m;[85;118H[K[85;118H37,5[11C9%[1;5H[1;84r[1;1H[L[1;85r[1;8H {[85;118H[K[85;118H36,5[11C8%[1;5H[1;84r[1;1H[L[1;85r[1;8H [33mif[m( strcmp(c[i], [31m"<"[m) == [31m0[m)[85;118H[K[85;118H35,5[11C8%[1;5H[1;84r[1;1H[L[1;85r[1;8H [32mint[m fd;[85;118H[K[85;118H34,5[11C8%[1;5H[1;84r[1;1H[L[1;85r[1;4H [46m{[49;5H}[m[85;118H[K[85;118H33,5[11C8%[1;5H[1;84r[1;1H[L[1;85r[1;4H [33mwhile[m( c[i] != [35m'\0'[m)
    {[50;5H}[85;118H[K[85;118H32,5[11C7%[1;5H[1;84r[1;1H[L[1;85r[1;4H [32mint[m i=[31m0[m;[85;118H[K[85;118H31,5[11C7%[1;5H[1;84r[1;1H[L[1;85r[1;1H[46m{[53;1H}[m[85;118H[K[85;118H30,1[11C7%[1;1H[1;84r[1;1H[L[1;85r[1;1H[32mvoid[m check_dup([32mchar[m **c)
{[54;1H}[85;118H[K[85;118H29,5[11C7%[1;5H[1;84r[1;1H[L[1;85r[85;118H[K[85;118H28,0-1[9C6%[1;1H[1;84r[1;1H[L[1;85r[1;1H}[85;118H[K[85;118H27,1[11C6%[1;1H[1;84r[1;1H[L[1;85r[1;4H [33mreturn[m [31mfalse[m;[85;118H[K[85;118H26,5[11C6%[1;5H[1;84r[1;1H[L[1;85r[1;4H }[85;118H[K[85;118H25,5[11C6%[1;5H[1;84r[1;1H[L[1;85r[1;8H i++;[85;118H[K[85;118H24,5[11C5%[1;5H[1;84r[1;1H[L[1;85r[1;8H }[85;118H[K[85;118H23,5[11C5%[1;5H[1;84r[1;1H[L[1;85r[1;12H [33mreturn[m [31mtrue[m;[85;118H[K[85;118H22,5[11C5%[1;5H[1;84r[1;1H[L[1;85r[1;8H {[85;118H[K[85;118H21,5[11C5%[1;5H[1;84r[1;1H[L[1;85r[1;8H [33mif[m( strcmp(c[i], [31m"|"[m) == [31m0[m)[85;118H[K[85;118H20,5[11C4%[1;5H[1;84r[1;1H[L[1;85r[1;4H [46m{[7;5H}[m[85;118H[K[85;118H19,5[11C4%[1;5H[1;84r[1;1H[L[1;85r[1;4H [33mwhile[m (c[i] != [35m'\0'[m)
    {[8;5H}[85;118H[K[85;118H18,5[11C4%[1;5H[1;84r[1;1H[L[1;85r[1;4H [32mint[m i=[31m0[m;[85;118H[K[85;118H17,5[11C4%[1;5H[1;84r[1;1H[L[1;85r[1;1H[46m{[12;1H}[m[85;118H[K[85;118H16,1[11C3%[1;1H[1;84r[1;1H[L[1;85r[1;1H[32mbool[m pipes([32mchar[m **c)
{[13;1H}[85;118H[K[85;118H15,5[11C3%[1;5H[1;84r[1;1H[L[1;85r[1;1H[33musing[m [32mnamespace[m std;[85;118H[K[85;118H14,5[11C3%[1;5H[1;84r[1;1H[L[1;85r[85;118H[K[85;118H13,0-1[9C3%[1;1H[1;84r[1;1H[L[1;85r[85;118H[K[85;118H12,0-1[9C2%[1;1H[1;84r[1;1H[L[1;85r[1;1H[35m#include [m[31m<sys/wait.h>[m[85;118H[K[85;118H11,5[11C2%[1;5H[1;84r[1;1H[L[1;85r[1;1H[35m#include [m[31m<sys/types.h>[m[85;118H[K[85;118H10,5[11C2%[1;5H[1;84r[1;1H[L[1;85r[1;1H[35m#include [m[31m<sstream>[m[85;118H[K[85;118H9,5[12C2%[1;5H[1;84r[1;1H[L[1;85r[1;1H[35m#include [m[31m<vector>[m[85;118H[K[85;118H8,5[12C1%[1;5H[1;84r[1;1H[L[1;85r[1;1H[35m#include [m[31m<cstdlib>[m[85;118H[K[85;118H7,5[12C1%[1;5H[1;84r[1;1H[L[1;85r[1;1H[35m#include [m[31m<unistd.h>[m[85;118H[K[85;118H6,5[12C1%[1;5H[1;84r[1;1H[L[1;85r[1;1H[35m#include [m[31m<errno.h>[m[85;118H[K[85;118H5,5[12C1%[1;5H[1;84r[1;1H[L[1;85r[1;1H[35m#include [m[31m<stdio.h>[m[85;118H[K[85;118H4,5[12C0%[1;5H[1;84r[1;1H[L[1;85r[1;1H[35m#include [m[31m<string.h>[m[85;118H[K[85;118H3,5[12C0%[1;5H[1;84r[1;1H[L[1;85r[1;1H[35m#include [m[31m<iostream>[m[85;118H[K[85;118H2,5[12C0%[1;5H[1;84r[1;1H[L[1;85r[1;1H[35m#include [m[31m<fcntl.h>[m[85;118H[K[85;118H1,5[11CTop[1;5H[85;118H2[2;5H[85;118H3[3;5H[85;118H4[4;5H[85;118H5[5;5H[85;118H6[6;5H[85;118H7[7;5H[85;118H8[8;5H[85;118H9[9;5H[85;118H10,5[10;5H[85;119H1[11;5H[85;119H2,0-1[12;1H[85;119H3[13;1H[85;119H4,5  [14;5H[85;119H5[15;5H
[46m{[27;1H}[m[85;119H6,1[16;1H{[27;1H}[85;119H7,5[17;5H[85;119H8[18;5H
    [46m{[25;5H}[m[85;119H9[19;5H{[25;5H}[85;118H20[20;5H[85;119H1[21;5H[85;119H2[22;5H[85;119H3[23;5H[85;119H4[24;5H[19;5H[46m{[25;5H}[m[85;119H5[25;5H[19;5H{[25;5H}[85;119H6[26;5H[16;1H[46m{[27;1H}[m[85;119H7,1[27;1H[16;1H{[27;1H}[85;119H8,0-1[28;1H[85;119H9,5  [29;5H
[46m{[82;1H}[m[85;118H30,1[30;1H{[82;1H}[85;119H1,5[31;5H[85;119H2[32;5H
    [46m{[81;5H}[m[85;119H3[33;5H{[81;5H}[85;119H4[34;5H[85;119H5[35;5H[85;119H6[36;5H[85;119H7[37;5H[85;119H8[38;5H[85;119H9[39;5H[85;118H40[40;5H[85;119H1[41;5H[85;119H2[42;5H[85;119H3[43;5H[85;119H4[44;5H[85;119H5[45;5H[85;119H6[46;5H[85;119H7[47;5H[85;119H8[48;5H[85;119H9[49;5H[85;118H50[50;5H[85;119H1[51;5H[85;119H2[52;5H[85;119H3[53;5H[85;119H4[54;5H[85;119H5[55;5H[85;119H6[56;5H[85;119H7[57;5H[85;119H8[58;5H[85;119H9[59;5H[85;118H60[60;5H[85;119H1[61;5H[85;119H2[62;5H[85;119H3[63;5H[85;119H4[64;5H[85;119H5[65;5H[85;119H6[66;5H[85;119H7[67;5H[85;119H8[68;5H[85;119H9[69;5H[85;118H70[70;5H[85;119H1[71;5H[85;119H2[72;5H[85;119H3[73;5H[85;119H4[74;5H[85;119H5[75;5H[85;119H6[76;5H[85;119H7[77;5H[85;119H8[78;5H[85;119H9[79;5H[85;118H80[80;5H[33;5H[46m{[81;5H}[m[85;119H1[81;5H[30;1H[46m{[m[33;5H{[81;5H}
[46m}[m[85;119H2,1[82;1H[30;1H{[82;1H}[85;119H3,0-1[83;1H[85;119H4,5  [84;5H[1;84r[84;1H
[1;85r[84;1H{[85;118H[K[85;118H85,1[11C0%[84;1H[1;84r[84;1H
[1;85r[84;4H [32mint[m status = [31m0[m;[85;118H[K[85;118H86,5[11C0%[84;5H[1;84r[84;1H
[1;85r[84;4H [32mint[m num_pipes = [31m0[m;[85;118H[K[85;118H87,5[11C0%[84;5H[1;84r[84;1H
[1;85r[84;4H [32mint[m pipe_index = [31m0[m;[85;118H[K[85;118H88,5[11C1%[84;5H[1;84r[84;1H
[1;85r[84;4H [32mint[m i=[31m0[m;[85;118H[K[85;118H89,5[11C1%[84;5H[1;84r[84;1H
[1;85r[84;4H [33mwhile[m( c[i] != [35m'\0'[m)[85;118H[K[85;118H90,5[11C1%[84;5H[1;84r[84;1H
[1;85r[84;4H {[85;118H[K[85;118H91,5[11C1%[84;5H[1;84r[84;1H
[1;85r[84;8H [33mif[m( strcmp(c[i], [31m"|"[m) == [31m0[m)[85;118H[K[85;118H92,5[11C2%[84;5H[1;84r[84;1H
[1;85r[84;8H {[85;118H[K[85;118H93,5[11C2%[84;5H[1;84r[84;1H
[1;85r[84;12H num_pipes++;[85;118H[K[85;118H94,5[11C2%[84;5H[1;84r[84;1H
[1;85r[84;12H pipe_index = i;[85;118H[K[85;118H95,5[11C2%[84;5H[1;84r[84;1H
[1;85r[84;12H [33mbreak[m;[85;118H[K[85;118H96,5[11C3%[84;5H[1;84r[84;1H
[1;85r[84;8H }[85;118H[K[85;118H97,5[11C3%[84;5H[1;84r[84;1H
[1;85r[84;8H i++;[85;118H[K[85;118H98,5[11C3%[84;5H[1;84r[84;1H
[1;85r[76;5H[46m{[m[84;4H [46m}[m[85;118H[K[85;118H99,5[11C3%[84;5H[1;84r[84;1H
[1;85r[75;5H{[83;5H}
    [32mchar[m **a = [33mnew[m [32mchar[m*[[31m100[m];[85;118H[K[85;118H100,5[10C4%[84;5H[1;84r[84;1H
[1;85r[84;4H [32mchar[m **b = [33mnew[m [32mchar[m*[[31m100[m];[85;118H[K[85;118H101,5[10C4%[84;5H[1;84r[84;1H
[1;85r[84;4H [33mif[m(pipe_index > [31m0[m)[85;118H[K[85;118H102,5[10C4%[84;5H[1;84r[84;1H
[1;85r[84;4H {[85;118H[K[85;118H103,5[10C4%[84;5H[1;84r[84;1H
[1;85r[84;8H [32mint[m j = [31m0[m;[85;118H[K[85;118H104,5[10C5%[84;5H[1;84r[84;1H
[1;85r[84;8H [33mwhile[m( j < pipe_index)[85;118H[K[85;118H105,5[10C5%[84;5H[1;84r[84;1H
[1;85r[84;8H {[85;118H[K[85;118H106,5[10C5%[84;5H[1;84r[84;1H
[1;85r[84;12H a[j] = c[j];[85;118H[K[85;118H107,5[10C5%[84;5H[1;84r[84;1H
[1;85r[84;12H j++;[85;118H[K[85;118H108,5[10C6%[84;5H[1;84r[84;1H
[1;85r[84;8H }[85;118H[K[85;118H109,5[10C6%[84;5H[1;84r[84;1H
[1;85r[84;8H a[j] = [35m'\0'[m;[85;118H[K[85;118H110,5[10C6%[84;5H[1;84r[84;1H
[1;85r[84;8H [32mint[m k = pipe_index+[31m1[m;[85;118H[K[85;118H111,5[10C6%[84;5H[1;84r[84;1H
[1;85r[84;8H [32mint[m l = [31m0[m;[85;118H[K[85;118H112,5[10C7%[84;5H[1;84r[84;1H
[1;85r[84;8H [33mwhile[m( c[k] != [35m'\0'[m)[85;118H[K[85;118H113,5[10C7%[84;5H[1;84r[84;1H
[1;85r[84;8H {[85;118H[K[85;118H114,5[10C7%[84;5H[1;84r[84;1H
[1;85r[84;12H b[l] = c[k];[85;118H[K[85;118H115,5[10C7%[84;5H[1;84r[84;1H
[1;85r[84;12H l++; k++;[85;118H[K[85;118H116,5[10C8%[84;5H[1;84r[84;1H
[1;85r[84;8H }[85;118H[K[85;118H117,5[10C8%[84;5H[1;84r[84;1H
[1;85r[84;8H b[l] = [35m'\0'[m;[85;118H[K[85;118H118,5[10C8%[84;5H[1;84r[84;1H
[1;85r[85;118H[K[85;118H119,0-1[8C8%[84;1H[1;84r[84;1H
[1;85r[84;8H [34m//now i will execute the commands with piping[m[85;118H[K[85;118H120,5[10C9%[84;5H[1;84r[84;1H
[1;85r[84;8H [32mint[m fd[[31m2[m];[85;118H[K[85;118H121,5[10C9%[84;5H[1;84r[84;1H
[1;85r[84;8H [33mif[m(pipe(fd) == -[31m1[m )[85;118H[K[85;118H122,5[10C9%[84;5H[1;84r[84;1H
[1;85r[84;8H {[85;118H[K[85;118H123,5[10C9%[84;5H[1;84r[84;1H
[1;85r[84;12H perror([31m"pipe fail"[m);[85;118H[K[85;118H124,5[9C10%[84;5H[1;84r[84;1H
[1;85r[84;12H exit([31m1[m);[85;118H[K[85;118H125,5[9C10%[84;5H[1;84r[84;1H
[1;85r[84;8H }[85;118H[K[85;118H126,5[9C10%[84;5H[1;84r[84;1H
[1;85r[84;8H [32mint[m pid = fork();[85;118H[K[85;118H127,5[9C10%[84;5H[1;84r[84;1H
[1;85r[84;8H [33mif[m( pid  == -[31m1[m)[85;118H[K[85;118H128,5[9C11%[84;5H[1;84r[84;1H
[1;85r[84;8H {[85;118H[K[85;118H129,5[9C11%[84;5H[1;84r[84;1H
[1;85r[84;12H perror([31m"fork fail"[m);[85;118H[K[85;118H130,5[9C11%[84;5H[1;84r[84;1H
[1;85r[84;12H exit([31m1[m);[85;118H[K[85;118H131,5[9C11%[84;5H[1;84r[84;1H
[1;85r[84;8H }[85;118H[K[85;118H132,5[9C12%[84;5H[1;84r[84;1H
[1;85r[84;8H [33melse[m [33mif[m(pid == [31m0[m)[85;118H[K[85;118H133,5[9C12%[84;5H[1;84r[84;1H
[1;85r[84;8H {[85;118H[K[85;118H134,5[9C12%[84;5H[1;84r[84;1H
[1;85r[84;12H [33mif[m( dup2(fd[[31m1[m], [31m1[m) == -[31m1[m)[85;118H[K[85;118H135,5[9C12%[84;5H[1;84r[84;1H
[1;85r[84;12H {[85;118H[K[85;118H136,5[9C13%[84;5H[1;84r[84;1H
[1;85r[84;16H perror([31m"error with dup2"[m);[85;118H[K[85;118H137,5[9C13%[84;5H[1;84r[84;1H
[1;85r[84;16H exit([31m1[m);[85;118H[K[85;118H138,5[9C13%[84;5H[1;84r[84;1H
[1;85r[84;12H }[85;118H[K[85;118H139,5[9C13%[84;5H[1;84r[84;1H
[1;85r[84;12H [33mif[m( close(fd[[31m0[m]) == -[31m1[m)[85;118H[K[85;118H140,5[9C14%[84;5H[1;84r[84;1H
[1;85r[84;12H {[85;118H[K[85;118H141,5[9C14%[84;5H[1;84r[84;1H
[1;85r[84;16H perror([31m"error with close"[m);[85;118H[K[85;118H142,5[9C14%[84;5H[1;84r[84;1H
[1;85r[84;16H exit([31m1[m);[85;118H[K[85;118H143,5[9C14%[84;5H[1;84r[84;1H
[1;85r[84;12H }[85;118H[K[85;118H144,5[9C15%[84;5H[1;84r[84;1H
[1;85r[84;12H check_dup(a);[85;118H[K[85;118H145,5[9C15%[84;5H[85;120H4[83;5H[85;120H3[82;5H[85;120H2[81;5H[85;120H1[80;5H[85;120H0[79;5H[85;119H39[78;5H[85;120H8[77;5H[85;120H7[76;5H[85;120H6[75;5H[85;120H5[74;5H[85;120H4[73;5H[85;120H3[72;5H[85;120H2[71;5H[85;120H1[70;5H[85;120H0[69;5H[85;119H29[68;5H[85;120H8[67;5H[85;120H7[66;5H[85;120H6[65;5H[85;120H5[64;5H[85;120H4[63;5H[85;120H3[62;5H[85;120H2[61;5H[85;120H1[60;5H[85;120H0[59;5H[85;119H19,0-1[58;1H[85;120H8,5  [57;5H[85;120H9,0-1[58;1H[85;119H20,5  [59;5H[85;120H1[60;5H[85;120H2[61;5H[85;120H3[62;5H[85;120H4[63;5H[85;120H5[64;5H[85;120H6[65;5H[85;120H7[66;5H[85;120H8[67;5H[85;120H9[68;5H[85;119H30[69;5H[85;120H1[70;5H[85;120H2[71;5H[85;120H3[72;5H[85;120H4[73;5H[85;120H5[74;5H[85;120H6[75;5H[85;120H7[76;5H[85;120H8[77;5H[85;120H9[78;5H[85;119H40[79;5H[85;120H1[80;5H[85;120H2[81;5H[85;120H3[82;5H[85;120H4[83;5H[85;120H5[84;5H[1;84r[84;1H
[1;85r[84;12H [33mif[m( execvp( a[[31m0[m], a) == -[31m1[m)[85;118H[K[85;118H146,5[9C15%[84;5H[1;84r[84;1H
[1;85r[84;12H {[85;118H[K[85;118H147,5[9C15%[84;5H[1;84r[84;1H
[1;85r[84;16H perror([31m"error in execvp"[m);[85;118H[K[85;118H148,5[9C16%[84;5H[1;84r[84;1H
[1;85r[84;16H exit([31m1[m);[85;118H[K[85;118H149,5[9C16%[84;5H[1;84r[84;1H
[1;85r[84;12H }[85;118H[K[85;118H150,5[9C16%[84;5H[1;84r[84;1H
[1;85r[84;12H exit([31m1[m);[85;118H[K[85;118H151,5[9C16%[84;5H[1;84r[84;1H
[1;85r[84;8H }[85;118H[K[85;118H152,5[9C17%[84;5H[1;84r[84;1H
[1;85r[85;118H[K[85;118H153,5[9C17%[84;5H[1;84r[84;1H
[1;85r[84;8H [32mint[m savestdin;[85;118H[K[85;118H154,5[9C17%[84;5H[1;84r[84;1H
[1;85r[84;8H savestdin = dup([31m0[m);[85;118H[K[85;118H155,5[9C17%[84;5H[1;84r[84;1H
[1;85r[84;8H [33mif[m( savestdin == -[31m1[m)[85;118H[K[85;118H156,5[9C18%[84;5H[1;84r[84;1H
[1;85r[84;8H {[85;118H[K[85;118H157,5[9C18%[84;5H[1;84r[84;1H
[1;85r[84;12H perror([31m"error with dup"[m);[85;118H[K[85;118H158,5[9C18%[84;5H[1;84r[84;1H
[1;85r[84;12H exit([31m1[m);[85;118H[K[85;118H159,5[9C18%[84;5H[1;84r[84;1H
[1;85r[84;8H }[85;118H[K[85;118H160,5[9C19%[84;5H[1;84r[84;1H
[1;85r[84;8H [33mif[m( dup2(fd[[31m0[m],[31m0[m) == -[31m1[m)[85;118H[K[85;118H161,5[9C19%[84;5H[1;84r[84;1H
[1;85r[84;8H {[85;118H[K[85;118H162,5[9C19%[84;5H[1;84r[84;1H
[1;85r[84;12H perror([31m"error with dup2"[m);[85;118H[K[85;118H163,5[9C19%[84;5H[1;84r[84;1H
[1;85r[84;12H exit([31m1[m);[85;118H[K[85;118H164,5[9C20%[84;5H[1;84r[84;1H
[1;85r[84;8H }[85;118H[K[85;118H165,5[9C20%[84;5H[1;84r[84;1H
[1;85r[84;8H [33mif[m( close(fd[[31m1[m]) == -[31m1[m)[85;118H[K[85;118H166,5[9C20%[84;5H[1;84r[84;1H
[1;85r[84;8H {[85;118H[K[85;118H167,5[9C20%[84;5H[1;84r[84;1H
[1;85r[84;12H perror([31m"error with close"[m);[85;118H[K[85;118H168,5[9C21%[84;5H[1;84r[84;1H
[1;85r[84;12H exit([31m1[m);[85;118H[K[85;118H169,5[9C21%[84;5H[1;84r[84;1H
[1;85r[84;8H }[85;118H[K[85;118H170,5[9C21%[84;5H[1;84r[84;1H
[1;85r[84;8H [33mif[m (wait(&status) == -[31m1[m)[85;118H[K[85;118H171,5[9C21%[84;5H[1;84r[84;1H
[1;85r[84;8H {[85;118H[K[85;118H172,5[9C22%[84;5H[1;84r[84;1H
[1;85r[84;12H perror([31m"error in wait()"[m);[85;118H[K[85;118H173,5[9C22%[84;5H[1;84r[84;1H
[1;85r[84;12H exit([31m1[m);[85;118H[K[85;118H174,5[9C22%[84;5H[1;84r[84;1H
[1;85r[84;8H }[85;118H[K[85;118H175,5[9C22%[84;5H[1;84r[84;1H
[1;85r[85;118H[K[85;118H176,0-1[7C23%[84;1H[1;84r[84;1H
[1;85r[84;8H [34m//we need to check that the rest of c does not have any pipes[m[85;118H[K[85;118H177,5[9C23%[84;5H[1;84r[84;1H
[1;85r[84;8H find_pipes(b);[85;118H[K[85;118H178,5[9C23%[84;5H[1;84r[84;1H
[1;85r[84;8H dup2(savestdin, [31m0[m);[85;118H[K[85;118H179,5[9C23%[84;5H[1;84r[84;1H
[1;85r[84;1H[34m/*       [m[85;118H[K[85;118H180,5[9C24%[84;5H[1;84r[84;1H
[1;85r[84;1H[34m        status = 1;[m[85;118H[K[85;118H181,5[9C24%[84;5H[1;84r[84;1H
[1;85r[84;1H[34m        int pid = fork();[m[85;118H[K[85;118H182,5[9C24%[84;5H[1;84r[84;1H
[1;85r[84;1H[34m        if(pid == -1)[m[85;118H[K[85;118H183,5[9C24%[84;5H[1;84r[84;1H
[1;85r[84;1H[34m        {[m[85;118H[K[85;118H184,5[9C25%[84;5H[1;84r[84;1H
[1;85r[84;1H[34m            perror("fork fail");[m[85;118H[K[85;118H185,5[9C25%[84;5H[1;84r[84;1H
[1;85r[84;1H[34m            exit(1);[m[85;118H[K[85;118H186,5[9C25%[84;5H[1;84r[84;1H
[1;85r[84;1H[34m        }[m[85;118H[K[85;118H187,5[9C25%[84;5H[1;84r[84;1H
[1;85r[84;1H[34m        else if(pid == 0)[m[85;118H[K[85;118H188,5[9C26%[84;5H[1;84r[84;1H
[1;85r[84;1H[34m        {[m[85;118H[K[85;118H189,5[9C26%[84;5H[1;84r[84;1H
[1;85r[84;1H[34m            //this will check for i/o redirection[m[85;118H[K[85;118H190,5[9C26%[84;5H[1;84r[84;1H
[1;85r[84;1H[34m            check_dup(a);[m[85;118H[K[85;118H191,5[9C26%[84;5H[1;84r[84;1H
[1;85r[85;118H[K[85;118H192,0-1[7C27%[84;1H[1;84r[84;1H
[1;85r[84;1H[34m            if (execvp(a[0], a) !=0 )[m[85;118H[K[85;118H193,5[9C27%[84;5H[1;84r[84;1H
[1;85r[84;1H[34m            {[m[85;118H[K[85;118H194,5[9C27%[84;5H[1;84r[84;1H
[1;85r[84;1H[34m                perror("error in execvp");[m[85;118H[K[85;118H195,5[9C27%[84;5H[1;84r[84;1H
[1;85r[84;1H[34m                exit(1);[m[85;118H[K[85;118H196,5[9C28%[84;5H[1;84r[84;1H
[1;85r[84;1H[34m            }[m[85;118H[K[85;118H197,5[9C28%[84;5H[1;84r[84;1H
[1;85r[84;1H[34m        }[m[85;118H[K[85;118H198,5[9C28%[84;5H[1;84r[84;1H
[1;85r[84;1H[34m        //else[m[85;118H[K[85;118H199,5[9C28%[84;5H[1;84r[84;1H
[1;85r[84;1H[34m        //{[m[85;118H[K[85;118H200,5[9C29%[84;5H[1;84r[84;1H
[1;85r[84;1H[34m            if (wait(&status) == -1)[m[85;118H[K[85;118H201,5[9C29%[84;5H[1;84r[84;1H
[1;85r[84;1H[34m            {[m[85;118H[K[85;118H202,5[9C29%[84;5H[1;84r[84;1H
[1;85r[84;1H[34m                perror("error in wait");[m[85;118H[K[85;118H203,5[9C29%[84;5H[1;84r[84;1H
[1;85r[84;1H[34m                exit(1);[m[85;118H[K[85;118H204,5[9C30%[84;5H[1;84r[84;1H
[1;85r[84;1H[34m            }[m[85;118H[K[85;118H205,5[9C30%[84;5H[1;84r[84;1H
[1;85r[84;1H[34m       //}[m[85;118H[K[85;118H206,5[9C30%[84;5H[1;84r[84;1H
[1;85r[84;1H[34m    find_pipes(b);[m[85;118H[K[85;118H207,5[9C30%[84;5H[1;84r[84;1H
[1;85r[84;1H[34m*/[m[85;118H[K[85;118H208,2[9C31%[84;2H[1;84r[84;1H
[1;85r[84;4H }[85;118H[K[85;118H209,5[9C31%[84;5H[1;84r[84;1H
[1;85r[85;118H[K[85;118H210,5[9C31%[84;5H[1;84r[84;1H
[1;85r[84;4H [34m//if there are no more pipes to go through then the find_pipes fxm wil end[m[85;118H[K[85;118H211,5[9C31%[84;5H[1;84r[84;1H
[1;85r[85;118H[K[85;118H212,0-1[7C32%[84;1H[1;84r[84;1H
[1;85r[84;4H [32mint[m pid = fork();[85;118H[K[85;118H213,5[9C32%[84;5H[1;84r[84;1H
[1;85r[84;4H [33mif[m(pid == -[31m1[m)[85;118H[K[85;118H214,5[9C32%[84;5H[1;84r[84;1H
[1;85r[84;4H {[85;118H[K[85;118H215,5[9C32%[84;5H[1;84r[84;1H
[1;85r[84;8H perror([31m"fork fail"[m);[85;118H[K[85;118H216,5[9C33%[84;5H[1;84r[84;1H
[1;85r[84;8H exit([31m1[m);[85;118H[K[85;118H217,5[9C33%[84;5H[1;84r[84;1H
[1;85r[81;5H[46m{[m[84;4H [46m}[m[85;118H[K[85;118H218,5[9C33%[84;5H[1;84r[84;1H
[1;85r[80;5H{[83;5H}
    [33melse[m [33mif[m(pid == [31m0[m)[85;118H[K[85;118H219,5[9C33%[84;5H[1;84r[84;1H
[1;85r[84;4H {[85;118H[K[85;118H220,5[9C34%[84;5H[1;84r[84;1H
[1;85r[84;8H [34m//this will check for i/o redirection[m[85;118H[K[85;118H221,5[9C34%[84;5H[1;84r[84;1H
[1;85r[84;8H check_dup(c);[85;118H[K[85;118H222,5[9C34%[84;5H[1;84r[84;1H
[1;85r[85;118H[K[85;118H223,0-1[7C34%[84;1H[1;84r[84;1H
[1;85r[84;8H [33mif[m (execvp(c[[31m0[m], c) !=[31m0[m )[85;118H[K[85;118H224,5[9C35%[84;5H[1;84r[84;1H
[1;85r[84;8H {[85;118H[K[85;118H225,5[9C35%[84;5H[1;84r[84;1H
[1;85r[84;12H perror([31m"error in execvp"[m);[85;118H[K[85;118H226,5[9C35%[84;5H[1;84r[84;1H
[1;85r[84;12H exit([31m1[m);[85;118H[K[85;118H227,5[9C35%[84;5H[1;84r[84;1H
[1;85r[84;8H }[85;118H[K[85;118H228,5[9C36%[84;5H[1;84r[84;1H
[1;85r[75;5H[46m{[m[84;4H [46m}[m[85;118H[K[85;118H229,5[9C36%[84;5H[1;84r[84;1H
[1;85r[74;5H{[83;5H}
    [33melse[m[85;118H[K[85;118H230,5[9C36%[84;5H[1;84r[84;1H
[1;85r[84;4H {[85;118H[K[85;118H231,5[9C36%[84;5H[1;84r[84;1H
[1;85r[84;8H [33mif[m (wait(&status) == -[31m1[m)[85;118H[K[85;118H232,5[9C37%[84;5H[1;84r[84;1H
[1;85r[84;8H {[85;118H[K[85;118H233,5[9C37%[84;5H[1;84r[84;1H
[1;85r[84;12H perror([31m"error in wait"[m);[85;118H[K[85;118H234,5[9C37%[84;5H[1;84r[84;1H
[1;85r[84;12H exit([31m1[m);[85;118H[K[85;118H235,5[9C37%[84;5H[85;120H4[83;5H[85;120H3[82;5H[85;120H2[81;5H[85;120H1[80;5H[85;120H0[79;5H[69;5H[46m{[78;5H}[m[85;119H29[78;5H[69;5H{[78;5H}[85;120H8[77;5H[85;120H7[76;5H[85;120H6[75;5H[85;120H5[74;5H[85;120H4[73;5H[85;120H3,0-1[72;1H[85;120H2,5  [71;5H[85;120H1[70;5H[69;5H[46m{[78;5H}[m[85;120H0[69;5H{[78;5H}[85;119H19[68;5H[64;5H[46m{[67;5H}[m[85;120H8[67;5H[64;5H{[67;5H}[85;120H7[66;5H[85;120H6[65;5H[64;5H[46m{[67;5H}[m[85;120H5[64;5H{[67;5H}[85;120H4[63;5H[85;120H3[62;5H[85;120H2,0-1[61;1H[85;120H1,5  [60;5H[85;120H0[59;5H[85;119H09[58;5H[85;120H8,2[57;2H[85;120H7,5[56;5H[85;120H6[55;5H[85;120H5[54;5H[85;120H4[53;5H[85;120H3[52;5H[85;120H2[51;5H[85;120H1[50;5H[85;120H0[49;5H[85;118H199[48;5H[85;120H8[47;5H[85;120H7[46;5H[85;120H6[45;5H[85;120H5[44;5H[85;120H4[43;5H[85;120H3[42;5H[85;120H2,0-1[41;1H[85;120H1,5  [40;5H[85;120H0[39;5H[85;119H89[38;5H[85;120H8[37;5H[85;120H7[36;5H[85;120H6[35;5H[85;120H5[34;5H[85;120H4[33;5H[85;120H3[32;5H[85;120H2[31;5H[85;120H1[30;5H[85;120H0[29;5H[85;119H79[28;5H[85;120H8[27;5H[85;120H7[26;5H[85;120H6,0-1[25;1H[85;120H5,5  [24;5H[85;120H4[23;5H[85;120H3[22;5H[85;120H2[21;5H[85;120H1[20;5H[85;120H0[19;5H[85;119H69[18;5H[85;120H8[17;5H[85;120H7[16;5H[85;120H6[15;5H[85;120H5[14;5H[85;120H4[13;5H[85;120H3[12;5H[85;120H2[11;5H[85;120H1[10;5H[85;120H0[9;5H[85;119H59[8;5H[85;120H8[7;5H[85;120H7[6;5H[85;120H6[5;5H[85;120H5[4;5H[85;120H4[3;5H[85;120H3[2;5H[85;120H2[1;5H[1;84r[1;1H[L[1;85r[1;12H exit([31m1[m);[85;118H[K[85;118H151,5[9C37%[1;5H[1;84r[1;1H[L[1;85r[1;12H }[85;118H[K[85;118H150,5[9C37%[1;5H[1;84r[1;1H[L[1;85r[1;16H exit([31m1[m);[85;118H[K[85;118H149,5[9C37%[1;5H[1;84r[1;1H[L[1;85r[1;16H perror([31m"error in execvp"[m);[85;118H[K[85;118H148,5[9C36%[1;5H[1;84r[1;1H[L[1;85r[1;12H {[85;118H[K[85;118H147,5[9C36%[1;5H[1;84r[1;1H[L[1;85r[1;12H [33mif[m( execvp( a[[31m0[m], a) == -[31m1[m)[85;118H[K[85;118H146,5[9C36%[1;5H[1;84r[1;1H[L[1;85r[1;12H check_dup(a);[85;118H[K[85;118H145,5[9C36%[1;5H[1;84r[1;1H[L[1;85r[1;12H }[85;118H[K[85;118H144,5[9C35%[1;5H[1;84r[1;1H[L[1;85r[1;16H exit([31m1[m);[85;118H[K[85;118H143,5[9C35%[1;5H[1;84r[1;1H[L[1;85r[1;16H perror([31m"error with close"[m);[85;118H[K[85;118H142,5[9C35%[1;5H[1;84r[1;1H[L[1;85r[1;12H {[85;118H[K[85;118H141,5[9C35%[1;5H[1;84r[1;1H[L[1;85r[1;12H [33mif[m( close(fd[[31m0[m]) == -[31m1[m)[85;118H[K[85;118H140,5[9C34%[1;5H[1;84r[1;1H[L[1;85r[1;12H }[85;118H[K[85;118H139,5[9C34%[1;5H[1;84r[1;1H[L[1;85r[1;16H exit([31m1[m);[85;118H[K[85;118H138,5[9C34%[1;5H[1;84r[1;1H[L[1;85r[1;16H perror([31m"error with dup2"[m);[85;118H[K[85;118H137,5[9C34%[1;5H[1;84r[1;1H[L[1;85r[1;12H {[85;118H[K[85;118H136,5[9C33%[1;5H[1;84r[1;1H[L[1;85r[1;12H [33mif[m( dup2(fd[[31m1[m], [31m1[m) == -[31m1[m)[85;118H[K[85;118H135,5[9C33%[1;5H[1;84r[1;1H[L[1;85r[1;8H {[85;118H[K[85;118H134,5[9C33%[1;5H[1;84r[1;1H[L[1;85r[1;8H [33melse[m [33mif[m(pid == [31m0[m)[85;118H[K[85;118H133,5[9C33%[1;5H[1;84r[1;1H[L[1;85r[1;8H }[85;118H[K[85;118H132,5[9C32%[1;5H[1;84r[1;1H[L[1;85r[1;12H exit([31m1[m);[85;118H[K[85;118H131,5[9C32%[1;5H[1;84r[1;1H[L[1;85r[1;12H perror([31m"fork fail"[m);[85;118H[K[85;118H130,5[9C32%[1;5H[1;84r[1;1H[L[1;85r[1;8H {[85;118H[K[85;118H129,5[9C32%[1;5H[1;84r[1;1H[L[1;85r[1;8H [33mif[m( pid  == -[31m1[m)[85;118H[K[85;118H128,5[9C31%[1;5H[1;84r[1;1H[L[1;85r[1;8H [32mint[m pid = fork();[85;118H[K[85;118H127,5[9C31%[1;5H[1;84r[1;1H[L[1;85r[1;8H }[85;118H[K[85;118H126,5[9C31%[1;5H[1;84r[1;1H[L[1;85r[1;12H exit([31m1[m);[85;118H[K[85;118H125,5[9C31%[1;5H[1;84r[1;1H[L[1;85r[1;12H perror([31m"pipe fail"[m);[85;118H[K[85;118H124,5[9C30%[1;5H[1;84r[1;1H[L[1;85r[1;8H {[85;118H[K[85;118H123,5[9C30%[1;5H[1;84r[1;1H[L[1;85r[1;8H [33mif[m(pipe(fd) == -[31m1[m )[85;118H[K[85;118H122,5[9C30%[1;5H[1;84r[1;1H[L[1;85r[1;8H [32mint[m fd[[31m2[m];[85;118H[K[85;118H121,5[9C30%[1;5H[1;84r[1;1H[L[1;85r[1;8H [34m//now i will execute the commands with piping[m[85;118H[K[85;118H120,5[9C29%[1;5H[1;84r[1;1H[L[1;85r[85;118H[K[85;118H119,0-1[7C29%[1;1H[1;84r[1;1H[L[1;85r[1;8H b[l] = [35m'\0'[m;[85;118H[K[85;118H118,5[9C29%[1;5H[85;120H9,0-1[2;1H[85;119H20,5  [3;5H[85;120H1[4;5H[85;120H2[5;5H[85;120H3[6;5H[85;120H4[7;5H[85;120H5[8;5H[85;120H6[9;5H[85;120H7[10;5H[85;120H8[11;5H[85;120H9[12;5H[85;119H30[13;5H[85;120H1[14;5H[85;120H2[15;5H[85;120H3[16;5H[85;120H4[17;5H[85;120H5[18;5H[85;120H6[19;5H[85;120H7[20;5H[85;120H8[21;5H[85;120H9[22;5H[85;119H40[23;5H[85;120H1[24;5H[85;120H2[25;5H[85;120H3[26;5H[85;120H4[27;5H[85;120H5[28;5H[85;1H[1m-- INSERT --[m[85;118H[K[85;118H145,5[9C29%[28;5H /        check_dup(a);[85;122H6[28;6H[34m//        check_dup(a);[m[85;122H7[28;7H[85;120H6[29;7H[85;120H7[30;7H[85;120H8[31;7H[85;120H9[32;7H[85;119H50[33;7H[85;120H1[34;7H[85;120H2[35;7H[85;120H3[36;7H[85;120H4[37;7H[85;120H5[38;7H[85;120H6[39;7H[85;120H7[40;7H[85;120H8[41;7H[85;120H9[42;7H[85;119H60[43;7H[85;120H1[44;7H[85;120H2[45;7H[85;120H3[46;7H[85;120H4[47;7H[85;120H5[48;7H[85;120H6[49;7H[85;120H7[50;7H[85;120H8[51;7H[85;120H9[52;7H[85;119H70[53;7H[85;120H1[54;7H[85;120H2[55;7H[85;120H3[56;7H[85;120H4[57;7H[85;120H5[58;7H[85;120H6,1[59;1H[85;120H7,7[60;7H[85;120H8[61;7H[85;120H9[62;7H[85;119H80[63;7H[85;120H1[64;7H[85;120H2[65;7H[85;120H3[66;7H[85;120H4[67;7H[85;120H5[68;7H[85;120H6[69;7H[85;120H7[70;7H[85;120H8[71;7H[85;120H9[72;7H[85;119H90[73;7H[85;120H1[74;7H[85;120H2,1[75;1H[85;120H3,7[76;7H[85;120H4[77;7H[85;120H5[78;7H[85;120H6[79;7H[85;120H7[80;7H[85;120H8[81;7H[85;120H9[82;7H[85;118H200[83;7H[85;120H1[84;7H[1;84r[84;1H
[1;85r[84;1H[34m            {[m[85;118H[K[85;118H202,7[9C29%[84;7H[1;84r[84;1H
[1;85r[84;1H[34m                perror("error in wait");[m[85;118H[K[85;118H203,7[9C29%[84;7H[1;84r[84;1H
[1;85r[84;1H[34m                exit(1);[m[85;118H[K[85;118H204,7[9C30%[84;7H[1;84r[84;1H
[1;85r[84;1H[34m            }[m[85;118H[K[85;118H205,7[9C30%[84;7H[1;84r[84;1H
[1;85r[84;1H[34m       //}[m[85;118H[K[85;118H206,7[9C30%[84;7H[1;84r[84;1H
[1;85r[84;1H[34m    find_pipes(b);[m[85;118H[K[85;118H207,7[9C30%[84;7H[1;84r[84;1H
[1;85r[84;1H[34m*/[m[85;118H[K[85;118H208,3[9C31%[84;3H[1;84r[84;1H
[1;85r[84;4H }[85;118H[K[85;118H209,6[9C31%[84;6H[1;84r[84;1H
[1;85r[85;118H[K[85;118H210,7[9C31%[84;7H[1;84r[84;1H
[1;85r[84;4H [34m//if there are no more pipes to go through then the find_pipes fxm wil end[m[85;118H[K[85;118H211,7[9C31%[84;7H[1;84r[84;1H
[1;85r[85;118H[K[85;118H212,1[9C32%[84;1H[1;84r[84;1H
[1;85r[84;4H [32mint[m pid = fork();[85;118H[K[85;118H213,7[9C32%[84;7H[1;84r[84;1H
[1;85r[84;4H [33mif[m(pid == -[31m1[m)[85;118H[K[85;118H214,7[9C32%[84;7H[46m([9C)[84;7H[1;84r[m[84;1H
[1;85r[84;4H {[85;118H[K[85;118H215,6[9C32%[83;7H([9C)[84;6H[1;84r[84;1H
[1;85r[84;8H perror([31m"fork fail"[m);[85;118H[K[85;118H216,7[9C33%[84;7H[1;84r[84;1H
[1;85r[84;8H exit([31m1[m);[85;118H[K[85;118H217,7[9C33%[84;7H[1;84r[84;1H
[1;85r[84;4H }[85;118H[K[85;118H218,6[9C33%[81;5H[46m{[84;5H}[1;84r[m[84;1H
[1;85r[84;4H [33melse[m [33mif[m(pid == [31m0[m)[85;118H[K[85;118H219,7[9C33%[80;5H{[83;5H}[84;7H[1;84r[84;1H
[1;85r[84;4H {[85;118H[K[85;118H220,6[9C34%[84;6H[1;84r[84;1H
[1;85r[84;8H [34m//this will check for i/o redirection[m[85;118H[K[85;118H221,7[9C34%[84;7H[1;84r[84;1H
[1;85r[84;8H check_dup(c);[85;118H[K[85;118H222,7[9C34%[84;7H[1;84r[84;1H
[1;85r[85;118H[K[85;118H223,1[9C34%[84;1H[1;84r[84;1H
[1;85r[84;8H [33mif[m (execvp(c[[31m0[m], c) !=[31m0[m )[85;118H[K[85;118H224,7[9C35%[84;7H[1;84r[84;1H
[1;85r[84;8H {[85;118H[K[85;118H225,7[9C35%[84;7H[1;84r[84;1H
[1;85r[84;12H perror([31m"error in execvp"[m);[85;118H[K[85;118H226,7[9C35%[84;7H[1;84r[84;1H
[1;85r[84;12H exit([31m1[m);[85;118H[K[85;118H227,7[9C35%[84;7H[1;84r[84;1H
[1;85r[84;8H }[85;118H[K[85;118H228,7[9C36%[84;7H[1;84r[84;1H
[1;85r[84;4H }[85;118H[K[85;118H229,6[9C36%[75;5H[46m{[84;5H}[1;84r[m[84;1H
[1;85r[84;4H [33melse[m[85;118H[K[85;118H230,7[9C36%[74;5H{[83;5H}[84;7H[1;84r[84;1H
[1;85r[84;4H {[85;118H[K[85;118H231,6[9C36%[84;6H[1;84r[84;1H
[1;85r[84;8H [33mif[m (wait(&status) == -[31m1[m)[85;118H[K[85;118H232,7[9C37%[84;7H[1;84r[84;1H
[1;85r[84;8H {[85;118H[K[85;118H233,7[9C37%[84;7H[1;84r[84;1H
[1;85r[84;12H perror([31m"error in wait"[m);[85;118H[K[85;118H234,7[9C37%[84;7H[1;84r[84;1H
[1;85r[84;12H exit([31m1[m);[85;118H[K[85;118H235,7[9C37%[84;7H[1;84r[84;1H
[1;85r[84;8H }[85;118H[K[85;118H236,7[9C38%[84;7H[1;84r[84;1H
[1;85r[84;4H }[85;118H[K[85;118H237,6[9C38%[78;5H[46m{[84;5H}[1;84r[m[84;1H
[1;85r[85;118H[K[85;118H238,1[9C38%[77;5H{[83;5H}
[1;84r[84;1H
[1;85r[85;118H[K[85;118H239,1[9C38%[84;1H[1;84r[84;1H
[1;85r[84;1H[34m/*    int f=0;[m[85;118H[K[85;118H240,7[9C39%[84;7H[1;84r[84;1H
[1;85r[84;1H[34m    while( f < 100)[m[85;118H[K[85;118H241,7[9C39%[84;7H[1;84r[84;1H
[1;85r[84;1H[34m    {[m[85;118H[K[85;118H242,6[9C39%[84;6H[1;84r[84;1H
[1;85r[84;1H[34m        delete[] a[f];[m[85;118H[K[85;118H243,7[9C39%[84;7H[1;84r[84;1H
[1;85r[84;1H[34m        f++;[m[85;118H[K[85;118H244,7[9C40%[84;7H[1;84r[84;1H
[1;85r[84;1H[34m    }*/[m[85;118H[K[85;118H245,7[9C40%[84;7H[1;84r[84;1H
[1;85r[84;4H [33mdelete[m[] a;[85;118H[K[85;118H246,7[9C40%[84;7H[1;84r[84;1H
[1;85r[84;1H[34m/*    int ff=0;[m[85;118H[K[85;118H247,7[9C40%[84;7H[1;84r[84;1H
[1;85r[84;1H[34m    while( ff < 100)[m[85;118H[K[85;118H248,7[9C41%[84;7H[1;84r[84;1H
[1;85r[84;1H[34m    {[m[85;118H[K[85;118H249,6[9C41%[84;6H[1;84r[84;1H
[1;85r[84;1H[34m        delete[] b[ff];[m[85;118H[K[85;118H250,7[9C41%[84;7H[1;84r[84;1H
[1;85r[84;1H[34m        ff++;[m[85;118H[K[85;118H251,7[9C41%[84;7H[1;84r[84;1H
[1;85r[84;1H[34m    }*/[m[85;118H[K[85;118H252,7[9C42%[84;7H[1;84r[84;1H
[1;85r[84;4H [33mdelete[m[] b;[85;118H[K[85;118H253,7[9C42%[84;7H[1;84r[84;1H
[1;85r[85;118H[K[85;118H254,1[9C42%[84;1H[1;84r[84;1H
[1;85r[85;118H[K[85;118H255,1[9C42%[84;1H[1;84r[84;1H
[1;85r[84;1H[34m//    return status;[m[85;118H[K[85;118H256,7[9C43%[84;7H[1;84r[84;1H
[1;85r[84;1H}[85;118H[K[85;118H257,2[9C43%[84;2H[1;84r[84;1H
[1;85r[85;118H[K[85;118H258,1[9C43%[84;1H[1;84r[84;1H
[1;85r[84;1H[32mvoid[m check_spaces(string &s)[85;118H[K[85;118H259,7[9C43%[84;7H[1;84r[84;1H
[1;85r[84;1H{[85;118H[K[85;118H260,2[9C44%[84;2H[1;84r[84;1H
[1;85r[84;4H [32mint[m size = s.size();[85;118H[K[85;118H261,7[9C44%[84;7H[1;84r[84;1H
[1;85r[84;4H [32mint[m i=[31m0[m;[85;118H[K[85;118H262,7[9C44%[84;7H[1;84r[84;1H
[1;85r[84;4H [33mwhile[m ( i < size  )[85;118H[K[85;118H263,7[9C44%[84;7H[1;84r[84;1H
[1;85r[84;4H {[85;118H[K[85;118H264,6[9C45%[84;6H[1;84r[84;1H
[1;85r[84;8H [33mif[m (s[i] == [31m'<'[m)[85;118H[K[85;118H265,7[9C45%[84;7H[1;84r[84;1H
[1;85r[84;8H {[85;118H[K[85;118H266,7[9C45%[84;7H[1;84r[84;1H
[1;85r[84;12H s.insert(i+[31m1[m , [31m" "[m);[85;118H[K[85;118H267,7[9C45%[84;7H[1;84r[84;1H
[1;85r[84;12H s.insert(i , [31m" "[m);[85;118H[K[85;118H268,7[9C46%[84;7H[1;84r[84;1H
[1;85r[84;8H }[85;118H[K[85;118H269,7[9C46%[84;7H[1;84r[84;1H
[1;85r[84;8H [33melse[m [33mif[m (s[i] == [31m'|'[m)[85;118H[K[85;118H270,7[9C46%[84;7H[1;84r[84;1H
[1;85r[84;8H {[85;118H[K[85;118H271,7[9C46%[84;7H[1;84r[84;1H
[1;85r[84;12H s.insert(i+[31m1[m , [31m" "[m);[85;118H[K[85;118H272,7[9C47%[84;7H[1;84r[84;1H
[1;85r[84;12H s.insert(i , [31m" "[m);[85;118H[K[85;118H273,7[9C47%[84;7H[1;84r[84;1H
[1;85r[85;118H[K[85;118H274,1[9C47%[84;1H[1;84r[84;1H
[1;85r[84;8H }[85;118H[K[85;118H275,7[9C47%[84;7H[1;84r[84;1H
[1;85r[84;8H [33melse[m [33mif[m (s[i] == [31m'>'[m)[85;118H[K[85;118H276,7[9C48%[84;7H[1;84r[84;1H
[1;85r[84;8H {[85;118H[K[85;118H277,7[9C48%[84;7H[1;84r[84;1H
[1;85r[84;12H [33mif[m (s[i+[31m1[m] == [31m'>'[m)[85;118H[K[85;118H278,7[9C48%[84;7H[1;84r[84;1H
[1;85r[84;12H {[85;118H[K[85;118H279,7[9C48%[84;7H[1;84r[84;1H
[1;85r[84;16H s.insert(i+[31m2[m , [31m" "[m);[85;118H[K[85;118H280,7[9C49%[84;7H[1;84r[84;1H
[1;85r[84;16H s.insert(i , [31m" "[m);[85;118H[K[85;118H281,7[9C49%[84;7H[1;84r[84;1H
[1;85r[84;12H }[85;118H[K[85;118H282,7[9C49%[84;7H[1;84r[84;1H
[1;85r[84;12H [33melse[m[85;118H[K[85;118H283,7[9C49%[84;7H[1;84r[84;1H
[1;85r[84;12H {[85;118H[K[85;118H284,7[9C50%[84;7H[1;84r[84;1H
[1;85r[84;16H s.insert(i+[31m1[m , [31m" "[m);[85;118H[K[85;118H285,7[9C50%[84;7H[1;84r[84;1H
[1;85r[84;16H s.insert(i , [31m" "[m);[85;118H[K[85;118H286,7[9C50%[84;7H[1;84r[84;1H
[1;85r[84;12H }[85;118H[K[85;118H287,7[9C50%[84;7H[1;84r[84;1H
[1;85r[84;8H }[85;118H[K[85;118H288,7[9C51%[84;7H[1;84r[84;1H
[1;85r[84;8H i++;[85;118H[K[85;118H289,7[9C51%[84;7H[1;84r[84;1H
[1;85r[84;4H }[85;118H[K[85;118H290,6[9C51%[58;5H[46m{[84;5H}[1;84r[m[84;1H
[1;85r[84;1H}[85;118H[K[85;118H291,2[9C51%[53;1H[46m{[m[57;5H{[83;5H}
[46m}[1;84r[m[84;1H
[1;85r[85;118H[K[85;118H292,1[9C52%[52;1H{[83;1H}
[1;84r[84;1H
[1;85r[84;1H[32mint[m num_tokens( [32mchar[m *c)[85;118H[K[85;118H293,7[9C52%[84;7H[1;84r[84;1H
[1;85r[84;1H{[85;118H[K[85;118H294,2[9C52%[84;2H[1;84r[84;1H
[1;85r[84;4H [32mint[m count =[31m0[m;[85;118H[K[85;118H295,7[9C52%[84;7H[1;84r[84;1H
[1;85r[84;4H [32mint[m i=[31m0[m;[85;118H[K[85;118H296,7[9C53%[84;7H[1;84r[84;1H
[1;85r[84;4H [33mwhile[m(c[i] != [35m'\0'[m)[85;118H[K[85;118H297,7[9C53%[84;7H[1;84r[84;1H
[1;85r[84;4H {[85;118H[K[85;118H298,6[9C53%[84;6H[1;84r[84;1H
[1;85r[84;8H [33mif[m(c[i] == [31m' '[m)[85;118H[K[85;118H299,7[9C53%[84;7H[1;84r[84;1H
[1;85r[84;8H {[85;118H[K[85;118H300,7[9C54%[84;7H[1;84r[84;1H
[1;85r[84;12H count++;[85;118H[K[85;118H301,7[9C54%[84;7H[1;84r[84;1H
[1;85r[84;8H }[85;118H[K[85;118H302,7[9C54%[84;7H[1;84r[84;1H
[1;85r[84;8H i++;[85;118H[K[85;118H303,7[9C54%[84;7H[1;84r[84;1H
[1;85r[84;4H }[85;118H[K[85;118H304,6[9C55%[78;5H[46m{[84;5H}[1;84r[m[84;1H
[1;85r[84;4H [33mreturn[m count+[31m1[m;[85;118H[K[85;118H305,7[9C55%[77;5H{[83;5H}[84;7H[1;84r[84;1H
[1;85r[84;1H}[85;118H[K[85;118H306,2[9C55%[72;1H[46m{[84;1H}[1;84r[m[84;1H
[1;85r[84;1H[34m//this fxn counts the number of & and | and pushes them back in order[m[85;118H[K[85;118H307,7[9C55%[71;1H{[83;1H}[84;7H[1;84r[84;1H
[1;85r[85;118H[K[85;118H308,1[9C56%[84;1H[1;84r[84;1H
[1;85r[84;1Hvector<[32mint[m> cmds_order([32mchar[m *c)[85;118H[K[85;118H309,7[9C56%[84;7H[1;84r[84;1H
[1;85r[84;1H{[85;118H[K[85;118H310,2[9C56%[84;2H[1;84r[84;1H
[1;85r[84;4H vector<[32mint[m> v;[85;118H[K[85;118H311,7[9C56%[84;7H[1;84r[84;1H
[1;85r[84;4H [32mint[m i=[31m0[m;[85;118H[K[85;118H312,7[9C57%[84;7H[1;84r[84;1H
[1;85r[84;4H [33mwhile[m(c[i] != [35m'\0'[m)[85;118H[K[85;118H313,7[9C57%[84;7H[1;84r[84;1H
[1;85r[84;4H {[85;118H[K[85;118H314,6[9C57%[84;6H[1;84r[84;1H
[1;85r[84;8H [33mif[m ((c[i] ==[31m'&'[m)&&(c[i+[31m1[m]==[31m'&'[m))[85;118H[K[85;118H315,7[9C57%[84;7H[1;84r[84;1H
[1;85r[84;12H {[85;118H[K[85;118H316,7[9C58%[84;7H[1;84r[84;1H
[1;85r[84;16H v.push_back([31m1[m);[85;118H[K[85;118H317,7[9C58%[84;7H[1;84r[84;1H
[1;85r[84;16H c[i+[31m1[m] = [31m' '[m;[85;118H[K[85;118H318,7[9C58%[84;7H[1;84r[84;1H
[1;85r[84;16H i = i+[31m2[m;[85;118H[K[85;118H319,7[9C58%[84;7H[1;84r[84;1H
[1;85r[84;12H }[85;118H[K[85;118H320,7[9C59%[84;7H[1;84r[84;1H
[1;85r[84;8H [33mif[m ((c[i] ==[31m'|'[m)&&(c[i+[31m1[m] ==[31m'|'[m))[85;118H[K[85;118H321,7[9C59%[84;7H[1;84r[84;1H
[1;85r[84;12H {[85;118H[K[85;118H322,7[9C59%[84;7H[1;84r[84;1H
[1;85r[84;16H v.push_back([31m2[m);[85;118H[K[85;118H323,7[9C59%[84;7H[1;84r[84;1H
[1;85r[84;16H c[i] = [31m'&'[m;[85;118H[K[85;118H324,7[9C60%[84;7H[1;84r[84;1H
[1;85r[84;16H c[i+[31m1[m] = [31m' '[m;[85;118H[K[85;118H325,7[9C60%[84;7H[1;84r[84;1H
[1;85r[84;16H i = i+[31m2[m;[85;118H[K[85;118H326,7[9C60%[84;7H[1;84r[84;1H
[1;85r[84;12H }[85;118H[K[85;118H327,7[9C60%[84;7H[1;84r[84;1H
[1;85r[84;8H [33melse[m[85;118H[K[85;118H328,7[9C61%[84;7H[1;84r[84;1H
[1;85r[84;12H i++;[85;118H[K[85;118H329,7[9C61%[84;7H[1;84r[84;1H
[1;85r[84;4H }[85;118H[K[85;118H330,6[9C61%[68;5H[46m{[84;5H}[1;84r[m[84;1H
[1;85r[84;4H [34m//c[i] = '\0';[m[85;118H[K[85;118H331,7[9C61%[67;5H{[83;5H}[84;7H[1;84r[84;1H
[1;85r[84;4H [33mreturn[m v;[85;118H[K[85;118H332,7[9C62%[84;7H[1;84r[84;1H
[1;85r[84;1H}[85;118H[K[85;118H333,2[9C62%[61;1H[46m{[84;1H}[1;84r[m[84;1H
[1;85r[84;1H[34m//this fxm will run the commands passed in as char *c[m[85;118H[K[85;118H334,7[9C62%[60;1H{[83;1H}[84;7H[1;84r[84;1H
[1;85r[84;1H[32mint[m  run_exec( [32mchar[m *c, [32mint[m count)[85;118H[K[85;118H335,7[9C62%[84;7H[1;84r[84;1H
[1;85r[84;1H{[85;118H[K[85;118H336,2[9C63%[84;2H[1;84r[84;1H
[1;85r[84;4H [32mchar[m **cmd = [33mnew[m [32mchar[m*[count+[31m1[m];[85;118H[K[85;118H337,7[9C63%[84;7H[1;84r[84;1H
[1;85r[85;118H[K[85;118H338,1[9C63%[84;1H[1;84r[84;1H
[1;85r[84;4H string word = string(c);[85;118H[K[85;118H339,7[9C63%[84;7H[1;84r[84;1H
[1;85r[84;1H[34m//    cerr<<word<<endl;[m[85;118H[K[85;118H340,7[9C64%[84;7H[1;84r[84;1H
[1;85r[84;4H istringstream iss(c);[85;118H[K[85;118H341,7[9C64%[84;7H[1;84r[84;1H
[1;85r[84;4H [32mint[m i=[31m0[m;[85;118H[K[85;118H342,7[9C64%[84;7H[1;84r[84;1H
[1;85r[84;4H [33mwhile[m(iss >>word)[85;118H[K[85;118H343,7[9C64%[84;7H[1;84r[84;1H
[1;85r[84;4H {[85;118H[K[85;118H344,6[9C65%[84;6H[1;84r[84;1H
[1;85r[84;8H [32mconst[m [32mchar[m *x = word.c_str();[85;118H[K[85;118H345,7[9C65%[84;7H[1;84r[84;1H
[1;85r[84;8H cmd[i] = [33mnew[m [32mchar[m[word.size()+[31m1[m];[85;118H[K[85;118H346,7[9C65%[84;7H[1;84r[84;1H
[1;85r[84;8H strcpy(cmd[i], x );[85;118H[K[85;118H347,7[9C65%[84;7H[1;84r[84;1H
[1;85r[84;8H i++;[85;118H[K[85;118H348,7[9C66%[84;7H[1;84r[84;1H
[1;85r[84;4H }[85;118H[K[85;118H349,6[9C66%[79;5H[46m{[84;5H}[1;84r[m[84;1H
[1;85r[84;4H cmd[i] = [35m'\0'[m;[85;118H[K[85;118H350,7[9C66%[78;5H{[83;5H}[84;7H[1;84r[84;1H
[1;85r[84;4H [32mint[m status;[85;118H[K[85;118H351,7[9C66%[84;7H[1;84r[84;1H
[1;85r[84;4H [34m//this will run if there are <,>,>> in the command[m[85;118H[K[85;118H352,7[9C67%[84;7H[1;84r[84;1H
[1;85r[84;4H [34m//then we wil check to pipes and execute i/o redirection and piping within this loop[m[85;118H[K[85;118H353,7[9C67%[84;7H[1;84r[84;1H
[1;85r[84;4H [33mif[m( pipes(cmd) == [31mtrue[m )[85;118H[K[85;118H354,7[9C67%[84;7H[46m([20C)[84;7H[1;84r[m[84;1H
[1;85r[84;4H {[85;118H[K[85;118H355,6[9C67%[83;7H([20C)[84;6H[1;84r[84;1H
[1;85r[84;1H[34m//        cerr<<"FOUND PIPE"<<endl;[m[85;118H[K[85;118H356,7[9C68%[84;7H[1;84r[84;1H
[1;85r[84;8H [34m//now i have to separate the arguments in the pipe[m[85;118H[K[85;118H357,7[9C68%[84;7H[1;84r[84;1H
[1;85r[84;8H find_pipes(cmd);[85;118H[K[85;118H358,7[9C68%[84;7H[1;84r[84;1H
[1;85r[84;4H }[85;118H[K[85;118H359,6[9C68%[80;5H[46m{[84;5H}[1;84r[m[84;1H
[1;85r[84;4H [34m//all other regular commands will be ran through this loop[m[85;118H[K[85;118H360,7[9C69%[79;5H{[83;5H}[84;7H[1;84r[84;1H
[1;85r[84;4H [33melse[m[85;118H[K[85;118H361,7[9C69%[84;7H[1;84r[84;1H
[1;85r[84;4H {[85;118H[K[85;118H362,6[9C69%[84;6H[1;84r[84;1H
[1;85r[84;8H status = [31m1[m;[85;118H[K[85;118H363,7[9C69%[84;7H[1;84r[84;1H
[1;85r[84;1H[34m//        cerr<<"no pipe"<<endl;[m[85;118H[K[85;118H364,7[9C70%[84;7H[1;84r[84;1H
[1;85r[84;8H [32mint[m pid = fork();[85;118H[K[85;118H365,7[9C70%[84;7H[1;84r[84;1H
[1;85r[84;8H [33mif[m(pid == -[31m1[m)[85;118H[K[85;118H366,7[9C70%[84;7H[1;84r[84;1H
[1;85r[84;8H {[85;118H[K[85;118H367,7[9C70%[84;7H[1;84r[84;1H
[1;85r[84;12H perror([31m"fork fail"[m);[85;118H[K[85;118H368,7[9C71%[84;7H[1;84r[84;1H
[1;85r[84;12H exit([31m1[m);[85;118H[K[85;118H369,7[9C71%[84;7H[1;84r[84;1H
[1;85r[84;8H }[85;118H[K[85;118H370,7[9C71%[84;7H[1;84r[84;1H
[1;85r[84;8H [33melse[m [33mif[m(pid == [31m0[m)[85;118H[K[85;118H371,7[9C71%[84;7H[1;84r[84;1H
[1;85r[84;8H {[85;118H[K[85;118H372,7[9C72%[84;7H[1;84r[84;1H
[1;85r[84;12H [34m//this will check for i/o redirection[m[85;118H[K[85;118H373,7[9C72%[84;7H[1;84r[84;1H
[1;85r[84;12H check_dup(cmd);[85;118H[K[85;118H374,7[9C72%[84;7H[1;84r[84;1H
[1;85r[85;118H[K[85;118H375,1[9C72%[84;1H[1;84r[84;1H
[1;85r[84;12H [33mif[m (execvp(cmd[[31m0[m], cmd) !=[31m0[m )[85;118H[K[85;118H376,7[9C73%[84;7H[1;84r[84;1H
[1;85r[84;12H {[85;118H[K[85;118H377,7[9C73%[84;7H[1;84r[84;1H
[1;85r[84;16H perror([31m"error in execvp"[m);[85;118H[K[85;118H378,7[9C73%[84;7H[1;84r[84;1H
[1;85r[84;16H exit([31m1[m);[85;118H[K[85;118H379,7[9C73%[84;7H[1;84r[84;1H
[1;85r[84;12H }[85;118H[K[85;118H380,7[9C74%[84;7H[1;84r[84;1H
[1;85r[84;8H }[85;118H[K[85;118H381,7[9C74%[84;7H[1;84r[84;1H
[1;85r[84;8H [34m//else[m[85;118H[K[85;118H382,7[9C74%[84;7H[1;84r[84;1H
[1;85r[84;8H [34m//{[m[85;118H[K[85;118H383,7[9C74%[84;7H[1;84r[84;1H
[1;85r[84;12H [33mif[m (wait(&status) == -[31m1[m)[85;118H[K[85;118H384,7[9C75%[84;7H[1;84r[84;1H
[1;85r[84;12H {[85;118H[K[85;118H385,7[9C75%[84;7H[1;84r[84;1H
[1;85r[84;16H perror([31m"error in wait"[m);[85;118H[K[85;118H386,7[9C75%[84;7H[1;84r[84;1H
[1;85r[84;16H exit([31m1[m);[85;118H[K[85;118H387,7[9C75%[84;7H[1;84r[84;1H
[1;85r[84;12H }[85;118H[K[85;118H388,7[9C76%[84;7H[1;84r[84;1H
[1;85r[84;7H [34m//}[m[85;118H[K[85;118H389,7[9C76%[84;7H[1;84r[84;1H
[1;85r[84;4H }[85;118H[K[85;118H390,6[9C76%[56;5H[46m{[84;5H}[1;84r[m[84;1H
[1;85r[84;4H [32mint[m f=[31m0[m;[85;118H[K[85;118H391,7[9C76%[55;5H{[83;5H}[84;7H[1;84r[84;1H
[1;85r[84;4H [33mwhile[m( f < count+[31m1[m)[85;118H[K[85;118H392,7[9C77%[84;7H[1;84r[84;1H
[1;85r[84;4H {[85;118H[K[85;118H393,6[9C77%[84;6H[1;84r[84;1H
[1;85r[84;8H [33mdelete[m[] cmd[f];[85;118H[K[85;118H394,7[9C77%[84;7H[1;84r[84;1H
[1;85r[84;8H f++;[85;118H[K[85;118H395,7[9C77%[84;7H[1;84r[84;1H
[1;85r[84;4H }[85;118H[K[85;118H396,6[9C78%[81;5H[46m{[84;5H}[1;84r[m[84;1H
[1;85r[84;4H [33mdelete[m[] cmd;[85;118H[K[85;118H397,7[9C78%[80;5H{[83;5H}[84;7H[1;84r[84;1H
[1;85r[84;4H [33mreturn[m status;[85;118H[K[85;118H398,7[9C78%[84;7H[1;84r[84;1H
[1;85r[84;4H [34m//this returns 0 if the execvp ran succesfully[m[85;118H[K[85;118H399,7[9C78%[84;7H[1;84r[84;1H
[1;85r[84;1H}[85;118H[K[85;118H400,2[9C79%[20;1H[46m{[84;1H}[1;84r[m[84;1H
[1;85r[85;118H[K[85;118H401,1[9C79%[19;1H{[83;1H}
[1;84r[84;1H
[1;85r[84;1H[32mint[m main([32mint[m argc, [32mchar[m **argv)[85;118H[K[85;118H402,7[9C79%[84;7H[1;84r[84;1H
[1;85r[84;1H{[85;118H[K[85;118H403,2[9C79%[84;2H[1;84r[84;1H
[1;85r[84;4H [33mwhile[m([31m1[m)[85;118H[K[85;118H404,7[9C80%[84;7H[1;84r[84;1H
[1;85r[84;4H {[85;118H[K[85;118H405,6[9C80%[84;6H[1;84r[84;1H
[1;85r[84;8H cerr<<[31m"$ "[m;[85;118H[K[85;118H406,7[9C80%[84;7H[1;84r[84;1H
[1;85r[85;118H[K[85;118H407,5[9C80%[84;5H[1;84r[84;1H
[1;85r[84;8H string command_line;[85;118H[K[85;118H408,7[9C81%[84;7H[1;84r[84;1H
[1;85r[85;118H[K[85;118H409,1[9C81%[84;1H[1;84r[84;1H
[1;85r[84;8H getline(cin, command_line);[85;118H[K[85;118H410,7[9C81%[84;7H[1;84r[84;1H
[1;85r[85;118H[K[85;118H411,1[9C81%[84;1H[1;84r[84;1H
[1;85r[84;8H [33mif[m ( command_line.find([31m"exit"[m) != string::npos)[85;118H[K[85;118H412,7[9C82%[84;7H[1;84r[84;1H
[1;85r[84;12H exit([31m0[m);[85;118H[K[85;118H413,7[9C82%[84;7H[1;84r[84;1H
[1;85r[84;1H[34m//        cerr<<command_line<<endl;[m[85;118H[K[85;118H414,7[9C82%[84;7H[1;84r[84;1H
[1;85r[84;8H [34m//this will make sure there is spaces before and after i/o redirection[m[85;118H[K[85;118H415,7[9C82%[84;7H[1;84r[84;1H
[1;85r[84;8H check_spaces(command_line);[85;118H[K[85;118H416,7[9C83%[84;7H[1;84r[84;1H
[1;85r[84;1H[34m//        cerr<<command_line<<endl;[m[85;118H[K[85;118H417,7[9C83%[84;7H[1;84r[84;1H
[1;85r[84;8H [32mchar[m *commands = [33mnew[m [32mchar[m[command_line.length()+[31m1[m];[85;118H[K[85;118H418,7[9C83%[84;7H[1;84r[84;1H
[1;85r[84;8H strcpy(commands, command_line.c_str());[85;118H[K[85;118H419,7[9C83%[84;7H[1;84r[84;1H
[1;85r[85;118H[K[85;118H420,3[9C84%[84;3H[1;84r[84;1H
[1;85r[84;8H [32mchar[m *token,*save;[85;118H[K[85;118H421,7[9C84%[84;7H[1;84r[84;1H
[1;85r[85;118H[K[85;118H422,1[9C84%[84;1H[1;84r[84;1H
[1;85r[84;8H token = strtok_r(commands,[31m"#"[m,&save);[85;118H[K[85;118H423,7[9C84%[84;7H[1;84r[84;1H
[1;85r[84;8H token = strtok_r(commands,[31m";"[m,&save);[85;118H[K[85;118H424,7[9C85%[84;7H[1;84r[84;1H
[1;85r[85;118H[K[85;118H425,3[9C85%[84;3H[1;84r[84;1H
[1;85r[84;8H [33mwhile[m(token!= [31mNULL[m)[85;118H[K[85;118H426,7[9C85%[84;7H[1;84r[84;1H
[1;85r[84;8H {[85;118H[K[85;118H427,7[9C85%[84;7H[1;84r[84;1H
[1;85r[84;12H vector<[32mint[m> order;[85;118H[K[85;118H428,7[9C86%[84;7H[1;84r[84;1H
[1;85r[84;12H [32mbool[m prev = [31mtrue[m;[85;118H[K[85;118H429,7[9C86%[84;7H[1;84r[84;1H
[1;85r[84;12H [34m//i count the number of conditions and label & with 1 and | with 2[m[85;118H[K[85;118H430,7[9C86%[84;7H[1;84r[84;1H
[1;85r[84;12H [34m//this will also change || to & to make tokenizing easier when adding pipping.[m[85;118H[K[85;118H431,7[9C86%[84;7H[1;84r[84;1H
[1;85r[84;12H [34m//both && and || will be & but the order they appeared as initially will be in the vector[m[85;118H[K[85;118H432,7[9C87%[84;7H[1;84r[84;1H
[1;85r[84;12H order = cmds_order(token);[85;118H[K[85;118H433,7[9C87%[84;7H[1;84r[84;1H
[1;85r[84;12H [33mif[m ( !(order.empty() ))[85;118H[K[85;118H434,7[9C87%[84;7H[1;84r[84;1H
[1;85r[84;12H {[85;118H[K[85;118H435,7[9C87%[84;7H[1;84r[84;1H
[1;85r[84;16H [32mint[m i = -[31m1[m;[85;118H[K[85;118H436,7[9C88%[84;7H[1;84r[84;1H
[1;85r[84;16H [32mchar[m *token2, *save2;[85;118H[K[85;118H437,7[9C88%[84;7H[1;84r[84;1H
[1;85r[84;16H token2 = strtok_r(token, [31m"&"[m, &save2);[85;118H[K[85;118H438,7[9C88%[84;7H[1;84r[84;1H
[1;85r[85;118H[K[85;118H439,7[9C88%[84;7H[1;84r[84;1H
[1;85r[84;16H [33mwhile[m( (token2 != [31mNULL[m) )[85;118H[K[85;118H440,7[9C89%[84;7H[1;84r[84;1H
[1;85r[84;16H {[85;118H[K[85;118H441,7[9C89%[84;7H[1;84r[84;1H
[1;85r[84;20H [33mif[m(i==-[31m1[m)[85;118H[K[85;118H442,7[9C89%[84;7H[1;84r[84;1H
[1;85r[84;20H {[85;118H[K[85;118H443,7[9C89%[84;7H[1;84r[84;1H
[1;85r[84;24H [33mif[m(run_exec(token2,num_tokens(token2)) !=[31m0[m )[85;118H[K[85;118H444,7[9C90%[84;7H[1;84r[84;1H
[1;85r[84;32H prev = [31mfalse[m;[85;118H[K[85;118H445,7[9C90%[84;7H[1;84r[84;1H
[1;85r[84;20H }[85;118H[K[85;118H446,7[9C90%[84;7H[1;84r[84;1H
[1;85r[84;20H [33melse[m[85;118H[K[85;118H447,7[9C90%[84;7H[1;84r[84;1H
[1;85r[84;20H {[85;118H[K[85;118H448,7[9C91%[84;7H[1;84r[84;1H
[1;85r[84;24H [33mif[m(prev ==[31mtrue[m)[85;118H[K[85;118H449,7[9C91%[84;7H[1;84r[84;1H
[1;85r[84;24H {[85;118H[K[85;118H450,7[9C91%[84;7H[1;84r[84;1H
[1;85r[84;28H [33mif[m(order.at(i) == [31m1[m)[85;118H[K[85;118H451,7[9C91%[84;7H[1;84r[84;1H
[1;85r[84;28H {[85;118H[K[85;118H452,7[9C92%[84;7H[1;84r[84;1H
[1;85r[84;32H [33mif[m(run_exec(token2, num_tokens(token2)) !=[31m0[m )[85;118H[K[85;118H453,7[9C92%[84;7H[1;84r[84;1H
[1;85r[84;40H prev = [31mfalse[m;[85;118H[K[85;118H454,7[9C92%[84;7H[1;84r[84;1H
[1;85r[84;28H }[85;118H[K[85;118H455,7[9C92%[84;7H[1;84r[84;1H
[1;85r[84;28H [34m//if it is | we will no execute since the first one succeded[m[85;118H[K[85;118H456,7[9C93%[84;7H[1;84r[84;1H
[1;85r[84;24H }[85;118H[K[85;118H457,7[9C93%[84;7H[1;84r[84;1H
[1;85r[84;24H [33melse[m[85;118H[K[85;118H458,7[9C93%[84;7H[1;84r[84;1H
[1;85r[84;24H {[85;118H[K[85;118H459,7[9C93%[84;7H[1;84r[84;1H
[1;85r[84;28H [33mif[m(order.at(i) == [31m2[m)[85;118H[K[85;118H460,7[9C94%[84;7H[1;84r[84;1H
[1;85r[84;28H {[85;118H[K[85;118H461,7[9C94%[84;7H[1;84r[84;1H
[1;85r[84;32H [33mif[m( run_exec(token2, num_tokens(token2)) != [31m0[m)[85;118H[K[85;118H462,7[9C94%[84;7H[1;84r[84;1H
[1;85r[84;40H prev = [31mfalse[m;[85;118H[K[85;118H463,7[9C94%[84;7H[1;84r[84;1H
[1;85r[84;28H }[85;118H[K[85;118H464,7[9C95%[84;7H[1;84r[84;1H
[1;85r[84;28H [34m//if it is & we wil not execute since the first part failed[m[85;118H[K[85;118H465,7[9C95%[84;7H[1;84r[84;1H
[1;85r[84;24H }[85;118H[K[85;118H466,7[9C95%[84;7H[1;84r[84;1H
[1;85r[84;20H }[85;118H[K[85;118H467,7[9C95%[84;7H[1;84r[84;1H
[1;85r[84;20H token2 = strtok_r([31mNULL[m, [31m"&"[m, &save2);[85;118H[K[85;118H468,7[9C96%[84;7H[1;84r[84;1H
[1;85r[84;20H i++;[85;118H[K[85;118H469,7[9C96%[84;7H[1;84r[84;1H
[1;85r[84;15H }[85;118H[K[85;118H470,7[9C96%[84;7H[1;84r[84;1H
[1;85r[84;1H[34m//               delete[] line;[m[85;118H[K[85;118H471,7[9C96%[84;7H[1;84r[84;1H
[1;85r[84;12H }[85;118H[K[85;118H472,7[9C97%[84;7H[1;84r[84;1H
[1;85r[84;12H [33melse[m[85;118H[K[85;118H473,7[9C97%[84;7H[1;84r[84;1H
[1;85r[84;12H {[85;118H[K[85;118H474,7[9C97%[84;7H[1;84r[84;1H
[1;85r[84;17H run_exec(token, num_tokens(token));[85;118H[K[85;118H475,7[9C97%[84;7H[1;84r[84;1H
[1;85r[84;12H }[85;118H[K[85;118H476,7[9C98%[84;7H[1;84r[84;1H
[1;85r[84;12H token = strtok_r([31mNULL[m,[31m";"[m,&save);[85;118H[K[85;118H477,7[9C98%[84;7H[1;84r[84;1H
[1;85r[84;8H }[85;118H[K[85;118H478,7[9C98%[84;7H[1;84r[84;1H
[1;85r[84;8H [34m//need to free memory[m[85;118H[K[85;118H479,7[9C98%[84;7H[1;84r[84;1H
[1;85r[84;8H [33mdelete[m[] commands;[85;118H[K[85;118H480,7[9C99%[84;7H[1;84r[84;1H
[1;85r[84;4H }[85;118H[K[85;118H481,6[9C99%[8;5H[46m{[84;5H}[1;84r[m[84;1H
[1;85r[84;8H [33mreturn[m [31m0[m;[85;118H[K[85;118H482,1[9C99%[7;5H{[83;5H}
[1;84r[84;1H
[1;85r[84;1H}[85;118H[K[85;118H483,2[9CBot[4;1H[46m{[84;1H}[m[4;1H{[84;1H}[85;120H2,1[83;1H[85;119H75,7[76;7H[85;120H3[74;7H[85;119H64[65;7H[85;119H55[56;7H[85;119H46[47;7H[85;119H37[38;7H[85;119H28[29;7H[85;119H19[20;7H[85;120H0[11;7H[4;1H[46m{[84;1H}[m[85;119H03,2[4;2H[1;84r[1;1H[8L[1;85r[1;4H [33mwhile[m( f < count+[31m1[m)
    {[3;8H [33mdelete[m[] cmd[f];[4;8H f++;
    }
    [33mdelete[m[] cmd;
    [33mreturn[m status;
    [34m//this returns 0 if the execvp ran succesfully[m[85;118H[K[85;118H392,7[9C97%[12;1H{[1;7H[1;84r[1;1H[9L[1;85r[1;8H [34m//{[m[2;12H [33mif[m (wait(&status) == -[31m1[m)[3;12H {[4;16H perror([31m"error in wait"[m);[5;16H exit([31m1[m);[6;12H }[7;7H [34m//}[m
    }
    [32mint[m f=[31m0[m;[85;118H[K[85;118H383,7[9C95%[1;7H[1;84r[1;1H[9L[1;85r[1;12H check_dup(cmd);[3;12H [33mif[m (execvp(cmd[[31m0[m], cmd) !=[31m0[m )[4;12H {[5;16H perror([31m"error in execvp"[m);[6;16H exit([31m1[m);[7;12H }[8;8H }[9;8H [34m//else[m[85;118H[K[85;118H374,7[9C93%[1;7H[1;84r[1;1H[8L[1;85r[1;8H [33mif[m(pid == -[31m1[m)[2;8H {[3;12H perror([31m"fork fail"[m);[4;12H exit([31m1[m);[5;8H }[6;8H [33melse[m [33mif[m(pid == [31m0[m)[7;8H {[8;12H [34m//this will check for i/o redirection[m[85;118H[K[85;118H366,7[9C91%[1;7H[1;84r[1;1H[L[1;85r[1;8H [32mint[m pid = fork();[85;118H[K[85;118H365,7[9C91%[1;7H[1;84r[1;1H[9L[1;85r[1;1H[34m//        cerr<<"FOUND PIPE"<<endl;[m[2;8H [34m//now i have to separate the arguments in the pipe[m[3;8H find_pipes(cmd);
    }
    [34m//all other regular commands will be ran through this loop[m
    [33melse[m
    {[8;8H status = [31m1[m;
[34m//        cerr<<"no pipe"<<endl;[m[85;118H[K[85;118H356,7[9C88%[1;7H[1;84r[1;1H[9L[1;85r[1;8H strcpy(cmd[i], x );[2;8H i++;
    }
    cmd[i] = [35m'\0'[m;
    [32mint[m status;
    [34m//this will run if there are <,>,>> in the command[m
    [34m//then we wil check to pipes and execute i/o redirection and piping within this loop[m
    [33mif[m( pipes(cmd) == [31mtrue[m )
    {[85;118H[K[85;118H347,7[9C86%[1;7H[1;84r[1;1H[9L[1;85r[2;4H string word = string(c);
[34m//    cerr<<word<<endl;[m
    istringstream iss(c);
    [32mint[m i=[31m0[m;
    [33mwhile[m(iss >>word)
    {[8;8H [32mconst[m [32mchar[m *x = word.c_str();[9;8H cmd[i] = [33mnew[m [32mchar[m[word.size()+[31m1[m];[85;118H[K[85;118H338,1[9C84%[1;1H[1;84r[1;1H[9L[1;85r[1;12H i++;
    }
    [34m//c[i] = '\0';[m
    [33mreturn[m v;
}
[34m//this fxm will run the commands passed in as char *c[m
[32mint[m  run_exec( [32mchar[m *c, [32mint[m count)
{
    [32mchar[m **cmd = [33mnew[m [32mchar[m*[count+[31m1[m];[85;118H[K[85;118H329,7[9C82%[1;7H[1;84r[1;1H[9L[1;85r[1;12H }[2;8H [33mif[m ((c[i] ==[31m'|'[m)&&(c[i+[31m1[m] ==[31m'|'[m))[3;12H {[4;16H v.push_back([31m2[m);[5;16H c[i] = [31m'&'[m;[6;16H c[i+[31m1[m] = [31m' '[m;[7;16H i = i+[31m2[m;[8;12H }[9;8H [33melse[m[85;118H[K[85;118H320,7[9C79%[1;7H[1;84r[1;1H[9L[1;85r[1;4H vector<[32mint[m> v;
    [32mint[m i=[31m0[m;
    [33mwhile[m(c[i] != [35m'\0'[m)
    {[5;8H [33mif[m ((c[i] ==[31m'&'[m)&&(c[i+[31m1[m]==[31m'&'[m))[6;12H {[7;16H v.push_back([31m1[m);[8;16H c[i+[31m1[m] = [31m' '[m;[9;16H i = i+[31m2[m;[85;118H[K[85;118H311,7[9C77%[1;7H[1;84r[1;1H[9L[1;85r[1;8H }[2;8H i++;
    }
    [33mreturn[m count+[31m1[m;
}
[34m//this fxn counts the number of & and | and pushes them back in order[m

vector<[32mint[m> cmds_order([32mchar[m *c)
{[85;118H[K[85;118H302,7[9C75%[1;7H[1;84r[1;1H[9L[1;85r[1;1H[32mint[m num_tokens( [32mchar[m *c)
{
    [32mint[m count =[31m0[m;
    [32mint[m i=[31m0[m;
    [33mwhile[m(c[i] != [35m'\0'[m)
    {[7;8H [33mif[m(c[i] == [31m' '[m)[8;8H {[9;12H count++;[85;118H[K[85;118H293,7[9C73%[1;7H[1;84r[1;1H[9L[1;85r[1;12H {[2;16H s.insert(i+[31m1[m , [31m" "[m);[3;16H s.insert(i , [31m" "[m);[4;12H }[5;8H }[6;8H i++;
    }
}[85;118H[K[85;118H284,7[9C70%[1;7H[1;84r[1;1H[6L[1;85r[1;12H [33mif[m (s[i+[31m1[m] == [31m'>'[m)[2;12H {[3;16H s.insert(i+[31m2[m , [31m" "[m);[4;16H s.insert(i , [31m" "[m);[5;12H }[6;12H [33melse[m[85;118H[K[85;118H278,7[9C69%[1;7H[1;84r[1;1H[3L[1;85r[1;8H }[2;8H [33melse[m [33mif[m (s[i] == [31m'>'[m)[3;8H {[85;118H[K[85;118H275,7[9C68%[1;7H[1;84r[1;1H[7L[1;85r[1;12H s.insert(i , [31m" "[m);[2;8H }[3;8H [33melse[m [33mif[m (s[i] == [31m'|'[m)[4;8H {[5;12H s.insert(i+[31m1[m , [31m" "[m);[6;12H s.insert(i , [31m" "[m);[85;118H[K[85;118H268,7[9C66%[1;7H[1;84r[1;1H[2L[1;85r[1;8H {[2;12H s.insert(i+[31m1[m , [31m" "[m);[85;118H[K[85;118H266,7[9C66%[1;7H[1;84r[1;1H[9L[1;85r[1;1H}

[32mvoid[m check_spaces(string &s)
{
    [32mint[m size = s.size();
    [32mint[m i=[31m0[m;
    [33mwhile[m ( i < size  )
    {[9;8H [33mif[m (s[i] == [31m'<'[m)[85;118H[K[85;118H257,2[9C64%[1;2H[85;119H66,7[10;7H[85;120H7[11;7H[85;119H75[19;7H[85;120H6[20;7H[85;119H84[28;7H[85;120H1[25;7H[85;119H75[19;7H[85;119H66[10;7H[85;119H57,2[1;2H[1;84r[1;1H[9L[1;85r[1;1H[34m    while( ff < 100)
    {
        delete[] b[ff];
        ff++;
    }*/[m
    [33mdelete[m[] b;


[34m//    return status;[m[85;118H[K[85;118H248,7[9C61%[1;7H[1;84r[1;1H[9L[1;85r[2;1H[34m/*    int f=0;
    while( f < 100)
    {
        delete[] a[f];
        f++;
    }*/[m
    [33mdelete[m[] a;
[34m/*    int ff=0;[m[85;118H[K[85;118H239,1[9C59%[1;1H[1;84r[1;1H[9L[1;85r[1;4H [33melse[m
    {[3;8H [33mif[m (wait(&status) == -[31m1[m)[4;8H {[5;12H perror([31m"error in wait"[m);[6;12H exit([31m1[m);[7;8H }
    }[85;118H[K[85;118H230,7[9C57%[1;7H[1;84r[1;1H[9L[1;85r[1;8H [34m//this will check for i/o redirection[m[2;8H check_dup(c);[4;8H [33mif[m (execvp(c[[31m0[m], c) !=[31m0[m )[5;8H {[6;12H perror([31m"error in execvp"[m);[7;12H exit([31m1[m);[8;8H }
    }[85;118H[K[85;118H221,7[9C55%[1;7H[1;84r[1;1H[L[1;85r[1;4H {[85;118H[K[85;118H220,6[9C54%[1;5H[46m{[10;5H}[1;6H[1;84r[m[1;1H[8L[1;85r[2;4H [32mint[m pid = fork();
    [33mif[m(pid == -[31m1[m)
    {[5;8H perror([31m"fork fail"[m);[6;8H exit([31m1[m);
    }
    [33melse[m [33mif[m(pid == [31m0[m)[85;118H[K[85;118H212,1[9C52%[9;5H{[18;5H}[1;1H[85;119H21,7[10;7H[85;120H3,1[12;1H[85;119H30,7[19;7H[85;120H9,1[28;1H[85;119H40,7[29;7H[85;122H6[29;6H[85;122H5[29;5H[85;122H4[29;4H[85;122H3[29;3H/    [32mint[m f=[31m0[m;[29;14H[K[30;1H    [33mwhile[m( f < [31m100[m)
    {
        [33mdelete[m[] a[f];
        f++;
    }[1m[37m[41m*/[m[85;122H2[29;2H    [32mint[m f=[31m0[m;[29;13H[K[85;122H1[29;1H[85;120H1[30;1H[85;120H2[31;1H[85;120H3[32;1H[85;120H4[33;1H[85;120H5[34;1H[85;120H6[35;1H[85;122H2[35;2H[85;122H3[35;3H[85;120H5[34;3H[85;122H4[34;4H[31;5H[46m{[34;5H}[m[85;122H5[34;5H[85;122H6[34;6H[31;5H{[34;5H}[85;122H7[34;7H[85;122H8[34;8H*[34;7H[K[85;122H7[34;7H[34;6H[K[31;5H[46m{[34;5H}[m[85;122H6[34;6H[31;5H{[34;5H}[85;120H6[35;6H[85;120H7[36;6H[85;120H8[37;6H[85;122H5[37;5H[85;120H7[36;5H[85;120H6[35;5H[85;122H4[35;4H[85;120H7[36;4H[85;122H3[36;3H/    [32mint[m ff=[31m0[m;[36;15H[K[37;1H    [33mwhile[m( ff < [31m100[m)
    {
        [33mdelete[m[] b[ff];
        ff++;
    }[1m[37m[41m*/[m[85;122H2[36;2H    [32mint[m ff=[31m0[m;[36;14H[K[85;122H1[36;1H[85;120H8[37;1H[85;120H9[38;1H[85;119H50[39;1H[85;120H1[40;1H[85;120H2[41;1H[85;122H2[41;2H[85;122H3[41;3H[85;122H4[41;4H[38;5H[46m{[41;5H}[m[85;122H5[41;5H[85;122H6[41;6H[38;5H{[41;5H}[85;122H7[41;7H[85;122H8[41;8H*[41;7H[K[85;122H7[41;7H[41;6H[K[38;5H[46m{[41;5H}[m[85;122H6[41;6H[41;5H[K[38;5H{[85;120H3,5[42;5H }[33mdelete[m[] b;[38;5H[46m{[42;5H}[m[85;122H6[42;6H[43;84r[43;1H[L[1;85r[42;6H[K[43;1H[33mdelete[m[] b;[85;118H[K[85;118H254,1[9C52%[38;5H{[42;5H}
 [33mdelete[m[] b;[85;122H2[43;2H  [33mdelete[m[] b;[85;122H3[43;3H  [33mdelete[m[] b;[85;122H4[43;4H  [33mdelete[m[] b;[85;122H5[43;5H[38;5H[46m{[42;5H}[m[85;119H49[38;5H[31;5H[46m{[34;5H}[m[38;5H{[42;5H}[85;120H5[34;5H[31;5H{[34;5H}[85;119H36[25;5H[85;119H27[16;5H[9;5H[46m{[18;5H}[m[85;120H0[9;5H[4;5H[46m{[7;5H}[m[9;5H{[18;5H}[85;119H18[7;5H[1;84r[1;1H[3L[1;85r[1;4H }[3;4H [34m//if there are no more pipes to go through then the find_pipes fxm wil end[m[85;118H[K[85;118H209,5[9C52%[7;5H{[10;5H}[1;5H[1;84r[1;1H[9L[1;85r[1;1H[34m        //{
            if (wait(&status) == -1)
            {
                perror("error in wait");
                exit(1);
            }
       //}
    find_pipes(b);
*/[m[85;118H[K[85;118H200,5[9C49%[1;5H[1;84r[1;1H[9L[1;85r[1;1H[34m            check_dup(a);

            if (execvp(a[0], a) !=0 )
            {
                perror("error in execvp");
                exit(1);
            }
        }
        //else[m[85;118H[K[85;118H191,5[9C47%[1;5H[1;84r[1;1H[9L[1;85r[1;1H[34m        int pid = fork();
        if(pid == -1)
        {
            perror("fork fail");
            exit(1);
        }
        else if(pid == 0)
        {
            //this will check for i/o redirection[m[85;118H[K[85;118H182,5[9C45%[1;5H[1;84r[1;1H[4L[1;85r[1;8H find_pipes(b);[2;8H dup2(savestdin, [31m0[m);
[34m/*       
        status = 1;[m[85;118H[K[85;118H178,5[9C44%[1;5H[1;84r[1;1H[5L[1;85r[1;12H perror([31m"error in wait()"[m);[2;12H exit([31m1[m);[3;8H }[5;8H [34m//we need to check that the rest of c does not have any pipes[m[85;118H[K[85;118H173,5[9C43%[1;5H[1;84r[1;1H[9L[1;85r[1;12H exit([31m1[m);[2;8H }[3;8H [33mif[m( close(fd[[31m1[m]) == -[31m1[m)[4;8H {[5;12H perror([31m"error with close"[m);[6;12H exit([31m1[m);[7;8H }[8;8H [33mif[m (wait(&status) == -[31m1[m)[9;8H {[85;118H[K[85;118H164,5[9C40%[1;5H[1;84r[1;1H[8L[1;85r[1;8H [33mif[m( savestdin == -[31m1[m)[2;8H {[3;12H perror([31m"error with dup"[m);[4;12H exit([31m1[m);[5;8H }[6;8H [33mif[m( dup2(fd[[31m0[m],[31m0[m) == -[31m1[m)[7;8H {[8;12H perror([31m"error with dup2"[m);[85;118H[K[85;118H156,5[9C38%[1;5H[1;84r[1;1H[L[1;85r[1;8H savestdin = dup([31m0[m);[85;118H[K[85;118H155,5[9C38%[1;5H[85;1H[K[1;4H[85;118H155,4[9C38%[1;4H[85;118H[K[85;1H:wq"src/rshell.cpp" 484L, 10993C written
[?1l>[2J[?47l8[s%%%%%%%%%%[u[0;32mmonti004[0;36m@[0;32mcs100[0;36m:[0;32m~/rshell[0;95m ((hw2)) [0;36m$[0m make
g++ -Wall -Werror -ansi -pedantic -o   bin/rshell src/rshell.cpp
g++ -Wall -Werror -ansi -pedantic -o bin/ls src/ls.cpp
[s%%%%%%%%%%[u[0;32mmonti004[0;36m@[0;32mcs100[0;36m:[0;32m~/rshell[0;95m ((hw2)) [0;36m$[0m makevim src/rshell.cppalgrind --leak-check=full bin/rshell
==23255== Memcheck, a memory error detector
==23255== Copyright (C) 2002-2012, and GNU GPL'd, by Julian Seward et al.
==23255== Using Valgrind-3.8.1 and LibVEX; rerun with -h for copyright info
==23255== Command: bin/rshell
==23255== 
$ cat<MAkefi     akefile
CC = g++
FLAGS = -Wall -Werror -ansi -pedantic

all:|bin 
	$(CC) $(FLAGS) -o   bin/rshell src/rshell.cpp
	$(CC) $(FLAGS) -o bin/ls src/ls.cpp


rshell: |bin
	$(CC) -o bin/rshell src/rshell.cpp
ls: |bin
	$(CC) -o bin/ls src/ls.cpp

bin: 
	mkdir bin

clean: 
	rm -rf bin


==23255== Conditional jump or move depends on uninitialised value(s)
==23255==    at 0x402272: run_exec(char*, int) (in /class/classes/monti004/rshell/bin/rshell)
==23255==    by 0x4025E9: main (in /class/classes/monti004/rshell/bin/rshell)
==23255== 
$ clea    exit
==23255== 
==23255== HEAP SUMMARY:
==23255==     in use at exit: 29 bytes in 1 blocks
==23255==   total heap usage: 17 allocs, 16 frees, 666 bytes allocated
==23255== 
==23255== 29 bytes in 1 blocks are possibly lost in loss record 1 of 1
==23255==    at 0x4A075FC: operator new(unsigned long) (vg_replace_malloc.c:298)
==23255==    by 0x3B5B29C3C8: std::string::_Rep::_S_create(unsigned long, unsigned long, std::allocator<char> const&) (in /usr/lib64/libstdc++.so.6.0.13)
==23255==    by 0x3B5B29D19A: std::string::_Rep::_M_clone(std::allocator<char> const&, unsigned long) (in /usr/lib64/libstdc++.so.6.0.13)
==23255==    by 0x3B5B29D5EB: std::string::reserve(unsigned long) (in /usr/lib64/libstdc++.so.6.0.13)
==23255==    by 0x3B5B27BFF4: std::basic_istream<char, std::char_traits<char> >& std::getline<char, std::char_traits<char>, std::allocator<char> >(std::basic_istream<char, std::char_traits<char> >&, std::basic_string<char, std::char_traits<char>, std::allocator<char> >&, char) (in /usr/lib64/libstdc++.so.6.0.13)
==23255==    by 0x4023A2: main (in /class/classes/monti004/rshell/bin/rshell)
==23255== 
==23255== LEAK SUMMARY:
==23255==    definitely lost: 0 bytes in 0 blocks
==23255==    indirectly lost: 0 bytes in 0 blocks
==23255==      possibly lost: 29 bytes in 1 blocks
==23255==    still reachable: 0 bytes in 0 blocks
==23255==         suppressed: 0 bytes in 0 blocks
==23255== 
==23255== For counts of detected and suppressed errors, rerun with: -v
==23255== Use --track-origins=yes to see where uninitialised values come from
==23255== ERROR SUMMARY: 17 errors from 2 contexts (suppressed: 6 from 6)
[s%%%%%%%%%%[u[0;32mmonti004[0;36m@[0;32mcs100[0;36m:[0;32m~/rshell[0;95m ((hw2)) [0;36m$[0m valgrind --leak-check=full bin/rshell[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Cmake[Kvim src/rshell.cpp[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[Kcd
[s%%%%%%%%%%[u[0;32mmonti004[0;36m@[0;32mcs100[0;36m:[0;32m~[0;95m [0;36m$[0m ls
06-IntList.pdf		 Desktop			 GetTruncatedTriangularNumber.m~  marisolo13jan2012.txt
08-SortedSet.pdf	 DifferenceBetweenTwoAges.m	 GuessTheNumber.m		  ParentsAge.m
Acronym.m		 DifferenceBetweenTwoAges.m~	 GuessTheNumber.m~		  part5.m
Acronym.m~		 DifferenceByTwo.m		 HowManyOver21s.m		  PluralWife.m
AcronymString.m		 DifferenceByTwo.m~		 HowManyOver21s.m~		  PluralWife.m~
AcronymString.m~	 DisplayTeamAgeInfo.m		 Inches2Yard.m			  RobustIsEven.m
AmountWithTax.m		 DisplayTeamAgeInfo.m~		 IntVector.cpp			  rshell
AmountWithTax.m~	 Dollar2Yen.m			 IntVector.h			  SameOutsideString.m
assn4.h			 Dollar2Yen.m~			 IsEven.m			  SameOutsideString.m~
BigramFrequency.m	 DoStuff.m			 IsItLegalToDrive.m		  SearchForCodon.m
BilingualTimesTables.m	 DoStuff.m~			 Kilo2Miles.m			  SearchForCodon.m~
BilingualTimesTables.m~  EightTimesTable.m		 Kilo2Miles.m~			  SixTimesTables.m
BMI.m			 EightTimesTable.m~		 lab0				  SixTimesTables.m~
BMI.mat			 ellipse.m			 Lab10-DynamicMemoryClasses.pdf   SumOddsEvens_Total.m
Cigarettes.m		 ellipse.m~			 lab2_ex1.cpp			  SumOddsEvens_Total.m~
Cigarettes.m~		 ellipse.mat			 lab2_ex2.cpp			  TakeString.m
cigarettes.mat		 ExtraCredit.m			 lab2_ex3.cpp			  TruncationOfName.m
CountAndTripleLetters.m  ExtraCredit.m~			 lab4.cpp			  TruncationOfName.m~
CountSpaces.m		 FiveTimesTable_KtoL.m		 lab8.cpp			  ucr-cs100
CountSpaces.m~		 FiveTimesTables_Ktol.m		 LineByLine.m			  WhichTimesTable.m
CountTheLetters.m	 FiveTimesTables.m		 LineByLine.m~			  WhichTimesTable.m~
cs010			 FiveTimesTables.m~		 LocationOfCodon.m
DeBlank.m		 GetTeamAges.m			 LocationOfCodon.m~
DeBlank.m~		 GetTruncatedTriangularNumber.m  main.cpp
[s%%%%%%%%%%[u[0;32mmonti004[0;36m@[0;32mcs100[0;36m:[0;32m~[0;95m [0;36m$[0m rm -rf rshell
[s%%%%%%%%%%[u[0;32mmonti004[0;36m@[0;32mcs100[0;36m:[0;32m~[0;95m [0;36m$[0m ls
06-IntList.pdf		 DeBlank.m~		      GetTeamAges.m		       LocationOfCodon.m
08-SortedSet.pdf	 Desktop		      GetTruncatedTriangularNumber.m   LocationOfCodon.m~
Acronym.m		 DifferenceBetweenTwoAges.m   GetTruncatedTriangularNumber.m~  main.cpp
Acronym.m~		 DifferenceBetweenTwoAges.m~  GuessTheNumber.m		       marisolo13jan2012.txt
AcronymString.m		 DifferenceByTwo.m	      GuessTheNumber.m~		       ParentsAge.m
AcronymString.m~	 DifferenceByTwo.m~	      HowManyOver21s.m		       part5.m
AmountWithTax.m		 DisplayTeamAgeInfo.m	      HowManyOver21s.m~		       PluralWife.m
AmountWithTax.m~	 DisplayTeamAgeInfo.m~	      Inches2Yard.m		       PluralWife.m~
assn4.h			 Dollar2Yen.m		      IntVector.cpp		       RobustIsEven.m
BigramFrequency.m	 Dollar2Yen.m~		      IntVector.h		       SameOutsideString.m
BilingualTimesTables.m	 DoStuff.m		      IsEven.m			       SameOutsideString.m~
BilingualTimesTables.m~  DoStuff.m~		      IsItLegalToDrive.m	       SearchForCodon.m
BMI.m			 EightTimesTable.m	      Kilo2Miles.m		       SearchForCodon.m~
BMI.mat			 EightTimesTable.m~	      Kilo2Miles.m~		       SixTimesTables.m
Cigarettes.m		 ellipse.m		      lab0			       SixTimesTables.m~
Cigarettes.m~		 ellipse.m~		      Lab10-DynamicMemoryClasses.pdf   SumOddsEvens_Total.m
cigarettes.mat		 ellipse.mat		      lab2_ex1.cpp		       SumOddsEvens_Total.m~
CountAndTripleLetters.m  ExtraCredit.m		      lab2_ex2.cpp		       TakeString.m
CountSpaces.m		 ExtraCredit.m~		      lab2_ex3.cpp		       TruncationOfName.m
CountSpaces.m~		 FiveTimesTable_KtoL.m	      lab4.cpp			       TruncationOfName.m~
CountTheLetters.m	 FiveTimesTables_Ktol.m       lab8.cpp			       ucr-cs100
cs010			 FiveTimesTables.m	      LineByLine.m		       WhichTimesTable.m
DeBlank.m		 FiveTimesTables.m~	      LineByLine.m~		       WhichTimesTable.m~
[s%%%%%%%%%%[u[0;32mmonti004[0;36m@[0;32mcs100[0;36m:[0;32m~[0;95m [0;36m$[0m lsrm -rf rshellls[Kcdvalgrind --leak-check=full bin/rshell[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Cmake[Kvim src/rshell.cppalgrind --leak-check=full bin/rshell[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Cmake[Kvim src/rshell.cppalgrind --leak-check=full bin/rshell[18Pbin/rshell[1Pim src/rshell.cppalgrind bin/rshell[1Pim src/rshell.cppmake[Kvim src/rshell.cpp[Kls[Kclearvalgrind bin/rshell[4Pls/bin/rshellmake[Kgit checkout hw2[7Pcd rshellgit clone http://github.com/monti004/rshell.git[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Cls[Krm -rf rshellls[Krm -rf shellls[Kvim rshell.cppls[Kcd src[4Plscd rshellls[Kcs100cs100vim src/rshell.cpp[4Pls.cppalgrind bin/rshell.cpp[4Pls -laclear[Kvalgrind bin/ls -laRclear[Kvalgrind  --leak-check=full bin/ls -laR[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Cmake[Kvim src/ls.cpp[9Pclearvalgrind  --leak-check=full bin/ls -laR[18P[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Cmake[Kvalgrind  bin/ls -laR[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Cmake[Kvim src/ls.cppmake[Kvalgrind  bin/ls -laR[7Pim src/ls.cppalgrind  bin/ls -laRrshell echo me[4h/[4l[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[4h.[4l[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C--leak-check=full ./bin/rshell[15Pv[C[C[C[C[C[C[C[C[C[C[C[C[C[3P./bin/rshell[3Pim src/rshell.cppmake[Kclear[1Pmakevalgrind ./bin/rshell[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Cmake[Kvalgrind ./bin/ls--leak-check=full -v  ./bin/ls[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Cmake[Kvalgrind --leak-check=full -v  ./bin/ls[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Cmake[Kvim src/ls.cppalgrind --leak-check=full -v  ./bin/ls[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C ./bin/ls[Krshell--leak-check=full -v  ./bin/rshell[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Cmake[Kvim src/rshell.cppalgrind --leak-check=full -v  ./bin/rshell[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[22P./bin/rshell--leak-check=full -v  ./bin/rshell[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[22P./bin/rshell--leak-check=full -v  ./bin/rshell[2P[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Cmake[Kvim src/rshell.cppalgrind --leak-check=full   ./bin/rshell-v ./bin/rshell[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Cmake[Kclearvalgrind --leak-check=full  -v ./bin/rshell[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Cmake[Kvalgrind --leak-check=full  -v ./bin/rshell[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Cclear[K[1Pmakevalgrind --leak-check=full  -v ./bin/rshell[2P ./bin/rshell[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[23Pim src/rshell.cppmake[Kvalgrind --leak-check=full   ./bin/rshell[4h-v[4l[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[22P./bin/rshell--leak-check=full -v  ./bin/rshell[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[22P./bin/rshell--leak-check=full -v  ./bin/rshell[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[25Pim src/rshell.cppmake[Kvalgrind --leak-check=full -v  ./bin/rshell[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[21P ./bin/rshell[4Pls--leak-check=full -v  ./bin/ls[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[25Pim src/ls.cppmake[Kvalgrind --leak-check=full -v  ./bin/ls[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Cmake[Kvalgrind --leak-check=full -v  ./bin/ls[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C./bin/ls[Kmake[Kvalgrind ./bin/rshell[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Cmake[Kclear[1Pmakevim src/rshell.cppalgrind ./bin/rshell-v ./bin/rshell[4h-leak-check=ful[4ll[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[9P ./bin/rshell echo me[1P[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[1P[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[7Pls -laR[7Pim src/ls.cppalgrind  bin/ls -laR[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Cmake[Kvim src/ls.cppmake[Kvalgrind  bin/ls -laR[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Cmake[Kvalgrind  bin/ls -laR[4h--leak-check=full [4l[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Cclear[Kvim src/ls.cppmake[Kvalgrind  --leak-check=full bin/ls -laR[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Cclear[Kvalgrind bin/ls -laRclear[Kvalgrind bin/ls -larshell.cpp[K[5Pim src/ls.cpprshell.cpp[12Pccs100[1Ps100[3Plscd rshellls[Kcd src[4Plsvim rshell.cppls[Krm -rf shellls[Krm -rf rshellls[Kgit clone http://github.com/monti004/rshell.git[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Ccd rshell[Kgit checkout hw2make[Kvalgrind /bin/rshell[5Pbin/lsrshellclear[K[3Plsvim src/rshell.cppmake[Kvim src/rshell.cppalgrind bin/rshell[1Pim src/rshell.cppalgrind bin/rshell--leak-check=full bin/rshell[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[19Pim src/rshell.cppmake[Kvalgrind --leak-check=full bin/rshell[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[19Pim src/rshell.cppmake[Kvim src/rshell.cppalgrind --leak-check=full bin/rshell[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Cmake[Kvim src/rshell.cppalgrind --leak-check=full bin/rshell[18Pbin/rshell[1Pim src/rshell.cppalgrind bin/rshell[1Pim src/rshell.cppmake[Kvim src/rshell.cpp[Kls[Kclearvalgrind bin/rshell[4Pls[K[K[K[K[K[K[K[K[K[K[K[K[K[K[Kgit clone https://github/[K[Kb.com/monti004/rshell.git
Cloning into 'rshell'...
remote: Counting objects: 142, done.[K
remote: Compressing objects:   0% (1/102)   [Kremote: Compressing objects:   1% (2/102)   [Kremote: Compressing objects:   2% (3/102)   [Kremote: Compressing objects:   3% (4/102)   [Kremote: Compressing objects:   4% (5/102)   [Kremote: Compressing objects:   5% (6/102)   [Kremote: Compressing objects:   6% (7/102)   [Kremote: Compressing objects:   7% (8/102)   [Kremote: Compressing objects:   8% (9/102)   [Kremote: Compressing objects:   9% (10/102)   [Kremote: Compressing objects:  10% (11/102)   [Kremote: Compressing objects:  11% (12/102)   [Kremote: Compressing objects:  12% (13/102)   [Kremote: Compressing objects:  13% (14/102)   [Kremote: Compressing objects:  14% (15/102)   [Kremote: Compressing objects:  15% (16/102)   [Kremote: Compressing objects:  16% (17/102)   [Kremote: Compressing objects:  17% (18/102)   [Kremote: Compressing objects:  18% (19/102)   [Kremote: Compressing objects:  19% (20/102)   [Kremote: Compressing objects:  20% (21/102)   [Kremote: Compressing objects:  21% (22/102)   [Kremote: Compressing objects:  22% (23/102)   [Kremote: Compressing objects:  23% (24/102)   [Kremote: Compressing objects:  24% (25/102)   [Kremote: Compressing objects:  25% (26/102)   [Kremote: Compressing objects:  26% (27/102)   [Kremote: Compressing objects:  27% (28/102)   [Kremote: Compressing objects:  28% (29/102)   [Kremote: Compressing objects:  29% (30/102)   [Kremote: Compressing objects:  30% (31/102)   [Kremote: Compressing objects:  31% (32/102)   [Kremote: Compressing objects:  32% (33/102)   [Kremote: Compressing objects:  33% (34/102)   [Kremote: Compressing objects:  34% (35/102)   [Kremote: Compressing objects:  35% (36/102)   [Kremote: Compressing objects:  36% (37/102)   [Kremote: Compressing objects:  37% (38/102)   [Kremote: Compressing objects:  38% (39/102)   [Kremote: Compressing objects:  39% (40/102)   [Kremote: Compressing objects:  40% (41/102)   [Kremote: Compressing objects:  41% (42/102)   [Kremote: Compressing objects:  42% (43/102)   [Kremote: Compressing objects:  43% (44/102)   [Kremote: Compressing objects:  44% (45/102)   [Kremote: Compressing objects:  45% (46/102)   [Kremote: Compressing objects:  46% (47/102)   [Kremote: Compressing objects:  47% (48/102)   [Kremote: Compressing objects:  48% (49/102)   [Kremote: Compressing objects:  49% (50/102)   [Kremote: Compressing objects:  50% (51/102)   [Kremote: Compressing objects:  51% (53/102)   [Kremote: Compressing objects:  52% (54/102)   [Kremote: Compressing objects:  53% (55/102)   [Kremote: Compressing objects:  54% (56/102)   [Kremote: Compressing objects:  55% (57/102)   [Kremote: Compressing objects:  56% (58/102)   [Kremote: Compressing objects:  57% (59/102)   [Kremote: Compressing objects:  58% (60/102)   [Kremote: Compressing objects:  59% (61/102)   [Kremote: Compressing objects:  60% (62/102)   [Kremote: Compressing objects:  61% (63/102)   [Kremote: Compressing objects:  62% (64/102)   [Kremote: Compressing objects:  63% (65/102)   [Kremote: Compressing objects:  64% (66/102)   [Kremote: Compressing objects:  65% (67/102)   [Kremote: Compressing objects:  66% (68/102)   [Kremote: Compressing objects:  67% (69/102)   [Kremote: Compressing objects:  68% (70/102)   [Kremote: Compressing objects:  69% (71/102)   [Kremote: Compressing objects:  70% (72/102)   [Kremote: Compressing objects:  71% (73/102)   [Kremote: Compressing objects:  72% (74/102)   [Kremote: Compressing objects:  73% (75/102)   [Kremote: Compressing objects:  74% (76/102)   [Kremote: Compressing objects:  75% (77/102)   [Kremote: Compressing objects:  76% (78/102)   [Kremote: Compressing objects:  77% (79/102)   [Kremote: Compressing objects:  78% (80/102)   [Kremote: Compressing objects:  79% (81/102)   [Kremote: Compressing objects:  80% (82/102)   [Kremote: Compressing objects:  81% (83/102)   [Kremote: Compressing objects:  82% (84/102)   [Kremote: Compressing objects:  83% (85/102)   [Kremote: Compressing objects:  84% (86/102)   [Kremote: Compressing objects:  85% (87/102)   [Kremote: Compressing objects:  86% (88/102)   [Kremote: Compressing objects:  87% (89/102)   [Kremote: Compressing objects:  88% (90/102)   [Kremote: Compressing objects:  89% (91/102)   [Kremote: Compressing objects:  90% (92/102)   [Kremote: Compressing objects:  91% (93/102)   [Kremote: Compressing objects:  92% (94/102)   [Kremote: Compressing objects:  93% (95/102)   [Kremote: Compressing objects:  94% (96/102)   [Kremote: Compressing objects:  95% (97/102)   [Kremote: Compressing objects:  96% (98/102)   [Kremote: Compressing objects:  97% (99/102)   [Kremote: Compressing objects:  98% (100/102)   [Kremote: Compressing objects:  99% (101/102)   [Kremote: Compressing objects: 100% (102/102)   [Kremote: Compressing objects: 100% (102/102), done.[K
Receiving objects:   0% (1/142)   Receiving objects:   1% (2/142)   Receiving objects:   2% (3/142)   Receiving objects:   3% (5/142)   Receiving objects:   4% (6/142)   Receiving objects:   5% (8/142)   Receiving objects:   6% (9/142)   Receiving objects:   7% (10/142)   Receiving objects:   8% (12/142)   Receiving objects:   9% (13/142)   Receiving objects:  10% (15/142)   Receiving objects:  11% (16/142)   Receiving objects:  12% (18/142)   Receiving objects:  13% (19/142)   Receiving objects:  14% (20/142)   Receiving objects:  15% (22/142)   Receiving objects:  16% (23/142)   Receiving objects:  17% (25/142)   Receiving objects:  18% (26/142)   Receiving objects:  19% (27/142)   Receiving objects:  20% (29/142)   Receiving objects:  21% (30/142)   Receiving objects:  22% (32/142)   Receiving objects:  23% (33/142)   Receiving objects:  24% (35/142)   Receiving objects:  25% (36/142)   Receiving objects:  26% (37/142)   Receiving objects:  27% (39/142)   Receiving objects:  28% (40/142)   Receiving objects:  29% (42/142)   Receiving objects:  30% (43/142)   Receiving objects:  31% (45/142)   Receiving objects:  32% (46/142)   Receiving objects:  33% (47/142)   Receiving objects:  34% (49/142)   Receiving objects:  35% (50/142)   Receiving objects:  36% (52/142)   Receiving objects:  37% (53/142)   Receiving objects:  38% (54/142)   Receiving objects:  39% (56/142)   Receiving objects:  40% (57/142)   Receiving objects:  41% (59/142)   Receiving objects:  42% (60/142)   Receiving objects:  43% (62/142)   Receiving objects:  44% (63/142)   Receiving objects:  45% (64/142)   Receiving objects:  46% (66/142)   Receiving objects:  47% (67/142)   Receiving objects:  48% (69/142)   Receiving objects:  49% (70/142)   Receiving objects:  50% (71/142)   Receiving objects:  51% (73/142)   Receiving objects:  52% (74/142)   Receiving objects:  53% (76/142)   Receiving objects:  54% (77/142)   Receiving objects:  55% (79/142)   Receiving objects:  56% (80/142)   Receiving objects:  57% (81/142)   Receiving objects:  58% (83/142)   remote: Total 142 (delta 55), reused 81 (delta 30)[K
Receiving objects:  59% (84/142)   Receiving objects:  60% (86/142)   Receiving objects:  61% (87/142)   Receiving objects:  62% (89/142)   Receiving objects:  63% (90/142)   Receiving objects:  64% (91/142)   Receiving objects:  65% (93/142)   Receiving objects:  66% (94/142)   Receiving objects:  67% (96/142)   Receiving objects:  68% (97/142)   Receiving objects:  69% (98/142)   Receiving objects:  70% (100/142)   Receiving objects:  71% (101/142)   Receiving objects:  72% (103/142)   Receiving objects:  73% (104/142)   Receiving objects:  74% (106/142)   Receiving objects:  75% (107/142)   Receiving objects:  76% (108/142)   Receiving objects:  77% (110/142)   Receiving objects:  78% (111/142)   Receiving objects:  79% (113/142)   Receiving objects:  80% (114/142)   Receiving objects:  81% (116/142)   Receiving objects:  82% (117/142)   Receiving objects:  83% (118/142)   Receiving objects:  84% (120/142)   Receiving objects:  85% (121/142)   Receiving objects:  86% (123/142)   Receiving objects:  87% (124/142)   Receiving objects:  88% (125/142)   Receiving objects:  89% (127/142)   Receiving objects:  90% (128/142)   Receiving objects:  91% (130/142)   Receiving objects:  92% (131/142)   Receiving objects:  93% (133/142)   Receiving objects:  94% (134/142)   Receiving objects:  95% (135/142)   Receiving objects:  96% (137/142)   Receiving objects:  97% (138/142)   Receiving objects:  98% (140/142)   Receiving objects:  99% (141/142)   Receiving objects: 100% (142/142)   Receiving objects: 100% (142/142), 68.33 KiB | 0 bytes/s, done.
Resolving deltas:   0% (0/55)   Resolving deltas:   1% (1/55)   Resolving deltas:   5% (3/55)   Resolving deltas:  12% (7/55)   Resolving deltas:  18% (10/55)   Resolving deltas:  29% (16/55)   Resolving deltas:  30% (17/55)   Resolving deltas:  40% (22/55)   Resolving deltas:  63% (35/55)   Resolving deltas:  65% (36/55)   Resolving deltas:  69% (38/55)   Resolving deltas:  74% (41/55)   Resolving deltas:  78% (43/55)   Resolving deltas:  80% (44/55)   Resolving deltas:  85% (47/55)   Resolving deltas:  94% (52/55)   Resolving deltas: 100% (55/55)   Resolving deltas: 100% (55/55), done.
Checking connectivity... done
[s%%%%%%%%%%[u[0;32mmonti004[0;36m@[0;32mcs100[0;36m:[0;32m~[0;95m [0;36m$[0m cd rshell
[s%%%%%%%%%%[u[0;32mmonti004[0;36m@[0;32mcs100[0;36m:[0;32m~/rshell[0;95m (master) [0;36m$[0m git checkout hw2
Note: checking out 'hw2'.

You are in 'detached HEAD' state. You can look around, make experimental
changes and commit them, and you can discard any commits you make in this
state without impacting any branches by performing another checkout.

If you want to create a new branch to retain commits you create, you may
do so (now or later) by using -b with the checkout command again. Example:

  git checkout -b new_branch_name

HEAD is now at 33ef833... rm
[s%%%%%%%%%%[u[0;32mmonti004[0;36m@[0;32mcs100[0;36m:[0;32m~/rshell[0;95m ((hw2)) [0;36m$[0m bin[K[K[Kvagin[K[Kring[Kd bin/rshell
bash: vagrind: command not found
[s%%%%%%%%%%[u[0;32mmonti004[0;36m@[0;32mcs100[0;36m:[0;32m~/rshell[0;95m ((hw2)) [0;36m$[0m vagrind bin/rshell[4hl[4l
valgrind: bin/rshell: No such file or directory
[s%%%%%%%%%%[u[0;32mmonti004[0;36m@[0;32mcs100[0;36m:[0;32m~/rshell[0;95m ((hw2)) [0;36m$[0m valgrind bin/rshell[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[Kvagrind bin/rshell[2Pgit checkout hw2[7Pcd rshellgit clone https://github.com/monti004/rshell.git[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Cls[Krm -rf rshellls[Kcdvalgrind --leak-check=full bin/rshell[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Cmake[Kvalgrind --leak-check=full bin/rshell[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Cmake[Kvim src/rshell.cppalgrind --leak-check=full bin/rshell[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Cmake[Kvim src/rshell.cppalgrind --leak-check=full bin/rshell[18Pbin/rshell
valgrind: bin/rshell: No such file or directory
[s%%%%%%%%%%[u[0;32mmonti004[0;36m@[0;32mcs100[0;36m:[0;32m~/rshell[0;95m ((hw2)) [0;36m$[0m valgrind bin/rshell[Kvagrind bin/rshell[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[Kmamke
bash: mamke: command not found
[s%%%%%%%%%%[u[0;32mmonti004[0;36m@[0;32mcs100[0;36m:[0;32m~/rshell[0;95m ((hw2)) [0;36m$[0m make
mkdir bin
g++ -Wall -Werror -ansi -pedantic -o   bin/rshell src/rshell.cpp
g++ -Wall -Werror -ansi -pedantic -o bin/ls src/ls.cpp
[s%%%%%%%%%%[u[0;32mmonti004[0;36m@[0;32mcs100[0;36m:[0;32m~/rshell[0;95m ((hw2)) [0;36m$[0m makemkevalgrind bin/rshell
==23680== Memcheck, a memory error detector
==23680== Copyright (C) 2002-2012, and GNU GPL'd, by Julian Seward et al.
==23680== Using Valgrind-3.8.1 and LibVEX; rerun with -h for copyright info
==23680== Command: bin/rshell
==23680== 
$ cat<Makefie le
CC = g++
FLAGS = -Wall -Werror -ansi -pedantic

all:|bin 
	$(CC) $(FLAGS) -o   bin/rshell src/rshell.cpp
	$(CC) $(FLAGS) -o bin/ls src/ls.cpp


rshell: |bin
	$(CC) -o bin/rshell src/rshell.cpp
ls: |bin
	$(CC) -o bin/ls src/ls.cpp

bin: 
	mkdir bin

clean: 
	rm -rf bin


$ exit
==23680== 
==23680== HEAP SUMMARY:
==23680==     in use at exit: 44 bytes in 4 blocks
==23680==   total heap usage: 17 allocs, 13 frees, 666 bytes allocated
==23680== 
==23680== LEAK SUMMARY:
==23680==    definitely lost: 15 bytes in 3 blocks
==23680==    indirectly lost: 0 bytes in 0 blocks
==23680==      possibly lost: 29 bytes in 1 blocks
==23680==    still reachable: 0 bytes in 0 blocks
==23680==         suppressed: 0 bytes in 0 blocks
==23680== Rerun with --leak-check=full to see details of leaked memory
==23680== 
==23680== For counts of detected and suppressed errors, rerun with: -v
==23680== ERROR SUMMARY: 0 errors from 0 contexts (suppressed: 6 from 6)
[s%%%%%%%%%%[u[0;32mmonti004[0;36m@[0;32mcs100[0;36m:[0;32m~/rshell[0;95m ((hw2)) [0;36m$[0m valgrind bin/rshellmake[Kmkevalgrind bin/rshell[Kvagrind bin/rshell[2Pgit checkout hw2[7Pcd rshellgit clone https://github.com/monti004/rshell.git[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Cls[Krm -rf rshellls[K[K[Kvim src/rshell.cpp
7[?47h[?1h=[1;85r[m[H[2J[85;1H"src/rshell.cpp" 483L, 10999C[>c[1;8H {[2;12H b[l] = c[k];[3;12H l++; k++;[4;8H }[5;8H b[l] = [35m'\0'[m;[7;8H [34m//now i will execute the commands with piping[m[8;8H [32mint[m fd[[31m2[m];[9;8H [33mif[m(pipe(fd) == -[31m1[m )[10;8H {[11;12H perror([31m"pipe fail"[m);[12;12H exit([31m1[m);[13;8H }[14;8H [32mint[m pid = fork();[15;8H [33mif[m( pid  == -[31m1[m)[16;8H {[17;12H perror([31m"fork fail"[m);[18;12H exit([31m1[m);[19;8H }[20;8H [33melse[m [33mif[m(pid == [31m0[m)[21;8H {[22;12H [33mif[m( dup2(fd[[31m1[m], [31m1[m) == -[31m1[m)[23;12H {[24;16H perror([31m"error with dup2"[m);[25;16H exit([31m1[m);[26;12H }[27;12H [33mif[m( close(fd[[31m0[m]) == -[31m1[m)[28;12H {[29;16H perror([31m"error with close"[m);[30;16H exit([31m1[m);[31;12H }[32;12H check_dup(a);[33;12H [33mif[m( execvp( a[[31m0[m], a) == -[31m1[m)[34;12H {[35;16H perror([31m"error in execvp"[m);[36;16H exit([31m1[m);[37;12H }[38;12H exit([31m1[m);[39;8H }[41;8H [32mint[m savestdin;[42;8H savestdin = dup([31m0[m);[43;8H [33mif[m( savestdin == -[31m1[m)[44;8H {[45;12H perror([31m"error with dup"[m);[46;12H exit([31m1[m);[47;8H }[48;8H [33mif[m( dup2(fd[[31m0[m],[31m0[m) == -[31m1[m)[49;8H {[50;12H perror([31m"error with dup2"[m);[51;12H exit([31m1[m);[52;8H }[53;8H [33mif[m( close(fd[[31m1[m]) == -[31m1[m)[54;8H {[55;12H perror([31m"error with close"[m);[56;12H exit([31m1[m);[57;8H }[58;8H [33mif[m (wait(&status) == -[31m1[m)[59;8H {[60;12H perror([31m"error in wait()"[m);[61;12H exit([31m1[m);[62;8H }[64;8H [34m//we need to check that the rest of c does not have any pipes[m[65;8H find_pipes(b);[66;8H dup2(savestdin, [31m0[m);
[34m/*       
        status = 1;
        int pid = fork();
        if(pid == -1)
        {
            perror("fork fail");
            exit(1);
        }
        else if(pid == 0)
        {
            //this will check for i/o redirection
            check_dup(a);

            if (execvp(a[0], a) !=0 )
            {
                perror("error in execvp");
                exit(1);
            }[m[85;118H155,9[9C28%[42;9HP+q436f\P+q6b75\P+q6b64\P+q6b72\P+q6b6c\P+q2332\P+q2334\P+q2569\P+q2a37\P+q6b31\[85;120H6[43;9H[44;9H[46m{[47;9H}[m[85;120H7[44;9H{[47;9H}[85;120H8[45;9H[85;120H9[46;9H[44;9H[46m{[47;9H}[m[85;119H60[47;9H[44;9H{[47;9H}[85;120H1[48;9H[49;9H[46m{[52;9H}[m[85;120H2[49;9H{[52;9H}[85;120H3[50;9H[85;120H4[51;9H[49;9H[46m{[52;9H}[m[85;120H5[52;9H[49;9H{[52;9H}[85;120H6[53;9H[54;9H[46m{[57;9H}[m[85;120H7[54;9H{[57;9H}[85;120H8[55;9H[85;120H9[56;9H[54;9H[46m{[57;9H}[m[85;119H70[57;9H[54;9H{[57;9H}[85;120H1[58;9H[59;9H[46m{[62;9H}[m[85;120H2[59;9H{[62;9H}[85;120H3[60;9H[85;120H4[61;9H[59;9H[46m{[62;9H}[m[85;120H5[62;9H[59;9H{[62;9H}[85;120H6,0-1[63;1H[85;120H7,9  [64;9H[85;120H8[65;9H[85;120H9[66;9H[85;119H80[67;9H[85;120H1[68;9H[85;120H2[69;9H[85;120H3[70;9H[71;9H[34m[46m{[74;9H}[m[85;120H4[71;9H[34m{[74;9H}[m[85;120H5[72;9H[85;120H6[73;9H[71;9H[34m[46m{[74;9H}[m[85;120H7[74;9H[71;9H[34m{[74;9H}[m[85;120H8[75;9H[85;120H9[76;9H[85;119H90[77;9H[85;120H1[78;9H[85;120H2,0-1[79;1H[85;120H3,9  [80;9H[85;120H4[81;9H[85;120H5[82;9H[85;120H6[83;9H[85;120H7[84;9H[1;84r[84;1H
[1;85r[75;9H[34m[46m{[m[84;1H[34m        [m[34m[46m}[m[85;1H[K[85;118H198,9[9C28%[84;9H[1;84r[84;1H
[1;85r[74;9H[34m{[83;9H}
        //else[m[85;118H[K[85;118H199,9[9C28%[84;9H[1;84r[84;1H
[1;85r[84;1H[34m        //{[m[85;118H[K[85;118H200,9[9C29%[84;9H[1;84r[84;1H
[1;85r[84;1H[34m            if (wait(&status) == -1)[m[85;118H[K[85;118H201,9[9C29%[84;9H[1;84r[84;1H
[1;85r[84;1H[34m            {[m[85;118H[K[85;118H202,9[9C29%[84;9H[1;84r[84;1H
[1;85r[84;1H[34m                perror("error in wait");[m[85;118H[K[85;118H203,9[9C29%[84;9H[1;84r[84;1H
[1;85r[84;1H[34m                exit(1);[m[85;118H[K[85;118H204,9[9C30%[84;9H[1;84r[84;1H
[1;85r[84;1H[34m            }[m[85;118H[K[85;118H205,9[9C30%[84;9H[1;84r[84;1H
[1;85r[84;1H[34m       //}[m[85;118H[K[85;118H206,9[9C30%[84;9H[1;84r[84;1H
[1;85r[84;1H[34m    find_pipes(b);[m[85;118H[K[85;118H207,9[9C30%[84;9H[1;84r[84;1H
[1;85r[84;1H[34m*/[m[85;118H[K[85;118H208,2[9C31%[84;2H[1;84r[84;1H
[1;85r[84;4H }[85;118H[K[85;118H209,5[9C31%[84;5H[1;84r[84;1H
[1;85r[85;118H[K[85;118H210,8[9C31%[84;8H[1;84r[84;1H
[1;85r[84;4H [34m//if there are no more pipes to go through then the find_pipes fxm wil end[m[85;118H[K[85;118H211,9[9C31%[84;9H[1;84r[84;1H
[1;85r[85;118H[K[85;118H212,0-1[7C32%[84;1H[1;84r[84;1H
[1;85r[84;4H [32mint[m pid = fork();[85;118H[K[85;118H213,9[9C32%[84;9H[1;84r[84;1H
[1;85r[84;4H [33mif[m(pid == -[31m1[m)[85;118H[K[85;118H214,9[9C32%[84;9H[1;84r[84;1H
[1;85r[84;4H {[85;118H[K[85;118H215,5[9C32%[84;5H[1;84r[84;1H
[1;85r[84;8H perror([31m"fork fail"[m);[85;118H[K[85;118H216,9[9C33%[84;9H[1;84r[84;1H
[1;85r[84;8H exit([31m1[m);[85;118H[K[85;118H217,9[9C33%[84;9H[1;84r[84;1H
[1;85r[81;5H[46m{[m[84;4H [46m}[m[85;118H[K[85;118H218,5[9C33%[84;5H[1;84r[84;1H
[1;85r[80;5H{[83;5H}
    [33melse[m [33mif[m(pid == [31m0[m)[85;118H[K[85;118H219,9[9C33%[84;9H[1;84r[84;1H
[1;85r[84;4H {[85;118H[K[85;118H220,5[9C34%[84;5H[1;84r[84;1H
[1;85r[84;8H [34m//this will check for i/o redirection[m[85;118H[K[85;118H221,9[9C34%[84;9H[1;84r[84;1H
[1;85r[84;8H check_dup(c);[85;118H[K[85;118H222,9[9C34%[84;9H[1;84r[84;1H
[1;85r[85;118H[K[85;118H223,0-1[7C34%[84;1H[1;84r[84;1H
[1;85r[84;8H [33mif[m (execvp(c[[31m0[m], c) !=[31m0[m )[85;118H[K[85;118H224,9[9C35%[84;9H[1;84r[84;1H
[1;85r[84;8H {[85;118H[K[85;118H225,9[9C35%[84;9H[1;84r[84;1H
[1;85r[84;12H perror([31m"error in execvp"[m);[85;118H[K[85;118H226,9[9C35%[84;9H[1;84r[84;1H
[1;85r[84;12H exit([31m1[m);[85;118H[K[85;118H227,9[9C35%[84;9H[1;84r[84;1H
[1;85r[81;9H[46m{[m[84;8H [46m}[m[85;118H[K[85;118H228,9[9C36%[84;9H[1;84r[84;1H
[1;85r[75;5H[46m{[m[80;9H{[83;9H}
    [46m}[m[85;118H[K[85;118H229,5[9C36%[84;5H[1;84r[84;1H
[1;85r[74;5H{[83;5H}
    [33melse[m[85;118H[K[85;118H230,8[9C36%[84;8H[1;84r[84;1H
[1;85r[84;4H {[85;118H[K[85;118H231,5[9C36%[84;5H[1;84r[84;1H
[1;85r[84;8H [33mif[m (wait(&status) == -[31m1[m)[85;118H[K[85;118H232,9[9C37%[84;9H[1;84r[84;1H
[1;85r[84;8H {[85;118H[K[85;118H233,9[9C37%[84;9H[1;84r[84;1H
[1;85r[84;12H perror([31m"error in wait"[m);[85;118H[K[85;118H234,9[9C37%[84;9H[1;84r[84;1H
[1;85r[84;12H exit([31m1[m);[85;118H[K[85;118H235,9[9C37%[84;9H[1;84r[84;1H
[1;85r[81;9H[46m{[m[84;8H [46m}[m[85;118H[K[85;118H236,9[9C38%[84;9H[1;84r[84;1H
[1;85r[78;5H[46m{[m[80;9H{[83;9H}
    [46m}[m[85;118H[K[85;118H237,5[9C38%[84;5H[1;84r[84;1H
[1;85r[77;5H{[83;5H}[85;118H[K[85;118H238,0-1[7C38%[84;1H[1;84r[84;1H
[1;85r[85;118H[K[85;118H239,0-1[7C38%[84;1H[1;84r[84;1H
[1;85r[84;1H[34m/*    int f=0;[m[85;118H[K[85;118H240,9[9C39%[84;9H[1;84r[84;1H
[1;85r[84;1H[34m    while( f < 100)[m[85;118H[K[85;118H241,9[9C39%[84;9H[1;84r[84;1H
[1;85r[84;1H[34m    {[m[85;118H[K[85;118H242,5[9C39%[84;5H[1;84r[84;1H
[1;85r[84;1H[34m        delete[] a[f];[m[85;118H[K[85;118H243,9[9C39%[84;9H[1;84r[84;1H
[1;85r[84;1H[34m        f++;[m[85;118H[K[85;118H244,9[9C40%[84;9H[1;84r[84;1H
[1;85r[84;1H[34m    }*/[m[85;118H[K[85;118H245,7[9C40%[84;7H[1;84r[84;1H
[1;85r[84;4H [33mdelete[m[] a;[85;118H[K[85;118H246,9[9C40%[84;9H[1;84r[84;1H
[1;85r[84;1H[34m/*    int ff=0;[m[85;118H[K[85;118H247,9[9C40%[84;9H[1;84r[84;1H
[1;85r[84;1H[34m    while( ff < 100)[m[85;118H[K[85;118H248,9[9C41%[84;9H[1;84r[84;1H
[1;85r[84;1H[34m    {[m[85;118H[K[85;118H249,5[9C41%[84;5H[1;84r[84;1H
[1;85r[84;1H[34m        delete[] b[ff];[m[85;118H[K[85;118H250,9[9C41%[84;9H[1;84r[84;1H
[1;85r[84;1H[34m        ff++;[m[85;118H[K[85;118H251,9[9C41%[84;9H[1;84r[84;1H
[1;85r[84;1H[34m    }*/[m[85;118H[K[85;118H252,7[9C42%[84;7H[1;84r[84;1H
[1;85r[84;4H [33mdelete[m[] b;[85;118H[K[85;118H253,9[9C42%[84;9H[1;84r[84;1H
[1;85r[85;118H[K[85;118H254,0-1[7C42%[84;1H[1;84r[84;1H
[1;85r[85;118H[K[85;118H255,0-1[7C42%[84;1H[1;84r[84;1H
[1;85r[84;1H[34m//    return status;[m[85;118H[K[85;118H256,9[9C43%[84;9H[1;84r[84;1H
[1;85r[84;1H}[85;118H[K[85;118H257,1[9C43%[84;1H[1;84r[84;1H
[1;85r[85;118H[K[85;118H258,0-1[7C43%[84;1H[1;84r[84;1H
[1;85r[84;1H[32mvoid[m check_spaces(string &s)[85;118H[K[85;118H259,9[9C43%[84;9H[1;84r[84;1H
[1;85r[84;1H{[85;118H[K[85;118H260,1[9C44%[84;1H[1;84r[84;1H
[1;85r[84;4H [32mint[m size = s.size();[85;118H[K[85;118H261,9[9C44%[84;9H[1;84r[84;1H
[1;85r[84;4H [32mint[m i=[31m0[m;[85;118H[K[85;118H262,9[9C44%[84;9H[1;84r[84;1H
[1;85r[84;4H [33mwhile[m ( i < size  )[85;118H[K[85;118H263,9[9C44%[84;9H[1;84r[84;1H
[1;85r[84;4H {[85;118H[K[85;118H264,5[9C45%[84;5H[1;84r[84;1H
[1;85r[84;8H [33mif[m (s[i] == [31m'<'[m)[85;118H[K[85;118H265,9[9C45%[84;9H[1;84r[84;1H
[1;85r[84;8H {[85;118H[K[85;118H266,9[9C45%[84;9H[1;84r[84;1H
[1;85r[84;12H s.insert(i+[31m1[m , [31m" "[m);[85;118H[K[85;118H267,9[9C45%[84;9H[1;84r[84;1H
[1;85r[84;12H s.insert(i , [31m" "[m);[85;118H[K[85;118H268,9[9C46%[84;9H[1;84r[84;1H
[1;85r[81;9H[46m{[m[84;8H [46m}[m[85;118H[K[85;118H269,9[9C46%[84;9H[1;84r[84;1H
[1;85r[80;9H{[83;9H}[84;8H [33melse[m [33mif[m (s[i] == [31m'|'[m)[85;118H[K[85;118H270,9[9C46%[84;9H[1;84r[84;1H
[1;85r[84;8H {[85;118H[K[85;118H271,9[9C46%[84;9H[1;84r[84;1H
[1;85r[84;12H s.insert(i+[31m1[m , [31m" "[m);[85;118H[K[85;118H272,9[9C47%[84;9H[1;84r[84;1H
[1;85r[84;12H s.insert(i , [31m" "[m);[85;118H[K[85;118H273,9[9C47%[84;9H[1;84r[84;1H
[1;85r[85;118H[K[85;118H274,0-1[7C47%[84;1H[1;84r[84;1H
[1;85r[80;9H[46m{[m[84;8H [46m}[m[85;118H[K[85;118H275,9[9C47%[84;9H[1;84r[84;1H
[1;85r[79;9H{[83;9H}[84;8H [33melse[m [33mif[m (s[i] == [31m'>'[m)[85;118H[K[85;118H276,9[9C48%[84;9H[1;84r[84;1H
[1;85r[84;8H {[85;118H[K[85;118H277,9[9C48%[84;9H[1;84r[84;1H
[1;85r[84;12H [33mif[m (s[i+[31m1[m] == [31m'>'[m)[85;118H[K[85;118H278,9[9C48%[84;9H[1;84r[84;1H
[1;85r[84;12H {[85;118H[K[85;118H279,9[9C48%[84;9H[1;84r[84;1H
[1;85r[84;16H s.insert(i+[31m2[m , [31m" "[m);[85;118H[K[85;118H280,9[9C49%[84;9H[1;84r[84;1H
[1;85r[84;16H s.insert(i , [31m" "[m);[85;118H[K[85;118H281,9[9C49%[84;9H[1;84r[84;1H
[1;85r[84;12H }[85;118H[K[85;118H282,9[9C49%[84;9H[1;84r[84;1H
[1;85r[84;12H [33melse[m[85;118H[K[85;118H283,9[9C49%[84;9H[1;84r[84;1H
[1;85r[84;12H {[85;118H[K[85;118H284,9[9C50%[84;9H[1;84r[84;1H
[1;85r[84;16H s.insert(i+[31m1[m , [31m" "[m);[85;118H[K[85;118H285,9[9C50%[84;9H[1;84r[84;1H
[1;85r[84;16H s.insert(i , [31m" "[m);[85;118H[K[85;118H286,9[9C50%[84;9H[1;84r[84;1H
[1;85r[84;12H }[85;118H[K[85;118H287,9[9C50%[84;9H[1;84r[84;1H
[1;85r[73;9H[46m{[m[84;8H [46m}[m[85;118H[K[85;118H288,9[9C51%[84;9H[1;84r[84;1H
[1;85r[72;9H{[83;9H}[84;8H i++;[85;118H[K[85;118H289,9[9C51%[84;9H[1;84r[84;1H
[1;85r[58;5H[46m{[m[84;4H [46m}[m[85;118H[K[85;118H290,5[9C51%[84;5H[1;84r[84;1H
[1;85r[53;1H[46m{[m[57;5H{[83;5H}
[46m}[m[85;118H[K[85;118H291,1[9C51%[84;1H[1;84r[84;1H
[1;85r[52;1H{[83;1H}[85;118H[K[85;118H292,0-1[7C52%[84;1H[1;84r[84;1H
[1;85r[84;1H[32mint[m num_tokens( [32mchar[m *c)[85;118H[K[85;118H293,9[9C52%[84;9H[1;84r[84;1H
[1;85r[84;1H{[85;118H[K[85;118H294,1[9C52%[84;1H[1;84r[84;1H
[1;85r[84;4H [32mint[m count =[31m0[m;[85;118H[K[85;118H295,9[9C52%[84;9H[1;84r[84;1H
[1;85r[84;4H [32mint[m i=[31m0[m;[85;118H[K[85;118H296,9[9C53%[84;9H[1;84r[84;1H
[1;85r[84;4H [33mwhile[m(c[i] != [35m'\0'[m)[85;118H[K[85;118H297,9[9C53%[84;9H[1;84r[84;1H
[1;85r[84;4H {[85;118H[K[85;118H298,5[9C53%[84;5H[1;84r[84;1H
[1;85r[84;8H [33mif[m(c[i] == [31m' '[m)[85;118H[K[85;118H299,9[9C53%[84;9H[1;84r[84;1H
[1;85r[84;8H {[85;118H[K[85;118H300,9[9C54%[84;9H[1;84r[84;1H
[1;85r[84;12H count++;[85;118H[K[85;118H301,9[9C54%[84;9H[1;84r[84;1H
[1;85r[82;9H[46m{[m[84;8H [46m}[m[85;118H[K[85;118H302,9[9C54%[84;9H[1;84r[84;1H
[1;85r[81;9H{[83;9H}[84;8H i++;[85;118H[K[85;118H303,9[9C54%[84;9H[1;84r[84;1H
[1;85r[78;5H[46m{[m[84;4H [46m}[m[85;118H[K[85;118H304,5[9C55%[84;5H[1;84r[84;1H
[1;85r[77;5H{[83;5H}
    [33mreturn[m count+[31m1[m;[85;118H[K[85;118H305,9[9C55%[84;9H[1;84r[84;1H
[1;85r[72;1H[46m{[84;1H}[m[85;118H[K[85;118H306,1[9C55%[84;1H[1;84r[84;1H
[1;85r[71;1H{[83;1H}
[34m//this fxn counts the number of & and | and pushes them back in order[m[85;118H[K[85;118H307,9[9C55%[84;9H[1;84r[84;1H
[1;85r[85;118H[K[85;118H308,0-1[7C56%[84;1H[1;84r[84;1H
[1;85r[84;1Hvector<[32mint[m> cmds_order([32mchar[m *c)[85;118H[K[85;118H309,9[9C56%[84;9H[1;84r[84;1H
[1;85r[84;1H{[85;118H[K[85;118H310,1[9C56%[84;1H[1;84r[84;1H
[1;85r[84;4H vector<[32mint[m> v;[85;118H[K[85;118H311,9[9C56%[84;9H[1;84r[84;1H
[1;85r[84;4H [32mint[m i=[31m0[m;[85;118H[K[85;118H312,9[9C57%[84;9H[1;84r[84;1H
[1;85r[84;4H [33mwhile[m(c[i] != [35m'\0'[m)[85;118H[K[85;118H313,9[9C57%[84;9H[1;84r[84;1H
[1;85r[84;4H {[85;118H[K[85;118H314,5[9C57%[84;5H[1;84r[84;1H
[1;85r[84;8H [33mif[m ((c[i] ==[31m'&'[m)&&(c[i+[31m1[m]==[31m'&'[m))[85;118H[K[85;118H315,9[9C57%[84;9H[1;84r[84;1H
[1;85r[84;12H {[85;118H[K[85;118H316,9[9C58%[84;9H[1;84r[84;1H
[1;85r[84;16H v.push_back([31m1[m);[85;118H[K[85;118H317,9[9C58%[84;9H[1;84r[84;1H
[1;85r[84;16H c[i+[31m1[m] = [31m' '[m;[85;118H[K[85;118H318,9[9C58%[84;9H[1;84r[84;1H
[1;85r[84;16H i = i+[31m2[m;[85;118H[K[85;118H319,9[9C58%[84;9H[1;84r[84;1H
[1;85r[84;12H }[85;118H[K[85;118H320,9[9C59%[84;9H[1;84r[84;1H
[1;85r[84;8H [33mif[m ((c[i] ==[31m'|'[m)&&(c[i+[31m1[m] ==[31m'|'[m))[85;118H[K[85;118H321,9[9C59%[84;9H[1;84r[84;1H
[1;85r[84;12H {[85;118H[K[85;118H322,9[9C59%[84;9H[1;84r[84;1H
[1;85r[84;16H v.push_back([31m2[m);[85;118H[K[85;118H323,9[9C59%[84;9H[1;84r[84;1H
[1;85r[84;16H c[i] = [31m'&'[m;[85;118H[K[85;118H324,9[9C60%[84;9H[1;84r[84;1H
[1;85r[84;16H c[i+[31m1[m] = [31m' '[m;[85;118H[K[85;118H325,9[9C60%[84;9H[1;84r[84;1H
[1;85r[84;16H i = i+[31m2[m;[85;118H[K[85;118H326,9[9C60%[84;9H[1;84r[84;1H
[1;85r[84;12H }[85;118H[K[85;118H327,9[9C60%[84;9H[1;84r[84;1H
[1;85r[84;8H [33melse[m[85;118H[K[85;118H328,9[9C61%[84;9H[1;84r[84;1H
[1;85r[84;12H i++;[85;118H[K[85;118H329,9[9C61%[84;9H[1;84r[84;1H
[1;85r[68;5H[46m{[m[84;4H [46m}[m[85;118H[K[85;118H330,5[9C61%[84;5H[1;84r[84;1H
[1;85r[67;5H{[83;5H}
    [34m//c[i] = '\0';[m[85;118H[K[85;118H331,9[9C61%[84;9H[1;84r[84;1H
[1;85r[84;4H [33mreturn[m v;[85;118H[K[85;118H332,9[9C62%[84;9H[1;84r[84;1H
[1;85r[61;1H[46m{[84;1H}[m[85;118H[K[85;118H333,1[9C62%[84;1H[1;84r[84;1H
[1;85r[60;1H{[83;1H}
[34m//this fxm will run the commands passed in as char *c[m[85;118H[K[85;118H334,9[9C62%[84;9H[1;84r[84;1H
[1;85r[84;1H[32mint[m  run_exec( [32mchar[m *c, [32mint[m count)[85;118H[K[85;118H335,9[9C62%[84;9H[1;84r[84;1H
[1;85r[84;1H{[85;118H[K[85;118H336,1[9C63%[84;1H[1;84r[84;1H
[1;85r[84;4H [32mchar[m **cmd = [33mnew[m [32mchar[m*[count+[31m1[m];[85;118H[K[85;118H337,9[9C63%[84;9H[1;84r[84;1H
[1;85r[85;118H[K[85;118H338,0-1[7C63%[84;1H[1;84r[84;1H
[1;85r[84;4H string word = string(c);[85;118H[K[85;118H339,9[9C63%[84;9H[1;84r[84;1H
[1;85r[84;1H[34m//    cerr<<word<<endl;[m[85;118H[K[85;118H340,9[9C64%[84;9H[1;84r[84;1H
[1;85r[84;4H istringstream iss(c);[85;118H[K[85;118H341,9[9C64%[84;9H[1;84r[84;1H
[1;85r[84;4H [32mint[m i=[31m0[m;[85;118H[K[85;118H342,9[9C64%[84;9H[1;84r[84;1H
[1;85r[84;4H [33mwhile[m(iss >>word)[85;118H[K[85;118H343,9[9C64%[84;9H[1;84r[84;1H
[1;85r[84;4H {[85;118H[K[85;118H344,5[9C65%[84;5H[1;84r[84;1H
[1;85r[84;8H [32mconst[m [32mchar[m *x = word.c_str();[85;118H[K[85;118H345,9[9C65%[84;9H[1;84r[84;1H
[1;85r[84;8H cmd[i] = [33mnew[m [32mchar[m[word.size()+[31m1[m];[85;118H[K[85;118H346,9[9C65%[84;9H[1;84r[84;1H
[1;85r[84;8H strcpy(cmd[i], x );[85;118H[K[85;118H347,9[9C65%[84;9H[1;84r[84;1H
[1;85r[84;8H i++;[85;118H[K[85;118H348,9[9C66%[84;9H[1;84r[84;1H
[1;85r[79;5H[46m{[m[84;4H [46m}[m[85;118H[K[85;118H349,5[9C66%[84;5H[1;84r[84;1H
[1;85r[78;5H{[83;5H}
    cmd[i] = [35m'\0'[m;[85;118H[K[85;118H350,9[9C66%[84;9H[1;84r[84;1H
[1;85r[84;4H [32mint[m status;[85;118H[K[85;118H351,9[9C66%[84;9H[1;84r[84;1H
[1;85r[84;4H [34m//this will run if there are <,>,>> in the command[m[85;118H[K[85;118H352,9[9C67%[84;9H[1;84r[84;1H
[1;85r[84;4H [34m//then we wil check to pipes and execute i/o redirection and piping within this loop[m[85;118H[K[85;118H353,9[9C67%[84;9H[1;84r[84;1H
[1;85r[84;4H [33mif[m( pipes(cmd) == [31mtrue[m )[85;118H[K[85;118H354,9[9C67%[84;9H[1;84r[84;1H
[1;85r[84;4H {[85;118H[K[85;118H355,5[9C67%[84;5H[1;84r[84;1H
[1;85r[84;1H[34m//        cerr<<"FOUND PIPE"<<endl;[m[85;118H[K[85;118H356,9[9C68%[84;9H[1;84r[84;1H
[1;85r[84;8H [34m//now i have to separate the arguments in the pipe[m[85;118H[K[85;118H357,9[9C68%[84;9H[1;84r[84;1H
[1;85r[84;8H find_pipes(cmd);[85;118H[K[85;118H358,9[9C68%[84;9H[1;84r[84;1H
[1;85r[80;5H[46m{[m[84;4H [46m}[m[85;118H[K[85;118H359,5[9C68%[84;5H[1;84r[84;1H
[1;85r[79;5H{[83;5H}
    [34m//all other regular commands will be ran through this loop[m[85;118H[K[85;118H360,9[9C69%[84;9H[1;84r[84;1H
[1;85r[84;4H [33melse[m[85;118H[K[85;118H361,8[9C69%[84;8H[1;84r[84;1H
[1;85r[84;4H {[85;118H[K[85;118H362,5[9C69%[84;5H[1;84r[84;1H
[1;85r[84;8H status = [31m1[m;[85;118H[K[85;118H363,9[9C69%[84;9H[1;84r[84;1H
[1;85r[84;1H[34m//        cerr<<"no pipe"<<endl;[m[85;118H[K[85;118H364,9[9C70%[84;9H[1;84r[84;1H
[1;85r[84;8H [32mint[m pid = fork();[85;118H[K[85;118H365,9[9C70%[84;9H[1;84r[84;1H
[1;85r[84;8H [33mif[m(pid == -[31m1[m)[85;118H[K[85;118H366,9[9C70%[84;9H[1;84r[84;1H
[1;85r[84;8H {[85;118H[K[85;118H367,9[9C70%[84;9H[1;84r[84;1H
[1;85r[84;12H perror([31m"fork fail"[m);[85;118H[K[85;118H368,9[9C71%[84;9H[1;84r[84;1H
[1;85r[84;12H exit([31m1[m);[85;118H[K[85;118H369,9[9C71%[84;9H[1;84r[84;1H
[1;85r[81;9H[46m{[m[84;8H [46m}[m[85;118H[K[85;118H370,9[9C71%[84;9H[1;84r[84;1H
[1;85r[80;9H{[83;9H}[84;8H [33melse[m [33mif[m(pid == [31m0[m)[85;118H[K[85;118H371,9[9C71%[84;9H[1;84r[84;1H
[1;85r[84;8H {[85;118H[K[85;118H372,9[9C72%[84;9H[1;84r[84;1H
[1;85r[84;12H [34m//this will check for i/o redirection[m[85;118H[K[85;118H373,9[9C72%[84;9H[1;84r[84;1H
[1;85r[84;12H check_dup(cmd);[85;118H[K[85;118H374,9[9C72%[84;9H[1;84r[84;1H
[1;85r[85;118H[K[85;118H375,0-1[7C72%[84;1H[1;84r[84;1H
[1;85r[84;12H [33mif[m (execvp(cmd[[31m0[m], cmd) !=[31m0[m )[85;118H[K[85;118H376,9[9C73%[84;9H[1;84r[84;1H
[1;85r[84;12H {[85;118H[K[85;118H377,9[9C73%[84;9H[1;84r[84;1H
[1;85r[84;16H perror([31m"error in execvp"[m);[85;118H[K[85;118H378,9[9C73%[84;9H[1;84r[84;1H
[1;85r[84;16H exit([31m1[m);[85;118H[K[85;118H379,9[9C73%[84;9H[1;84r[84;1H
[1;85r[84;12H }[85;118H[K[85;118H380,9[9C74%[84;9H[1;84r[84;1H
[1;85r[75;9H[46m{[m[84;8H [46m}[m[85;118H[K[85;118H381,9[9C74%[84;9H[1;84r[84;1H
[1;85r[74;9H{[83;9H}[84;8H [34m//else[m[85;118H[K[85;118H382,9[9C74%[84;9H[1;84r[84;1H
[1;85r[84;8H [34m//{[m[85;118H[K[85;118H383,9[9C74%[84;9H[1;84r[84;1H
[1;85r[84;12H [33mif[m (wait(&status) == -[31m1[m)[85;118H[K[85;118H384,9[9C75%[84;9H[1;84r[84;1H
[1;85r[84;12H {[85;118H[K[85;118H385,9[9C75%[84;9H[1;84r[84;1H
[1;85r[84;16H perror([31m"error in wait"[m);[85;118H[K[85;118H386,9[9C75%[84;9H[1;84r[84;1H
[1;85r[84;16H exit([31m1[m);[85;118H[K[85;118H387,9[9C75%[84;9H[1;84r[84;1H
[1;85r[84;12H }[85;118H[K[85;118H388,9[9C76%[84;9H[1;84r[84;1H
[1;85r[84;7H [34m//}[m[85;118H[K[85;118H389,9[9C76%[84;9H[1;84r[84;1H
[1;85r[56;5H[46m{[m[84;4H [46m}[m[85;118H[K[85;118H390,5[9C76%[84;5H[1;84r[84;1H
[1;85r[55;5H{[83;5H}
[34m/*    int f=0;[m[85;118H[K[85;118H391,9[9C76%[84;9H[1;84r[84;1H
[1;85r[84;1H[34m    while( f < count+1)[m[85;118H[K[85;118H392,9[9C77%[84;9H[1;84r[84;1H
[1;85r[84;1H[34m    {[m[85;118H[K[85;118H393,5[9C77%[84;5H[1;84r[84;1H
[1;85r[84;1H[34m        delete[] cmd[f];[m[85;118H[K[85;118H394,9[9C77%[84;9H[1;84r[84;1H
[1;85r[84;1H[34m        f++;[m[85;118H[K[85;118H395,9[9C77%[84;9H[1;84r[84;1H
[1;85r[84;1H[34m    }*/[m[85;118H[K[85;118H396,7[9C78%[84;7H[1;84r[84;1H
[1;85r[84;4H [33mdelete[m[] cmd;[85;118H[K[85;118H397,9[9C78%[84;9H[1;84r[84;1H
[1;85r[84;4H [33mreturn[m status;[85;118H[K[85;118H398,9[9C78%[84;9H[1;84r[84;1H
[1;85r[84;4H [34m//this returns 0 if the execvp ran succesfully[m[85;118H[K[85;118H399,9[9C78%[84;9H[1;84r[84;1H
[1;85r[20;1H[46m{[84;1H}[m[85;118H[K[85;118H400,1[9C79%[84;1H[1;84r[84;1H
[1;85r[19;1H{[83;1H}[85;118H[K[85;118H401,0-1[7C79%[84;1H[1;84r[84;1H
[1;85r[84;1H[32mint[m main[46m([m[32mint[m argc, [32mchar[m **argv[46m)[m[85;118H[K[85;118H402,9[9C79%[84;9H[1;84r[84;1H
[1;85r[83;9H([21C)
{[85;118H[K[85;118H403,1[9C79%[84;1H[1;84r[84;1H
[1;85r[84;4H [33mwhile[m([31m1[m)[85;118H[K[85;118H404,9[9C80%[84;9H[1;84r[84;1H
[1;85r[84;4H {[85;118H[K[85;118H405,5[9C80%[84;5H[1;84r[84;1H
[1;85r[84;8H cerr<<[31m"$ "[m;[85;118H[K[85;118H406,9[9C80%[84;9H[1;84r[84;1H
[1;85r[85;118H[K[85;118H407,5-8[7C80%[84;8H[1;84r[84;1H
[1;85r[84;8H string command_line;[85;118H[K[85;118H408,9[9C81%[84;9H[1;84r[84;1H
[1;85r[85;118H[K[85;118H409,0-1[7C81%[84;1H[1;84r[84;1H
[1;85r[84;8H getline(cin, command_line);[85;118H[K[85;118H410,9[9C81%[84;9H[1;84r[84;1H
[1;85r[85;118H[K[85;118H411,0-1[7C81%[84;1H[1;84r[84;1H
[1;85r[84;8H [33mif[m ( command_line.find([31m"exit"[m) != string::npos)[85;118H[K[85;118H412,9[9C82%[84;9H[1;84r[84;1H
[1;85r[84;12H exit([31m0[m);[85;118H[K[85;118H413,9[9C82%[84;9H[1;84r[84;1H
[1;85r[84;1H[34m//        cerr<<command_line<<endl;[m[85;118H[K[85;118H414,9[9C82%[84;9H[1;84r[84;1H
[1;85r[84;8H [34m//this will make sure there is spaces before and after i/o redirection[m[85;118H[K[85;118H415,9[9C82%[84;9H[1;84r[84;1H
[1;85r[84;8H check_spaces(command_line);[85;118H[K[85;118H416,9[9C83%[84;9H[1;84r[84;1H
[1;85r[84;1H[34m//        cerr<<command_line<<endl;[m[85;118H[K[85;118H417,9[9C83%[84;9H[1;84r[84;1H
[1;85r[84;8H [32mchar[m *commands = [33mnew[m [32mchar[m[command_line.length()+[31m1[m];[85;118H[K[85;118H418,9[9C83%[84;9H[1;84r[84;1H
[1;85r[84;8H strcpy(commands, command_line.c_str());[85;118H[K[85;118H419,9[9C83%[84;9H[1;84r[84;1H
[1;85r[85;118H[K[85;118H420,2[9C84%[84;2H[1;84r[84;1H
[1;85r[84;8H [32mchar[m *token,*save;[85;118H[K[85;118H421,9[9C84%[84;9H[1;84r[84;1H
[1;85r[85;118H[K[85;118H422,0-1[7C84%[84;1H[1;84r[84;1H
[1;85r[84;8H token = strtok_r(commands,[31m"#"[m,&save);[85;118H[K[85;118H423,9[9C84%[84;9H[1;84r[84;1H
[1;85r[84;8H token = strtok_r(commands,[31m";"[m,&save);[85;118H[K[85;118H424,9[9C85%[84;9H[1;84r[84;1H
[1;85r[85;118H[K[85;118H425,2[9C85%[84;2H[1;84r[84;1H
[1;85r[84;8H [33mwhile[m(token!= [31mNULL[m)[85;118H[K[85;118H426,9[9C85%[84;9H[1;84r[84;1H
[1;85r[84;8H {[85;118H[K[85;118H427,9[9C85%[84;9H[1;84r[84;1H
[1;85r[84;12H vector<[32mint[m> order;[85;118H[K[85;118H428,9[9C86%[84;9H[1;84r[84;1H
[1;85r[84;12H [32mbool[m prev = [31mtrue[m;[85;118H[K[85;118H429,9[9C86%[84;9H[1;84r[84;1H
[1;85r[84;12H [34m//i count the number of conditions and label & with 1 and | with 2[m[85;118H[K[85;118H430,9[9C86%[84;9H[1;84r[84;1H
[1;85r[84;12H [34m//this will also change || to & to make tokenizing easier when adding pipping.[m[85;118H[K[85;118H431,9[9C86%[84;9H[1;84r[84;1H
[1;85r[84;12H [34m//both && and || will be & but the order they appeared as initially will be in the vector[m[85;118H[K[85;118H432,9[9C87%[84;9H[1;84r[84;1H
[1;85r[84;12H order = cmds_order(token);[85;118H[K[85;118H433,9[9C87%[84;9H[1;84r[84;1H
[1;85r[84;12H [33mif[m ( !(order.empty() ))[85;118H[K[85;118H434,9[9C87%[84;9H[85;120H3[83;9H[85;120H2[82;9H[85;120H1[81;9H[85;120H0[80;9H[85;119H29[79;9H[85;120H8[78;9H[85;120H7[77;9H[85;120H6[76;9H[85;120H5,2[75;2H[85;120H4,9[74;9H[85;120H3[73;9H[85;120H2,0-1[72;1H[85;120H1,9  [71;9H[85;120H0,2[70;2H[85;119H19,9[69;9H[85;120H8[68;9H[85;120H7[67;9H[85;120H6[66;9H[85;120H5[65;9H[85;120H4[64;9H[85;120H3[63;9H[85;120H2[62;9H[85;120H1,0-1[61;1H[85;120H0,9  [60;9H[85;119H09,0-1[59;1H[85;120H8,9  [58;9H[85;120H7,5-8[57;8H[85;120H6,9  [56;9H[85;120H5,5[55;5H[85;120H4,9[54;9H[85;120H3,1[53;1H[52;9H[46m([21C)[m[85;120H2,9[52;9H([21C)[85;120H1,0-1[51;1H[85;120H0,1  [50;1H[85;118H399,9[49;9H[85;120H8[48;9H[85;120H7[47;9H[85;120H6,7[46;7H[85;1H[1m-- INSERT --[m[85;118H[K[85;118H397,1[9C87%[47;84r[47;1H[L[1;85r[85;118H[K[85;118H397,1[9C87%[47;1Hi[85;122H2[47;2H[47;1H[K[85;122H1[47;1H[46;84r[84;1H
[1;85r[46;1H[34m    }*/[m[84;12H [33mif[m ( !(order.empty() ))[85;118H[K[85;118H396,8[9C87%[46;8H[46;7H[K[47;1H[34m    delete[] cmd;
    return status;
    
}

int main(int argc, char **argv)
{
    while(1)
    {
        cerr<<"$ ";
        
        string command_line;

        getline(cin, command_line);

        if ( command_line.find("exit") != string::npos)
            exit(0);

        
        check_spaces(command_line);

        char *commands = new char[command_line.length()+1];
        strcpy(commands, command_line.c_str());
  
        char *token,*save; 

        token = strtok_r(commands,"#",&save);
        token = strtok_r(commands,";",&save);
  
        while(token!= NULL)
        {
            vector<int> order; 
            bool prev = true;
            
            
            
            order = cmds_order(token);
            if ( !(order.empty() ))[m[85;122H7[46;7H[46;6H[K[43;5H[34m[46m{[46;5H}[m[85;122H6[46;6H[43;5H[34m{[46;5H}[m[85;120H5[45;6H[85;120H4[44;6H[43;5H[34m[46m{[46;5H}[m[85;120H3[43;6H[34m{[46;5H}[m[85;120H2[42;6H[85;120H1[41;6H[12;5H[46m{[40;5H}[m[85;120H0[40;6H[12;5H{[40;5H}[85;120H1[41;6H[85;122H5[41;5H[85;122H4[41;4H[85;122H3[41;3H/    [32mint[m f=[31m0[m;[41;14H[K[42;1H    [33mwhile[m( f < count+[31m1[m)
    {
        [33mdelete[m[] cmd[f];
        f++;
    }
    [33mdelete[m[] cmd;
    [33mreturn[m status;
    
}

[32mint[m main([32mint[m argc, [32mchar[m **argv)
{
    [33mwhile[m([31m1[m)
    {
        cerr<<[31m"$ "[m;
        
        string command_line;

        getline(cin, command_line);

        [33mif[m ( command_line.find([31m"exit"[m) != string::npos)
            exit([31m0[m);

        
        check_spaces(command_line);

        [32mchar[m *commands = [33mnew[m [32mchar[m[command_line.length()+[31m1[m];
        strcpy(commands, command_line.c_str());
  
        [32mchar[m *token,*save; 

        token = strtok_r(commands,[31m"#"[m,&save);
        token = strtok_r(commands,[31m";"[m,&save);
  
        [33mwhile[m(token!= [31mNULL[m)
        {
            vector<[32mint[m> order; 
            [32mbool[m prev = [31mtrue[m;
            
            
            
            order = cmds_order(token);
            [33mif[m ( !(order.empty() ))[85;122H2[41;2H    [32mint[m f=[31m0[m;[41;13H[K[85;122H1[41;1H[85;1H[K[41;1H[85;118H391,1[9C87%[41;1H[85;118H[K[85;1H:wq"src/rshell.cpp" 483L, 10995C written
[?1l>[2J[?47l8[s%%%%%%%%%%[u[0;32mmonti004[0;36m@[0;32mcs100[0;36m:[0;32m~/rshell[0;95m ((hw2)) [0;36m$[0m vim src/rshell.cppalgrind bin/rshellmake[K
g++ -Wall -Werror -ansi -pedantic -o   bin/rshell src/rshell.cpp
g++ -Wall -Werror -ansi -pedantic -o bin/ls src/ls.cpp
[s%%%%%%%%%%[u[0;32mmonti004[0;36m@[0;32mcs100[0;36m:[0;32m~/rshell[0;95m ((hw2)) [0;36m$[0m makevim src/rshell.cppalgrind bin/rshell
==24044== Memcheck, a memory error detector
==24044== Copyright (C) 2002-2012, and GNU GPL'd, by Julian Seward et al.
==24044== Using Valgrind-3.8.1 and LibVEX; rerun with -h for copyright info
==24044== Command: bin/rshell
==24044== 
$ cat<Makefile
CC = g++
FLAGS = -Wall -Werror -ansi -pedantic

all:|bin 
	$(CC) $(FLAGS) -o   bin/rshell src/rshell.cpp
	$(CC) $(FLAGS) -o bin/ls src/ls.cpp


rshell: |bin
	$(CC) -o bin/rshell src/rshell.cpp
ls: |bin
	$(CC) -o bin/ls src/ls.cpp

bin: 
	mkdir bin

clean: 
	rm -rf bin


==24044== Conditional jump or move depends on uninitialised value(s)
==24044==    at 0x4021E2: run_exec(char*, int) (in /class/classes/monti004/rshell/bin/rshell)
==24044==    by 0x402559: main (in /class/classes/monti004/rshell/bin/rshell)
==24044== 
$ exit
==24044== 
==24044== HEAP SUMMARY:
==24044==     in use at exit: 29 bytes in 1 blocks
==24044==   total heap usage: 17 allocs, 16 frees, 666 bytes allocated
==24044== 
==24044== LEAK SUMMARY:
==24044==    definitely lost: 0 bytes in 0 blocks
==24044==    indirectly lost: 0 bytes in 0 blocks
==24044==      possibly lost: 29 bytes in 1 blocks
==24044==    still reachable: 0 bytes in 0 blocks
==24044==         suppressed: 0 bytes in 0 blocks
==24044== Rerun with --leak-check=full to see details of leaked memory
==24044== 
==24044== For counts of detected and suppressed errors, rerun with: -v
==24044== Use --track-origins=yes to see where uninitialised values come from
==24044== ERROR SUMMARY: 16 errors from 1 contexts (suppressed: 6 from 6)
[s%%%%%%%%%%[u[0;32mmonti004[0;36m@[0;32mcs100[0;36m:[0;32m~/rshell[0;95m ((hw2)) [0;36m$[0m [K[s%%%%%%%%%%[u[0;32mmonti004[0;36m@[0;32mcs100[0;36m:[0;32m~/rshell[0;95m ((hw2)) [0;36m$[0m [K[s%%%%%%%%%%[u[0;32mmonti004[0;36m@[0;32mcs100[0;36m:[0;32m~/rshell[0;95m ((hw2)) [0;36m$[0m valgrind bin/rshell
==25087== Memcheck, a memory error detector
==25087== Copyright (C) 2002-2012, and GNU GPL'd, by Julian Seward et al.
==25087== Using Valgrind-3.8.1 and LibVEX; rerun with -h for copyright info
==25087== Command: bin/rshell
==25087== 
$ cat<Makefile | tr a-z a_  a A-Z Ma  M output.txt
tr: extra operand `output.txt'
Try `tr --help' for more information.
CC = g++
FLAGS = -Wall -Werror -ansi -pedantic

all:|bin 
	$(CC) $(FLAGS) -o   bin/rshell src/rshell.cpp
	$(CC) $(FLAGS) -o bin/ls src/ls.cpp


rshell: |bin
	$(CC) -o bin/rshell src/rshell.cpp
ls: |bin
	$(CC) -o bin/ls src/ls.cpp

bin: 
	mkdir bin

clean: 
	rm -rf bin


==25087== Conditional jump or move depends on uninitialised value(s)
==25087==    at 0x4021E2: run_exec(char*, int) (in /class/classes/monti004/rshell/bin/rshell)
==25087==    by 0x402559: main (in /class/classes/monti004/rshell/bin/rshell)
==25087== 
$ exit
==25087== 
==25087== HEAP SUMMARY:
==25087==     in use at exit: 29 bytes in 1 blocks
==25087==   total heap usage: 28 allocs, 27 frees, 4,844 bytes allocated
==25087== 
==25087== LEAK SUMMARY:
==25087==    definitely lost: 0 bytes in 0 blocks
==25087==    indirectly lost: 0 bytes in 0 blocks
==25087==      possibly lost: 29 bytes in 1 blocks
==25087==    still reachable: 0 bytes in 0 blocks
==25087==         suppressed: 0 bytes in 0 blocks
==25087== Rerun with --leak-check=full to see details of leaked memory
==25087== 
==25087== For counts of detected and suppressed errors, rerun with: -v
==25087== Use --track-origins=yes to see where uninitialised values come from
==25087== ERROR SUMMARY: 64 errors from 1 contexts (suppressed: 6 from 6)
[s%%%%%%%%%%[u[0;32mmonti004[0;36m@[0;32mcs100[0;36m:[0;32m~/rshell[0;95m ((hw2)) [0;36m$[0m vim src/[K/rshell.cpp
7[?47h[?1h=[1;85r[m[H[2J[85;1H"src/rshell.cpp" 483L, 10995C[>c[1;4H cmd[i] = [35m'\0'[m;
    [32mint[m status;
    [34m//this will run if there are <,>,>> in the command[m
    [34m//then we wil check to pipes and execute i/o redirection and piping within this loop[m
    [33mif[m( pipes(cmd) == [31mtrue[m )
    {
[34m//        cerr<<"FOUND PIPE"<<endl;[m[8;8H [34m//now i have to separate the arguments in the pipe[m[9;8H find_pipes(cmd);
    }
    [34m//all other regular commands will be ran through this loop[m
    [33melse[m
    {[14;8H status = [31m1[m;
[34m//        cerr<<"no pipe"<<endl;[m[16;8H [32mint[m pid = fork();[17;8H [33mif[m(pid == -[31m1[m)[18;8H {[19;12H perror([31m"fork fail"[m);[20;12H exit([31m1[m);[21;8H }[22;8H [33melse[m [33mif[m(pid == [31m0[m)[23;8H {[24;12H [34m//this will check for i/o redirection[m[25;12H check_dup(cmd);[27;12H [33mif[m (execvp(cmd[[31m0[m], cmd) !=[31m0[m )[28;12H {[29;16H perror([31m"error in execvp"[m);[30;16H exit([31m1[m);[31;12H }[32;8H }[33;8H [34m//else[m[34;8H [34m//{[m[35;12H [33mif[m (wait(&status) == -[31m1[m)[36;12H {[37;16H perror([31m"error in wait"[m);[38;16H exit([31m1[m);[39;12H }[40;7H [34m//}[m
    }
    [32mint[m f=[31m0[m;
    [33mwhile[m( f < count+[31m1[m)
    {[45;8H [33mdelete[m[] cmd[f];[46;8H f++;
    }
    [33mdelete[m[] cmd;
    [33mreturn[m status;
    [34m//this returns 0 if the execvp ran succesfully[m
}

[32mint[m main([32mint[m argc, [32mchar[m **argv)
{
    [33mwhile[m([31m1[m)
    {[57;8H cerr<<[31m"$ "[m;[59;8H string command_line;[61;8H getline(cin, command_line);[63;8H [33mif[m ( command_line.find([31m"exit"[m) != string::npos)[64;12H exit([31m0[m);
[34m//        cerr<<command_line<<endl;[m[66;8H [34m//this will make sure there is spaces before and after i/o redirection[m[67;8H check_spaces(command_line);
[34m//        cerr<<command_line<<endl;[m[69;8H [32mchar[m *commands = [33mnew[m [32mchar[m[command_line.length()+[31m1[m];[70;8H strcpy(commands, command_line.c_str());[72;8H [32mchar[m *token,*save;[74;8H token = strtok_r(commands,[31m"#"[m,&save);[75;8H token = strtok_r(commands,[31m";"[m,&save);[77;8H [33mwhile[m(token!= [31mNULL[m)[78;8H {[79;12H vector<[32mint[m> order;[80;12H [32mbool[m prev = [31mtrue[m;[81;12H [34m//i count the number of conditions and label & with 1 and | with 2[m[82;12H [34m//this will also change || to & to make tokenizing easier when adding pipping.[m[83;12H [34m//both && and || will be & but the order they appeared as initially will be in the vector[m[84;12H order = cmds_order(token);[85;118H391,5[9C87%[42;5HP+q436f\P+q6b75\P+q6b64\P+q6b72\P+q6b6c\P+q2332\P+q2334\P+q2569\P+q2a37\P+q6b31\[13;5H[46m{[41;5H}[m[85;120H0[41;5H[13;5H{[41;5H}[85;119H89[40;5H[85;120H8[39;5H[85;120H7[38;5H[85;120H6[37;5H[85;120H5[36;5H[85;120H4[35;5H[85;120H3[34;5H[85;120H2[33;5H[85;120H1[32;5H[85;120H0[31;5H[85;119H79[30;5H[85;120H8[29;5H[85;120H7[28;5H[85;120H6[27;5H[85;120H5,0-1[26;1H[85;120H4,5  [25;5H[85;120H3[24;5H[85;120H2[23;5H[85;120H1[22;5H[85;120H0[21;5H[85;119H69[20;5H[85;120H8[19;5H[85;120H7[18;5H[85;120H6[17;5H[85;120H5[16;5H[85;120H4[15;5H[85;120H3[14;5H[13;5H[46m{[41;5H}[m[85;120H2[13;5H{[41;5H}[85;120H1[12;5H[85;120H0[11;5H[6;5H[46m{[10;5H}[m[85;119H59[10;5H[6;5H{[10;5H}[85;120H8[9;5H[85;120H7[8;5H[85;120H6[7;5H[6;5H[46m{[10;5H}[m[85;120H5[6;5H{[10;5H}[85;120H4[5;5H[85;120H3[4;5H[85;120H2[3;5H[85;120H1[2;5H[85;120H0[1;5H[1;84r[1;1H[L[1;85r[1;4H }[85;1H[K[85;118H349,5[9C87%[1;5H[1;84r[1;1H[L[1;85r[1;8H i++;[85;118H[K[85;118H348,5[9C86%[1;5H[1;84r[1;1H[L[1;85r[1;8H strcpy(cmd[i], x );[85;118H[K[85;118H347,5[9C86%[1;5H[1;84r[1;1H[L[1;85r[1;8H cmd[i] = [33mnew[m [32mchar[m[word.size()+[31m1[m];[85;118H[K[85;118H346,5[9C86%[1;5H[1;84r[1;1H[L[1;85r[1;8H [32mconst[m [32mchar[m *x = word.c_str();[85;118H[K[85;118H345,5[9C86%[1;5H[1;84r[1;1H[L[1;85r[1;4H [46m{[6;5H}[m[85;118H[K[85;118H344,5[9C85%[1;5H[1;84r[1;1H[L[1;85r[1;4H [33mwhile[m(iss >>word)
    {[7;5H}[85;118H[K[85;118H343,5[9C85%[1;5H[1;84r[1;1H[L[1;85r[1;4H [32mint[m i=[31m0[m;[85;118H[K[85;118H342,5[9C85%[1;5H[1;84r[1;1H[L[1;85r[1;4H istringstream iss(c);[85;118H[K[85;118H341,5[9C85%[1;5H[1;84r[1;1H[L[1;85r[1;1H[34m//    cerr<<word<<endl;[m[85;118H[K[85;118H340,5[9C84%[1;5H[1;84r[1;1H[L[1;85r[1;4H string word = string(c);[85;118H[K[85;118H339,5[9C84%[1;5H[1;84r[1;1H[L[1;85r[85;118H[K[85;118H338,0-1[7C84%[1;1H[1;84r[1;1H[L[1;85r[1;4H [32mchar[m **cmd = [33mnew[m [32mchar[m*[count+[31m1[m];[85;118H[K[85;118H337,5[9C84%[1;5H[1;84r[1;1H[L[1;85r[1;1H[46m{[65;1H}[m[85;118H[K[85;118H336,1[9C83%[1;1H[1;84r[1;1H[L[1;85r[1;1H[32mint[m  run_exec( [32mchar[m *c, [32mint[m count)
{[66;1H}[85;118H[K[85;118H335,5[9C83%[1;5H[1;84r[1;1H[L[1;85r[1;1H[34m//this fxm will run the commands passed in as char *c[m[85;118H[K[85;118H334,5[9C83%[1;5H[1;84r[1;1H[L[1;85r[1;1H}[85;118H[K[85;118H333,1[9C83%[1;1H[1;84r[1;1H[L[1;85r[1;4H [33mreturn[m v;[85;118H[K[85;118H332,5[9C82%[1;5H[1;84r[1;1H[L[1;85r[1;4H [34m//c[i] = '\0';[m[85;118H[K[85;118H331,5[9C82%[1;5H[1;84r[1;1H[L[1;85r[1;4H }[85;118H[K[85;118H330,5[9C82%[1;5H[1;84r[1;1H[L[1;85r[1;12H i++;[85;118H[K[85;118H329,5[9C82%[1;5H[1;84r[1;1H[L[1;85r[1;8H [33melse[m[85;118H[K[85;118H328,5[9C81%[1;5H[1;84r[1;1H[L[1;85r[1;12H }[85;118H[K[85;118H327,5[9C81%[1;5H[1;84r[1;1H[L[1;85r[1;16H i = i+[31m2[m;[85;118H[K[85;118H326,5[9C81%[1;5H[1;84r[1;1H[L[1;85r[1;16H c[i+[31m1[m] = [31m' '[m;[85;118H[K[85;118H325,5[9C81%[1;5H[1;84r[1;1H[L[1;85r[1;16H c[i] = [31m'&'[m;[85;118H[K[85;118H324,5[9C80%[1;5H[1;84r[1;1H[L[1;85r[1;16H v.push_back([31m2[m);[85;118H[K[85;118H323,5[9C80%[1;5H[1;84r[1;1H[L[1;85r[1;12H {[85;118H[K[85;118H322,5[9C80%[1;5H[1;84r[1;1H[L[1;85r[1;8H [33mif[m ((c[i] ==[31m'|'[m)&&(c[i+[31m1[m] ==[31m'|'[m))[85;118H[K[85;118H321,5[9C80%[1;5H[1;84r[1;1H[L[1;85r[1;12H }[85;118H[K[85;118H320,5[9C79%[1;5H[1;84r[1;1H[L[1;85r[1;16H i = i+[31m2[m;[85;118H[K[85;118H319,5[9C79%[1;5H[1;84r[1;1H[L[1;85r[1;16H c[i+[31m1[m] = [31m' '[m;[85;118H[K[85;118H318,5[9C79%[1;5H[1;84r[1;1H[L[1;85r[1;16H v.push_back([31m1[m);[85;118H[K[85;118H317,5[9C79%[1;5H[1;84r[1;1H[L[1;85r[1;12H {[85;118H[K[85;118H316,5[9C78%[1;5H[1;84r[1;1H[L[1;85r[1;8H [33mif[m ((c[i] ==[31m'&'[m)&&(c[i+[31m1[m]==[31m'&'[m))[85;118H[K[85;118H315,5[9C78%[1;5H[1;84r[1;1H[L[1;85r[1;4H [46m{[17;5H}[m[85;118H[K[85;118H314,5[9C78%[1;5H[1;84r[1;1H[L[1;85r[1;4H [33mwhile[m(c[i] != [35m'\0'[m)
    {[18;5H}[85;118H[K[85;118H313,5[9C78%[1;5H[1;84r[1;1H[L[1;85r[1;4H [32mint[m i=[31m0[m;[85;118H[K[85;118H312,5[9C77%[1;5H[1;84r[1;1H[L[1;85r[1;4H vector<[32mint[m> v;[85;118H[K[85;118H311,5[9C77%[1;5H[1;84r[1;1H[L[1;85r[1;1H[46m{[24;1H}[m[85;118H[K[85;118H310,1[9C77%[1;1H[1;84r[1;1H[L[1;85r[1;1Hvector<[32mint[m> cmds_order([32mchar[m *c)
{[25;1H}[85;118H[K[85;118H309,5[9C77%[1;5H[1;84r[1;1H[L[1;85r[85;118H[K[85;118H308,0-1[7C76%[1;1H[1;84r[1;1H[L[1;85r[1;1H[34m//this fxn counts the number of & and | and pushes them back in order[m[85;118H[K[85;118H307,5[9C76%[1;5H[1;84r[1;1H[L[1;85r[1;1H}[85;118H[K[85;118H306,1[9C76%[1;1H[1;84r[1;1H[L[1;85r[1;4H [33mreturn[m count+[31m1[m;[85;118H[K[85;118H305,5[9C76%[1;5H[1;84r[1;1H[L[1;85r[1;4H }[85;118H[K[85;118H304,5[9C75%[1;5H[1;84r[1;1H[L[1;85r[1;8H i++;[85;118H[K[85;118H303,5[9C75%[1;5H[1;84r[1;1H[L[1;85r[1;8H }[85;118H[K[85;118H302,5[9C75%[1;5H[1;84r[1;1H[L[1;85r[1;12H count++;[85;118H[K[85;118H301,5[9C75%[1;5H[1;84r[1;1H[L[1;85r[1;8H {[85;118H[K[85;118H300,5[9C74%[1;5H[1;84r[1;1H[L[1;85r[1;8H [33mif[m(c[i] == [31m' '[m)[85;118H[K[85;118H299,5[9C74%[1;5H[1;84r[1;1H[L[1;85r[1;4H [46m{[7;5H}[m[85;118H[K[85;118H298,5[9C74%[1;5H[1;84r[1;1H[L[1;85r[1;4H [33mwhile[m(c[i] != [35m'\0'[m)
    {[8;5H}[85;118H[K[85;118H297,5[9C74%[1;5H[1;84r[1;1H[L[1;85r[1;4H [32mint[m i=[31m0[m;[85;118H[K[85;118H296,5[9C73%[1;5H[1;84r[1;1H[L[1;85r[1;4H [32mint[m count =[31m0[m;[85;118H[K[85;118H295,5[9C73%[1;5H[1;84r[1;1H[L[1;85r[1;1H[46m{[13;1H}[m[85;118H[K[85;118H294,1[9C73%[1;1H[1;84r[1;1H[L[1;85r[1;1H[32mint[m num_tokens( [32mchar[m *c)
{[14;1H}[85;118H[K[85;118H293,5[9C73%[1;5H[1;84r[1;1H[L[1;85r[85;118H[K[85;118H292,0-1[7C72%[1;1H[1;84r[1;1H[L[1;85r[1;1H}[85;118H[K[85;118H291,1[9C72%[1;1H[1;84r[1;1H[L[1;85r[1;4H }[85;118H[K[85;118H290,5[9C72%[1;5H[1;84r[1;1H[L[1;85r[1;8H i++;[85;118H[K[85;118H289,5[9C72%[1;5H[1;84r[1;1H[L[1;85r[1;8H }[85;118H[K[85;118H288,5[9C71%[1;5H[1;84r[1;1H[L[1;85r[1;12H }[85;118H[K[85;118H287,5[9C71%[1;5H[1;84r[1;1H[L[1;85r[1;16H s.insert(i , [31m" "[m);[85;118H[K[85;118H286,5[9C71%[1;5H[1;84r[1;1H[L[1;85r[1;16H s.insert(i+[31m1[m , [31m" "[m);[85;118H[K[85;118H285,5[9C71%[1;5H[1;84r[1;1H[L[1;85r[1;12H {[85;118H[K[85;118H284,5[9C70%[1;5H[1;84r[1;1H[L[1;85r[1;12H [33melse[m[85;118H[K[85;118H283,5[9C70%[1;5H[1;84r[1;1H[L[1;85r[1;12H }[85;118H[K[85;118H282,5[9C70%[1;5H[1;84r[1;1H[L[1;85r[1;16H s.insert(i , [31m" "[m);[85;118H[K[85;118H281,5[9C70%[1;5H[1;84r[1;1H[L[1;85r[1;16H s.insert(i+[31m2[m , [31m" "[m);[85;118H[K[85;118H280,5[9C69%[1;5H[1;84r[1;1H[L[1;85r[1;12H {[85;118H[K[85;118H279,5[9C69%[1;5H[1;84r[1;1H[L[1;85r[1;12H [33mif[m (s[i+[31m1[m] == [31m'>'[m)[85;118H[K[85;118H278,5[9C69%[1;5H[1;84r[1;1H[L[1;85r[1;8H {[85;118H[K[85;118H277,5[9C69%[1;5H[1;84r[1;1H[L[1;85r[1;8H [33melse[m [33mif[m (s[i] == [31m'>'[m)[85;118H[K[85;118H276,5[9C68%[1;5H[1;84r[1;1H[L[1;85r[1;8H }[85;118H[K[85;118H275,5[9C68%[1;5H[1;84r[1;1H[L[1;85r[85;118H[K[85;118H274,0-1[7C68%[1;1H[1;84r[1;1H[L[1;85r[1;12H s.insert(i , [31m" "[m);[85;118H[K[85;118H273,5[9C68%[1;5H[1;84r[1;1H[L[1;85r[1;12H s.insert(i+[31m1[m , [31m" "[m);[85;118H[K[85;118H272,5[9C67%[1;5H[1;84r[1;1H[L[1;85r[1;8H {[85;118H[K[85;118H271,5[9C67%[1;5H[1;84r[1;1H[L[1;85r[1;8H [33melse[m [33mif[m (s[i] == [31m'|'[m)[85;118H[K[85;118H270,5[9C67%[1;5H[1;84r[1;1H[L[1;85r[1;8H }[85;118H[K[85;118H269,5[9C67%[1;5H[1;84r[1;1H[L[1;85r[1;12H s.insert(i , [31m" "[m);[85;118H[K[85;118H268,5[9C66%[1;5H[1;84r[1;1H[L[1;85r[1;12H s.insert(i+[31m1[m , [31m" "[m);[85;118H[K[85;118H267,5[9C66%[1;5H[1;84r[1;1H[L[1;85r[1;8H {[85;118H[K[85;118H266,5[9C66%[1;5H[1;84r[1;1H[L[1;85r[1;8H [33mif[m (s[i] == [31m'<'[m)[85;118H[K[85;118H265,5[9C66%[1;5H[1;84r[1;1H[L[1;85r[1;4H [46m{[27;5H}[m[85;118H[K[85;118H264,5[9C65%[1;5H[1;84r[1;1H[L[1;85r[1;4H [33mwhile[m ( i < size  )
    {[28;5H}[85;118H[K[85;118H263,5[9C65%[1;5H[1;84r[1;1H[L[1;85r[1;4H [32mint[m i=[31m0[m;[85;118H[K[85;118H262,5[9C65%[1;5H[1;84r[1;1H[L[1;85r[1;4H [32mint[m size = s.size();[85;118H[K[85;118H261,5[9C65%[1;5H[1;84r[1;1H[L[1;85r[1;1H[46m{[32;1H}[m[85;118H[K[85;118H260,1[9C64%[1;1H[1;84r[1;1H[L[1;85r[1;1H[32mvoid[m check_spaces(string &s)
{[33;1H}[85;118H[K[85;118H259,5[9C64%[1;5H[1;84r[1;1H[L[1;85r[85;118H[K[85;118H258,0-1[7C64%[1;1H[1;84r[1;1H[L[1;85r[1;1H}[85;118H[K[85;118H257,1[9C64%[1;1H[1;84r[1;1H[L[1;85r[1;1H[34m//    return status;[m[85;118H[K[85;118H256,5[9C63%[1;5H[1;84r[1;1H[L[1;85r[85;118H[K[85;118H255,0-1[7C63%[1;1H[1;84r[1;1H[L[1;85r[85;118H[K[85;118H254,0-1[7C63%[1;1H[1;84r[1;1H[L[1;85r[1;4H [33mdelete[m[] b;[85;118H[K[85;118H253,5[9C63%[1;5H[1;84r[1;1H[L[1;85r[1;1H[34m    }*/[m[85;118H[K[85;118H252,5[9C62%[1;5H[1;84r[1;1H[L[1;85r[1;1H[34m        ff++;[m[85;118H[K[85;118H251,5[9C62%[1;5H[1;84r[1;1H[L[1;85r[1;1H[34m        delete[] b[ff];[m[85;118H[K[85;118H250,5[9C62%[1;5H[1;84r[1;1H[L[1;85r[1;1H[34m    [m[34m[46m{[4;5H}[m[85;118H[K[85;118H249,5[9C62%[1;5H[1;84r[1;1H[L[1;85r[1;1H[34m    while( ff < 100)
    {[5;5H}[m[85;118H[K[85;118H248,5[9C61%[1;5H[1;84r[1;1H[L[1;85r[1;1H[34m/*    int ff=0;[m[85;118H[K[85;118H247,5[9C61%[1;5H[1;84r[1;1H[L[1;85r[1;4H [33mdelete[m[] a;[85;118H[K[85;118H246,5[9C61%[1;5H[1;84r[1;1H[L[1;85r[1;1H[34m    }*/[m[85;118H[K[85;118H245,5[9C61%[1;5H[1;84r[1;1H[L[1;85r[1;1H[34m        f++;[m[85;118H[K[85;118H244,5[9C60%[1;5H[1;84r[1;1H[L[1;85r[1;1H[34m        delete[] a[f];[m[85;118H[K[85;118H243,5[9C60%[1;5H[1;84r[1;1H[L[1;85r[1;1H[34m    [m[34m[46m{[4;5H}[m[85;118H[K[85;118H242,5[9C60%[1;5H[1;84r[1;1H[L[1;85r[1;1H[34m    while( f < 100)
    {[5;5H}[m[85;118H[K[85;118H241,5[9C60%[1;5H[1;84r[1;1H[L[1;85r[1;1H[34m/*    int f=0;[m[85;118H[K[85;118H240,5[9C59%[1;5H[1;84r[1;1H[L[1;85r[85;118H[K[85;118H239,0-1[7C59%[1;1H[1;84r[1;1H[L[1;85r[85;118H[K[85;118H238,0-1[7C59%[1;1H[1;84r[1;1H[L[1;85r[1;4H }[85;118H[K[85;118H237,5[9C59%[1;5H[1;84r[1;1H[L[1;85r[1;8H }[85;118H[K[85;118H236,5[9C58%[1;5H[1;84r[1;1H[L[1;85r[1;12H exit([31m1[m);[85;118H[K[85;118H235,5[9C58%[1;5H[1;84r[1;1H[L[1;85r[1;12H perror([31m"error in wait"[m);[85;118H[K[85;118H234,5[9C58%[1;5H[1;84r[1;1H[L[1;85r[1;8H {[85;118H[K[85;118H233,5[9C58%[1;5H[1;84r[1;1H[L[1;85r[1;8H [33mif[m (wait(&status) == -[31m1[m)[85;118H[K[85;118H232,5[9C57%[1;5H[1;84r[1;1H[L[1;85r[1;4H [46m{[7;5H}[m[85;118H[K[85;118H231,5[9C57%[1;5H[1;84r[1;1H[L[1;85r[1;4H [33melse[m
    {[8;5H}[85;118H[K[85;118H230,5[9C57%[1;5H[1;84r[1;1H[L[1;85r[1;4H }[85;118H[K[85;118H229,5[9C57%[1;5H[1;84r[1;1H[L[1;85r[1;8H }[85;118H[K[85;118H228,5[9C56%[1;5H[1;84r[1;1H[L[1;85r[1;12H exit([31m1[m);[85;118H[K[85;118H227,5[9C56%[1;5H[1;84r[1;1H[L[1;85r[1;12H perror([31m"error in execvp"[m);[85;118H[K[85;118H226,5[9C56%[1;5H[1;84r[1;1H[L[1;85r[1;8H {[85;118H[K[85;118H225,5[9C56%[1;5H[1;84r[1;1H[L[1;85r[1;8H [33mif[m (execvp(c[[31m0[m], c) !=[31m0[m )[85;118H[K[85;118H224,5[9C55%[1;5H[1;84r[1;1H[L[1;85r[85;118H[K[85;118H223,0-1[7C55%[1;1H[1;84r[1;1H[L[1;85r[1;8H check_dup(c);[85;118H[K[85;118H222,5[9C55%[1;5H[1;84r[1;1H[L[1;85r[1;8H [34m//this will check for i/o redirection[m[85;118H[K[85;118H221,5[9C55%[1;5H[1;84r[1;1H[L[1;85r[1;4H [46m{[10;5H}[m[85;118H[K[85;118H220,5[9C54%[1;5H[1;84r[1;1H[L[1;85r[1;4H [33melse[m [33mif[m(pid == [31m0[m)
    {[11;5H}[85;118H[K[85;118H219,5[9C54%[1;5H[1;84r[1;1H[L[1;85r[1;4H }[85;118H[K[85;118H218,5[9C54%[1;5H[1;84r[1;1H[L[1;85r[1;8H exit([31m1[m);[85;118H[K[85;118H217,5[9C54%[1;5H[1;84r[1;1H[L[1;85r[1;8H perror([31m"fork fail"[m);[85;118H[K[85;118H216,5[9C53%[1;5H[1;84r[1;1H[L[1;85r[1;4H [46m{[4;5H}[m[85;118H[K[85;118H215,5[9C53%[1;5H[1;84r[1;1H[L[1;85r[1;4H [33mif[m(pid == -[31m1[m)
    {[5;5H}[85;118H[K[85;118H214,5[9C53%[1;5H[1;84r[1;1H[L[1;85r[1;4H [32mint[m pid = fork();[85;118H[K[85;118H213,5[9C53%[1;5H[1;84r[1;1H[L[1;85r[85;118H[K[85;118H212,0-1[7C52%[1;1H[1;84r[1;1H[L[1;85r[1;4H [34m//if there are no more pipes to go through then the find_pipes fxm wil end[m[85;118H[K[85;118H211,5[9C52%[1;5H[1;84r[1;1H[L[1;85r[85;118H[K[85;118H210,5[9C52%[1;5H[1;84r[1;1H[L[1;85r[1;4H }[85;118H[K[85;118H209,5[9C52%[1;5H[1;84r[1;1H[L[1;85r[1;1H[34m*/[m[85;118H[K[85;118H208,2[9C51%[1;2H[1;84r[1;1H[L[1;85r[1;1H[34m    find_pipes(b);[m[85;118H[K[85;118H207,5[9C51%[1;5H[1;84r[1;1H[L[1;85r[1;1H[34m       //}[m[85;118H[K[85;118H206,5[9C51%[1;5H[1;84r[1;1H[L[1;85r[1;1H[34m            }[m[85;118H[K[85;118H205,5[9C51%[1;5H[1;84r[1;1H[L[1;85r[1;1H[34m                exit(1);[m[85;118H[K[85;118H204,5[9C50%[1;5H[1;84r[1;1H[L[1;85r[1;1H[34m                perror("error in wait");[m[85;118H[K[85;118H203,5[9C50%[1;5H[1;84r[1;1H[L[1;85r[1;1H[34m            {[m[85;118H[K[85;118H202,5[9C50%[1;5H[1;84r[1;1H[L[1;85r[1;1H[34m            if (wait(&status) == -1)[m[85;118H[K[85;118H201,5[9C50%[1;5H[1;84r[1;1H[L[1;85r[1;1H[34m        //{[m[85;118H[K[85;118H200,5[9C49%[1;5H[1;84r[1;1H[L[1;85r[1;1H[34m        //else[m[85;118H[K[85;118H199,5[9C49%[1;5H[1;84r[1;1H[L[1;85r[1;1H[34m        }[m[85;118H[K[85;118H198,5[9C49%[1;5H[1;84r[1;1H[L[1;85r[1;1H[34m            }[m[85;118H[K[85;118H197,5[9C49%[1;5H[1;84r[1;1H[L[1;85r[1;1H[34m                exit(1);[m[85;118H[K[85;118H196,5[9C48%[1;5H[1;84r[1;1H[L[1;85r[1;1H[34m                perror("error in execvp");[m[85;118H[K[85;118H195,5[9C48%[1;5H[1;84r[1;1H[L[1;85r[1;1H[34m            {[m[85;118H[K[85;118H194,5[9C48%[1;5H[1;84r[1;1H[L[1;85r[1;1H[34m            if (execvp(a[0], a) !=0 )[m[85;118H[K[85;118H193,5[9C48%[1;5H[1;84r[1;1H[L[1;85r[85;118H[K[85;118H192,0-1[7C47%[1;1H[1;84r[1;1H[L[1;85r[1;1H[34m            check_dup(a);[m[85;118H[K[85;118H191,5[9C47%[1;5H[1;84r[1;1H[L[1;85r[1;1H[34m            //this will check for i/o redirection[m[85;118H[K[85;118H190,5[9C47%[1;5H[1;84r[1;1H[L[1;85r[1;1H[34m        {[m[85;118H[K[85;118H189,5[9C47%[1;5H[1;84r[1;1H[L[1;85r[1;1H[34m        else if(pid == 0)[m[85;118H[K[85;118H188,5[9C46%[1;5H[1;84r[1;1H[L[1;85r[1;1H[34m        }[m[85;118H[K[85;118H187,5[9C46%[1;5H[1;84r[1;1H[L[1;85r[1;1H[34m            exit(1);[m[85;118H[K[85;118H186,5[9C46%[1;5H[1;84r[1;1H[L[1;85r[1;1H[34m            perror("fork fail");[m[85;118H[K[85;118H185,5[9C46%[1;5H[1;84r[1;1H[L[1;85r[1;1H[34m        {[m[85;118H[K[85;118H184,5[9C45%[1;5H[1;84r[1;1H[L[1;85r[1;1H[34m        if(pid == -1)[m[85;118H[K[85;118H183,5[9C45%[1;5H[1;84r[1;1H[L[1;85r[1;1H[34m        int pid = fork();[m[85;118H[K[85;118H182,5[9C45%[1;5H[1;84r[1;1H[L[1;85r[1;1H[34m        status = 1;[m[85;118H[K[85;118H181,5[9C45%[1;5H[1;84r[1;1H[L[1;85r[1;1H[34m/*       [m[85;118H[K[85;118H180,5[9C44%[1;5H[1;84r[1;1H[L[1;85r[1;8H dup2(savestdin, [31m0[m);[85;118H[K[85;118H179,5[9C44%[1;5H[1;84r[1;1H[L[1;85r[1;8H find_pipes(b);[85;118H[K[85;118H178,5[9C44%[1;5H[1;84r[1;1H[L[1;85r[1;8H [34m//we need to check that the rest of c does not have any pipes[m[85;118H[K[85;118H177,5[9C44%[1;5H[1;84r[1;1H[L[1;85r[85;118H[K[85;118H176,0-1[7C43%[1;1H[1;84r[1;1H[L[1;85r[1;8H }[85;118H[K[85;118H175,5[9C43%[1;5H[1;84r[1;1H[L[1;85r[1;12H exit([31m1[m);[85;118H[K[85;118H174,5[9C43%[1;5H[1;84r[1;1H[L[1;85r[1;12H perror([31m"error in wait()"[m);[85;118H[K[85;118H173,5[9C43%[1;5H[1;84r[1;1H[L[1;85r[1;8H {[85;118H[K[85;118H172,5[9C42%[1;5H[1;84r[1;1H[L[1;85r[1;8H [33mif[m (wait(&status) == -[31m1[m)[85;118H[K[85;118H171,5[9C42%[1;5H[1;84r[1;1H[L[1;85r[1;8H }[85;118H[K[85;118H170,5[9C42%[1;5H[1;84r[1;1H[L[1;85r[1;12H exit([31m1[m);[85;118H[K[85;118H169,5[9C42%[1;5H[1;84r[1;1H[L[1;85r[1;12H perror([31m"error with close"[m);[85;118H[K[85;118H168,5[9C41%[1;5H[1;84r[1;1H[L[1;85r[1;8H {[85;118H[K[85;118H167,5[9C41%[1;5H[1;84r[1;1H[L[1;85r[1;8H [33mif[m( close(fd[[31m1[m]) == -[31m1[m)[85;118H[K[85;118H166,5[9C41%[1;5H[1;84r[1;1H[L[1;85r[1;8H }[85;118H[K[85;118H165,5[9C41%[1;5H[1;84r[1;1H[L[1;85r[1;12H exit([31m1[m);[85;118H[K[85;118H164,5[9C40%[1;5H[1;84r[1;1H[L[1;85r[1;12H perror([31m"error with dup2"[m);[85;118H[K[85;118H163,5[9C40%[1;5H[1;84r[1;1H[L[1;85r[1;8H {[85;118H[K[85;118H162,5[9C40%[1;5H[1;84r[1;1H[L[1;85r[1;8H [33mif[m( dup2(fd[[31m0[m],[31m0[m) == -[31m1[m)[85;118H[K[85;118H161,5[9C40%[1;5H[1;84r[1;1H[L[1;85r[1;8H }[85;118H[K[85;118H160,5[9C39%[1;5H[1;84r[1;1H[L[1;85r[1;12H exit([31m1[m);[85;118H[K[85;118H159,5[9C39%[1;5H[1;84r[1;1H[L[1;85r[1;12H perror([31m"error with dup"[m);[85;118H[K[85;118H158,5[9C39%[1;5H[1;84r[1;1H[L[1;85r[1;8H {[85;118H[K[85;118H157,5[9C39%[1;5H[1;84r[1;1H[L[1;85r[1;8H [33mif[m( savestdin == -[31m1[m)[85;118H[K[85;118H156,5[9C38%[1;5H[1;84r[1;1H[L[1;85r[1;8H savestdin = dup([31m0[m);[85;118H[K[85;118H155,5[9C38%[1;5H[1;84r[1;1H[L[1;85r[1;8H [32mint[m savestdin;[85;118H[K[85;118H154,5[9C38%[1;5H[1;84r[1;1H[L[1;85r[85;118H[K[85;118H153,5[9C38%[1;5H[1;84r[1;1H[L[1;85r[1;8H }[85;118H[K[85;118H152,5[9C37%[1;5H[1;84r[1;1H[L[1;85r[1;12H exit([31m1[m);[85;118H[K[85;118H151,5[9C37%[1;5H[1;84r[1;1H[L[1;85r[1;12H }[85;118H[K[85;118H150,5[9C37%[1;5H[1;84r[1;1H[L[1;85r[1;16H exit([31m1[m);[85;118H[K[85;118H149,5[9C37%[1;5H[1;84r[1;1H[L[1;85r[1;16H perror([31m"error in execvp"[m);[85;118H[K[85;118H148,5[9C36%[1;5H[1;84r[1;1H[L[1;85r[1;12H {[85;118H[K[85;118H147,5[9C36%[1;5H[1;84r[1;1H[L[1;85r[1;12H [33mif[m( execvp( a[[31m0[m], a) == -[31m1[m)[85;118H[K[85;118H146,5[9C36%[1;5H[1;84r[1;1H[L[1;85r[1;12H check_dup(a);[85;118H[K[85;118H145,5[9C36%[1;5H[1;84r[1;1H[L[1;85r[1;12H }[85;118H[K[85;118H144,5[9C35%[1;5H[1;84r[1;1H[L[1;85r[1;16H exit([31m1[m);[85;118H[K[85;118H143,5[9C35%[1;5H[1;84r[1;1H[L[1;85r[1;16H perror([31m"error with close"[m);[85;118H[K[85;118H142,5[9C35%[1;5H[1;84r[1;1H[L[1;85r[1;12H {[85;118H[K[85;118H141,5[9C35%[1;5H[1;84r[1;1H[L[1;85r[1;12H [33mif[m( close(fd[[31m0[m]) == -[31m1[m)[85;118H[K[85;118H140,5[9C34%[1;5H[1;84r[1;1H[L[1;85r[1;12H }[85;118H[K[85;118H139,5[9C34%[1;5H[1;84r[1;1H[L[1;85r[1;16H exit([31m1[m);[85;118H[K[85;118H138,5[9C34%[1;5H[1;84r[1;1H[L[1;85r[1;16H perror([31m"error with dup2"[m);[85;118H[K[85;118H137,5[9C34%[1;5H[1;84r[1;1H[L[1;85r[1;12H {[85;118H[K[85;118H136,5[9C33%[1;5H[1;84r[1;1H[L[1;85r[1;12H [33mif[m( dup2(fd[[31m1[m], [31m1[m) == -[31m1[m)[85;118H[K[85;118H135,5[9C33%[1;5H[1;84r[1;1H[L[1;85r[1;8H {[85;118H[K[85;118H134,5[9C33%[1;5H[1;84r[1;1H[L[1;85r[1;8H [33melse[m [33mif[m(pid == [31m0[m)[85;118H[K[85;118H133,5[9C33%[1;5H[1;84r[1;1H[L[1;85r[1;8H }[85;118H[K[85;118H132,5[9C32%[1;5H[1;84r[1;1H[L[1;85r[1;12H exit([31m1[m);[85;118H[K[85;118H131,5[9C32%[1;5H[1;84r[1;1H[L[1;85r[1;12H perror([31m"fork fail"[m);[85;118H[K[85;118H130,5[9C32%[1;5H[1;84r[1;1H[L[1;85r[1;8H {[85;118H[K[85;118H129,5[9C32%[1;5H[1;84r[1;1H[L[1;85r[1;8H [33mif[m( pid  == -[31m1[m)[85;118H[K[85;118H128,5[9C31%[1;5H[1;84r[1;1H[L[1;85r[1;8H [32mint[m pid = fork();[85;118H[K[85;118H127,5[9C31%[1;5H[1;84r[1;1H[L[1;85r[1;8H }[85;118H[K[85;118H126,5[9C31%[1;5H[1;84r[1;1H[L[1;85r[1;12H exit([31m1[m);[85;118H[K[85;118H125,5[9C31%[1;5H[1;84r[1;1H[L[1;85r[1;12H perror([31m"pipe fail"[m);[85;118H[K[85;118H124,5[9C30%[1;5H[1;84r[1;1H[L[1;85r[1;8H {[85;118H[K[85;118H123,5[9C30%[1;5H[1;84r[1;1H[L[1;85r[1;8H [33mif[m(pipe(fd) == -[31m1[m )[85;118H[K[85;118H122,5[9C30%[1;5H[1;84r[1;1H[L[1;85r[1;8H [32mint[m fd[[31m2[m];[85;118H[K[85;118H121,5[9C30%[1;5H[1;84r[1;1H[L[1;85r[1;8H [34m//now i will execute the commands with piping[m[85;118H[K[85;118H120,5[9C29%[1;5H[1;84r[1;1H[L[1;85r[85;118H[K[85;118H119,0-1[7C29%[1;1H[1;84r[1;1H[L[1;85r[1;8H b[l] = [35m'\0'[m;[85;118H[K[85;118H118,5[9C29%[1;5H[1;84r[1;1H[L[1;85r[1;8H }[85;118H[K[85;118H117,5[9C29%[1;5H[1;84r[1;1H[L[1;85r[1;12H l++; k++;[85;118H[K[85;118H116,5[9C28%[1;5H[1;84r[1;1H[L[1;85r[1;12H b[l] = c[k];[85;118H[K[85;118H115,5[9C28%[1;5H[1;84r[1;1H[L[1;85r[1;8H {[85;118H[K[85;118H114,5[9C28%[1;5H[1;84r[1;1H[L[1;85r[1;8H [33mwhile[m( c[k] != [35m'\0'[m)[85;118H[K[85;118H113,5[9C28%[1;5H[1;84r[1;1H[L[1;85r[1;8H [32mint[m l = [31m0[m;[85;118H[K[85;118H112,5[9C27%[1;5H[1;84r[1;1H[L[1;85r[1;8H [32mint[m k = pipe_index+[31m1[m;[85;118H[K[85;118H111,5[9C27%[1;5H[1;84r[1;1H[L[1;85r[1;8H a[j] = [35m'\0'[m;[85;118H[K[85;118H110,5[9C27%[1;5H[1;84r[1;1H[L[1;85r[1;8H }[85;118H[K[85;118H109,5[9C27%[1;5H[1;84r[1;1H[L[1;85r[1;12H j++;[85;118H[K[85;118H108,5[9C26%[1;5H[1;84r[1;1H[L[1;85r[1;12H a[j] = c[j];[85;118H[K[85;118H107,5[9C26%[1;5H[1;84r[1;1H[L[1;85r[1;8H {[85;118H[K[85;118H106,5[9C26%[1;5H[1;84r[1;1H[L[1;85r[1;8H [33mwhile[m( j < pipe_index)[85;118H[K[85;118H105,5[9C26%[1;5H[1;84r[1;1H[L[1;85r[1;8H [32mint[m j = [31m0[m;[85;118H[K[85;118H104,5[9C25%[1;5H[1;84r[1;1H[L[1;85r[1;4H {[85;118H[K[85;118H103,5[9C25%[1;5H[85;120H4[2;5H[85;120H5[3;5H[85;120H6[4;5H[85;120H7[5;5H[85;120H8[6;5H[85;120H9[7;5H[85;119H10[8;5H[85;120H1[9;5H[85;120H2[10;5H[85;120H3[11;5H[85;120H4[12;5H[85;120H5[13;5H[85;120H6[14;5H[85;120H7[15;5H[85;120H8[16;5H[85;120H9,0-1[17;1H[85;119H20,5  [18;5H[85;120H1[19;5H[85;120H2[20;5H[85;120H3[21;5H[85;120H4[22;5H[85;120H5[23;5H[85;120H6[24;5H[85;120H7[25;5H[85;120H8[26;5H[85;120H9[27;5H[85;119H30[28;5H[85;120H1[29;5H[85;120H2[30;5H[85;120H3[31;5H[85;120H4[32;5H[85;120H5[33;5H[85;120H6[34;5H[85;120H7[35;5H[85;120H8[36;5H[85;120H9[37;5H[85;119H40[38;5H[85;120H1[39;5H[85;120H2[40;5H[85;120H3[41;5H[85;120H4[42;5H[85;120H5[43;5H[85;120H6[44;5H[85;120H7[45;5H[85;120H8[46;5H[85;120H7[45;5H[85;120H6[44;5H[85;120H5[43;5H[85;122H6[43;6H[85;122H7[43;7H[85;122H8[43;8H[85;122H9[43;9H[85;122H10[43;10H[85;123H1[43;11H[85;123H2[43;12H[85;123H3[43;13H[85;1H[1m-- INSERT --[m[85;118H[K[85;118H145,13[8C25%[43;13H /check_dup(a);[85;123H4[43;14H[34m//check_dup(a);[m[85;123H5[43;15H[85;1H[K[43;14H[85;118H145,14[8C25%[43;14H[85;118H[K[85;1H:wq"src/rshell.cpp" 483L, 10997C written
[?1l>[2J[?47l8[s%%%%%%%%%%[u[0;32mmonti004[0;36m@[0;32mcs100[0;36m:[0;32m~/rshell[0;95m ((hw2)) [0;36m$[0m vim src/rshell.cppalgrind bin/rshell
==25154== Memcheck, a memory error detector
==25154== Copyright (C) 2002-2012, and GNU GPL'd, by Julian Seward et al.
==25154== Using Valgrind-3.8.1 and LibVEX; rerun with -h for copyright info
==25154== Command: bin/rshell
==25154== 
$ cat<Makefile|  | tr a-Z a   z A-Z output.txt
tr: extra operand `output.txt'
Try `tr --help' for more information.
CC = g++
FLAGS = -Wall -Werror -ansi -pedantic

all:|bin 
	$(CC) $(FLAGS) -o   bin/rshell src/rshell.cpp
	$(CC) $(FLAGS) -o bin/ls src/ls.cpp


rshell: |bin
	$(CC) -o bin/rshell src/rshell.cpp
ls: |bin
	$(CC) -o bin/ls src/ls.cpp

bin: 
	mkdir bin

clean: 
	rm -rf bin


==25154== Conditional jump or move depends on uninitialised value(s)
==25154==    at 0x4021E2: run_exec(char*, int) (in /class/classes/monti004/rshell/bin/rshell)
==25154==    by 0x402559: main (in /class/classes/monti004/rshell/bin/rshell)
==25154== 
$ cat<output.txt
error in open: No such file or directory
==25169== 
==25169== HEAP SUMMARY:
==25169==     in use at exit: 457 bytes in 8 blocks
==25169==   total heap usage: 40 allocs, 32 frees, 5,493 bytes allocated
==25169== 
==25169== LEAK SUMMARY:
==25169==    definitely lost: 2 bytes in 1 blocks
==25169==    indirectly lost: 0 bytes in 0 blocks
==25169==      possibly lost: 211 bytes in 3 blocks
==25169==    still reachable: 244 bytes in 4 blocks
==25169==         suppressed: 0 bytes in 0 blocks
==25169== Rerun with --leak-check=full to see details of leaked memory
==25169== 
==25169== For counts of detected and suppressed errors, rerun with: -v
==25169== Use --track-origins=yes to see where uninitialised values come from
==25169== ERROR SUMMARY: 64 errors from 1 contexts (suppressed: 6 from 6)
$ exit
==25154== 
==25154== HEAP SUMMARY:
==25154==     in use at exit: 29 bytes in 1 blocks
==25154==   total heap usage: 43 allocs, 42 frees, 5,575 bytes allocated
==25154== 
==25154== LEAK SUMMARY:
==25154==    definitely lost: 0 bytes in 0 blocks
==25154==    indirectly lost: 0 bytes in 0 blocks
==25154==      possibly lost: 29 bytes in 1 blocks
==25154==    still reachable: 0 bytes in 0 blocks
==25154==         suppressed: 0 bytes in 0 blocks
==25154== Rerun with --leak-check=full to see details of leaked memory
==25154== 
==25154== For counts of detected and suppressed errors, rerun with: -v
==25154== Use --track-origins=yes to see where uninitialised values come from
==25154== ERROR SUMMARY: 84 errors from 1 contexts (suppressed: 6 from 6)
[s%%%%%%%%%%[u[0;32mmonti004[0;36m@[0;32mcs100[0;36m:[0;32m~/rshell[0;95m ((hw2)) [0;36m$[0m valgrind bin/rshell[1Pim src/rshell.cpp
7[?47h[?1h=[1;85r[m[H[2J[85;1H"src/rshell.cpp" 483L, 10997C[>c[1;8H [32mint[m j = [31m0[m;[2;8H [33mwhile[m( j < pipe_index)[3;8H {[4;12H a[j] = c[j];[5;12H j++;[6;8H }[7;8H a[j] = [35m'\0'[m;[8;8H [32mint[m k = pipe_index+[31m1[m;[9;8H [32mint[m l = [31m0[m;[10;8H [33mwhile[m( c[k] != [35m'\0'[m)[11;8H {[12;12H b[l] = c[k];[13;12H l++; k++;[14;8H }[15;8H b[l] = [35m'\0'[m;[17;8H [34m//now i will execute the commands with piping[m[18;8H [32mint[m fd[[31m2[m];[19;8H [33mif[m(pipe(fd) == -[31m1[m )[20;8H {[21;12H perror([31m"pipe fail"[m);[22;12H exit([31m1[m);[23;8H }[24;8H [32mint[m pid = fork();[25;8H [33mif[m( pid  == -[31m1[m)[26;8H {[27;12H perror([31m"fork fail"[m);[28;12H exit([31m1[m);[29;8H }[30;8H [33melse[m [33mif[m(pid == [31m0[m)[31;8H {[32;12H [33mif[m( dup2(fd[[31m1[m], [31m1[m) == -[31m1[m)[33;12H {[34;16H perror([31m"error with dup2"[m);[35;16H exit([31m1[m);[36;12H }[37;12H [33mif[m( close(fd[[31m0[m]) == -[31m1[m)[38;12H {[39;16H perror([31m"error with close"[m);[40;16H exit([31m1[m);[41;12H }[42;12H [34m//check_dup(a);[m[43;12H [33mif[m( execvp( a[[31m0[m], a) == -[31m1[m)[44;12H {[45;16H perror([31m"error in execvp"[m);[46;16H exit([31m1[m);[47;12H }[48;12H exit([31m1[m);[49;8H }[51;8H [32mint[m savestdin;[52;8H savestdin = dup([31m0[m);[53;8H [33mif[m( savestdin == -[31m1[m)[54;8H {[55;12H perror([31m"error with dup"[m);[56;12H exit([31m1[m);[57;8H }[58;8H [33mif[m( dup2(fd[[31m0[m],[31m0[m) == -[31m1[m)[59;8H {[60;12H perror([31m"error with dup2"[m);[61;12H exit([31m1[m);[62;8H }[63;8H [33mif[m( close(fd[[31m1[m]) == -[31m1[m)[64;8H {[65;12H perror([31m"error with close"[m);[66;12H exit([31m1[m);[67;8H }[68;8H [33mif[m (wait(&status) == -[31m1[m)[69;8H {[70;12H perror([31m"error in wait()"[m);[71;12H exit([31m1[m);[72;8H }[74;8H [34m//we need to check that the rest of c does not have any pipes[m[75;8H find_pipes(b);[76;8H dup2(savestdin, [31m0[m);
[34m/*       
        status = 1;
        int pid = fork();
        if(pid == -1)
        {
            perror("fork fail");
            exit(1);
        }[m[85;118H145,13[8C25%[42;13HP+q436f\P+q6b75\P+q6b64\P+q6b72\P+q6b6c\P+q2332\P+q2334\P+q2569\P+q2a37\P+q6b31\[85;120H6[43;13H[44;13H[46m{[47;13H}[m[85;120H7[44;13H{[47;13H}[85;120H8[45;13H[85;120H9[46;13H[44;13H[46m{[47;13H}[m[85;119H50[47;13H[44;13H{[47;13H}[85;120H1[48;13H[44;13H[46m{[47;13H}[m[85;120H0[47;13H[44;13H{[47;13H}[85;119H49[46;13H[85;120H8[45;13H[44;13H[46m{[47;13H}[m[85;120H7[44;13H{[47;13H}[85;120H6[43;13H[85;120H5[42;13H[85;123H4[42;14H[85;123H5[42;15H[85;1H[1m-- INSERT --[m[85;13H[K[85;118H145,15[8C25%[42;15H/check_dup(a);[42;27H[K[85;123H4[42;14H check_dup(a);[42;26H[K[85;123H3[42;13H[38;13H[46m{[41;13H}[m[85;120H4[41;13H[38;13H{[41;13H}[85;120H3[40;13H[85;120H2[39;13H[38;13H[46m{[41;13H}[m[85;120H1[38;13H{[41;13H}[85;120H0[37;13H[33;13H[46m{[36;13H}[m[85;119H39[36;13H[33;13H{[36;13H}[85;120H8[35;13H[85;120H7[34;13H[33;13H[46m{[36;13H}[m[85;120H6[33;13H{[36;13H}[85;120H5[32;13H[31;9H[46m{[49;9H}[m[85;120H4,10[31;10H{[49;9H}[85;120H3,13[30;13H[26;9H[46m{[29;9H}[m[85;120H2,10[29;10H[26;9H{[29;9H}[85;120H1,13[28;13H[85;120H0[27;13H[26;9H[46m{[29;9H}[m[85;119H29,10[26;10H{[29;9H}[85;120H8,13[25;13H[85;120H7[24;13H[20;9H[46m{[23;9H}[m[85;120H6,10[23;10H[20;9H{[23;9H}[85;120H5,13[22;13H[85;120H4[21;13H[20;9H[46m{[23;9H}[m[85;120H3,10[20;10H{[23;9H}[85;120H2,13[19;13H[85;120H1[18;13H[85;120H0[17;13H[85;119H19,1 [16;1H[15;10H[46m[[ml[46m][m[85;120H8,13[15;13H[11;9H[46m{[14;9H}[m[15;10H[l][85;120H7,10[14;10H[11;9H{[14;9H}[85;120H6,13[13;13H[85;120H5[12;13H[11;9H[46m{[14;9H}[m[85;120H4,10[11;10H{[14;9H}[85;120H3,13[10;13H[85;120H2[9;13H[85;120H1[8;13H[7;10H[46m[[mj[46m][m[85;120H0[7;13H[3;9H[46m{[6;9H}[m[7;10H[j][85;119H09,10[6;10H[3;9H{[6;9H}[85;120H8,13[5;13H[85;120H7[4;13H[3;9H[46m{[6;9H}[m[85;120H6,10[3;10H{[6;9H}[85;120H5,13[2;13H[85;120H4[1;13H[1;84r[1;1H[L[1;85r[1;4H {[85;118H[K[85;118H103,6[9C25%[1;6H[1;84r[1;1H[L[1;85r[1;4H [33mif[m(pipe_index > [31m0[m)[85;118H[K[85;118H102,13[8C25%[1;13H[1;84r[1;1H[L[1;85r[1;4H [32mchar[m **b = [33mnew[m [32mchar[m*[[31m100[m];[85;118H[K[85;118H101,13[8C25%[1;13H[1;84r[1;1H[L[1;85r[1;4H [32mchar[m **a = [33mnew[m [32mchar[m*[[31m100[m];[85;118H[K[85;118H100,13[8C24%[1;13H[1;84r[1;1H[L[1;85r[1;4H }[85;118H[K[85;118H99,6[10C24%[1;6H[1;84r[1;1H[L[1;85r[1;8H i++;[85;118H[K[85;118H98,13[9C24%[1;13H[1;84r[1;1H[L[1;85r[1;8H }[85;118H[K[85;118H97,10[9C24%[1;10H[1;84r[1;1H[L[1;85r[1;12H [33mbreak[m;[85;118H[K[85;118H96,13[9C23%[1;13H[1;84r[1;1H[L[1;85r[1;12H pipe_index = i;[85;118H[K[85;118H95,13[9C23%[1;13H[1;84r[1;1H[L[1;85r[1;12H num_pipes++;[85;118H[K[85;118H94,13[9C23%[1;13H[1;84r[1;1H[L[1;85r[1;8H {[85;118H[K[85;118H93,10[9C23%[1;9H[46m{[5;9H}[1;10H[1;84r[m[1;1H[L[1;85r[1;8H [33mif[m( strcmp(c[i], [31m"|"[m) == [31m0[m)[85;118H[K[85;118H92,13[9C22%[2;9H{[6;9H}[1;13H[1;84r[1;1H[L[1;85r[1;4H {[85;118H[K[85;118H91,6[10C22%[1;5H[46m{[9;5H}[1;6H[1;84r[m[1;1H[L[1;85r[1;4H [33mwhile[m( c[i] != [35m'\0'[m)[85;118H[K[85;118H90,13[9C22%[1;13H[46m[[mi[46m][m
    {[10;5H}[1;13H[1;84r[1;1H[L[1;85r[1;4H [32mint[m i=[31m0[m;[85;118H[K[85;118H89,13[9C22%[2;13H[i][1;13H[1;84r[1;1H[L[1;85r[1;4H [32mint[m pipe_index = [31m0[m;[85;118H[K[85;118H88,13[9C21%[1;13H[1;84r[1;1H[L[1;85r[1;4H [32mint[m num_pipes = [31m0[m;[85;118H[K[85;118H87,13[9C21%[1;13H[1;84r[1;1H[L[1;85r[1;4H [32mint[m status = [31m0[m;[85;118H[K[85;118H86,13[9C21%[1;13H[1;84r[1;1H[L[1;85r[1;1H{[85;118H[K[85;118H85,2[10C21%[1;2H[1;84r[1;1H[L[1;85r[1;1H[32mvoid[m find_pipes([32mchar[m **c)[85;118H[K[85;118H84,13[9C20%[1;13H[1;84r[1;1H[L[1;85r[85;118H[K[85;118H83,1[10C20%[1;1H[1;84r[1;1H[L[1;85r[1;1H}[85;118H[K[85;118H82,2[10C20%[1;2H[1;84r[1;1H[L[1;85r[1;4H }[85;118H[K[85;118H81,6[10C20%[1;6H[1;84r[1;1H[L[1;85r[1;8H i++;[85;118H[K[85;118H80,13[9C19%[1;13H[1;84r[1;1H[L[1;85r[1;8H }[85;118H[K[85;118H79,10[9C19%[1;10H[1;84r[1;1H[L[1;85r[1;12H }[85;118H[K[85;118H78,13[9C19%[1;13H[1;84r[1;1H[L[1;85r[1;16H exit([31m1[m);[85;118H[K[85;118H77,13[9C19%[1;13H[1;84r[1;1H[L[1;85r[1;16H perror([31m"error in dup2"[m);[85;118H[K[85;118H76,13[9C18%[1;13H[1;84r[1;1H[L[1;85r[1;12H {[85;118H[K[85;118H75,13[9C18%[1;13H[46m{[4;13H}[1;13H[1;84r[m[1;1H[L[1;85r[1;12H [33mif[m( dup2(fd,[31m1[m) == -[31m1[m)[85;118H[K[85;118H74,13[9C18%[2;13H{[5;13H}[1;13H[1;84r[1;1H[L[1;85r[1;12H }[85;118H[K[85;118H73,13[9C18%[1;13H[1;84r[1;1H[L[1;85r[1;16H exit([31m1[m);[85;118H[K[85;118H72,13[9C17%[1;13H[1;84r[1;1H[L[1;85r[1;16H perror([31m"error in open"[m);[85;118H[K[85;118H71,13[9C17%[1;13H[1;84r[1;1H[L[1;85r[1;12H {[85;118H[K[85;118H70,13[9C17%[1;13H[46m{[4;13H}[1;13H[1;84r[m[1;1H[L[1;85r[1;12H [33mif[m( fd == -[31m1[m)[85;118H[K[85;118H69,13[9C17%[2;13H{[5;13H}[1;13H[1;84r[1;1H[L[1;85r[1;12H fd = open(c[i+[31m1[m], O_APPEND | O_CREAT | O_WRONLY, [35m0[m[31m666[m);[85;118H[K[85;118H68,13[9C16%[1;13H[1;84r[1;1H[L[1;85r[1;12H c[i] = [35m'\0'[m;[85;118H[K[85;118H67,13[9C16%[1;13H[1;84r[1;1H[L[1;85r[1;8H {[85;118H[K[85;118H66,10[9C16%[1;9H[46m{[14;9H}[1;10H[1;84r[m[1;1H[L[1;85r[1;8H [33melse[m [33mif[m ( strcmp(c[i], [31m">>"[m) == [31m0[m)[85;118H[K[85;118H65,13[9C16%[2;9H{[15;9H}[1;13H[1;84r[1;1H[L[1;85r[1;8H }[85;118H[K[85;118H64,10[9C15%[1;10H[1;84r[1;1H[L[1;85r[1;12H }[85;118H[K[85;118H63,13[9C15%[1;13H[1;84r[1;1H[L[1;85r[1;16H exit([31m1[m);[85;118H[K[85;118H62,13[9C15%[1;13H[1;84r[1;1H[L[1;85r[1;16H perror([31m"error in dup2"[m);[85;118H[K[85;118H61,13[9C15%[1;13H[1;84r[1;1H[L[1;85r[1;12H {[85;118H[K[85;118H60,13[9C14%[1;13H[46m{[4;13H}[1;13H[m{[4;13H}[85;119H9[10;13H[85;118H74[15;13H[16;13H[46m{[19;13H}[m[85;119H5[16;13H[85;119H8[19;13H[16;13H{[19;13H}[85;118H87[28;13H[85;118H96[37;13H[85;118H105,13[46;13H[55;9H[46m{[58;9H}[m[85;119H14,10[55;10H{[58;9H}[85;119H22,13[63;13H[64;9H[46m{[67;9H}[m[85;120H3,10[64;10H{[67;9H}[70;9H[46m{[73;9H}[m[85;119H32[73;10H[70;9H{[73;9H}[77;13H[46m{[80;13H}[m[85;120H6,13[77;13H[1;84r[1;1H[11M[1;85r[74;12H }[75;12H check_dup(a);[76;12H [33mif[m( execvp( a[[31m0[m], a) == -[31m1[m)[77;12H {[78;16H perror([31m"error in execvp"[m);[79;16H exit([31m1[m);[80;12H }[81;12H exit([31m1[m);[82;8H }[84;8H [32mint[m savestdin;[85;118H[K[85;118H154,13[8C17%[84;13HOs[1;84r[1;1H[4M[1;85r[81;8H savestdin = dup([31m0[m);[82;8H [33mif[m( savestdin == -[31m1[m)[83;8H {[84;12H perror([31m"error with dup"[m);[85;118H[K[85;118H158,13[8C18%[62;13H{[65;13H}[84;13H[1;84r[1;1H[10M[1;85r[75;12H exit([31m1[m);[76;8H }[77;8H [33mif[m( dup2(fd[[31m0[m],[31m0[m) == -[31m1[m)[78;8H {[79;12H perror([31m"error with dup2"[m);[80;12H exit([31m1[m);[81;8H }[82;8H [33mif[m( close(fd[[31m1[m]) == -[31m1[m)[83;8H {[84;12H perror([31m"error with close"[m);[85;118H[K[85;118H168,13[8C21%[84;13H[1;84r[1;1H[9M[1;85r[76;12H exit([31m1[m);[77;8H }[78;8H [33mif[m (wait(&status) == -[31m1[m)[79;8H {[80;12H perror([31m"error in wait()"[m);[81;12H exit([31m1[m);[82;8H }[84;8H [34m//we need to check that the rest of c does not have any pipes[m[85;118H[K[85;118H177,13[8C23%[84;13H[1;84r[1;1H[4M[1;85r[81;8H find_pipes(b);[82;8H dup2(savestdin, [31m0[m);
[34m/*       
        status = 1;[m[85;118H[K[85;118H181,13[8C24%[84;13H[1;84r[1;1H[5M[1;85r[80;1H[34m        int pid = fork();
        if(pid == -1)
        {
            perror("fork fail");
            exit(1);[m[85;118H[K[85;118H186,13[8C25%[84;13H[1;84r[1;1H[9M[1;85r[76;1H[34m        }
        else if(pid == 0)
        {
            //this will check for i/o redirection
            check_dup(a);

            if (execvp(a[0], a) !=0 )
            {
                perror("error in execvp");[m[85;118H[K[85;118H195,13[8C27%[84;13H[1;84r[1;1H[9M[1;85r[76;1H[34m                exit(1);
            }
        }
        //else
        //{
            if (wait(&status) == -1)
            {
                perror("error in wait");
                exit(1);[m[85;118H[K[85;118H204,13[8C30%[84;13H[1;84r[1;1H[9M[1;85r[76;1H[34m            }
       //}
    find_pipes(b);
*/[m
    }[82;4H [34m//if there are no more pipes to go through then the find_pipes fxm wil end[m[84;4H [32mint[m pid = fork();[85;118H[K[85;118H213,13[8C32%[84;13H[1;84r[1;1H[9M[1;85r[76;4H [33mif[m(pid == -[31m1[m)
    {[78;8H perror([31m"fork fail"[m);[79;8H exit([31m1[m);
    }
    [33melse[m [33mif[m(pid == [31m0[m)
    {[83;8H [34m//this will check for i/o redirection[m[84;8H check_dup(c);[85;118H[K[85;118H222,13[8C34%[84;13H[1;84r[1;1H[4M[1;85r[82;8H [33mif[m (execvp(c[[31m0[m], c) !=[31m0[m )[83;8H {[84;12H perror([31m"error in execvp"[m);[85;118H[K[85;118H226,13[8C35%[84;13H[1;84r[1;1H[5M[1;85r[80;12H exit([31m1[m);[81;8H }
    }
    [33melse[m
    {[85;118H[K[85;118H231,6[9C36%[84;6H[1;84r[1;1H[9M[1;85r[76;8H [33mif[m (wait(&status) == -[31m1[m)[77;8H {[78;12H perror([31m"error in wait"[m);[79;12H exit([31m1[m);[80;8H }
    }


[34m/*    int f=0;[m[85;118H[K[85;118H240,13[8C39%[84;13H[1;84r[1;1H[9M[1;85r[76;1H[34m    while( f < 100)
    {
        delete[] a[f];
        f++;
    }*/[m
    [33mdelete[m[] a;
[34m/*    int ff=0;
    while( ff < 100)
    {[m[85;118H[K[85;118H249,6[9C41%[84;6H[1;84r[1;1H[9M[1;85r[76;1H[34m        delete[] b[ff];
        ff++;
    }*/[m
    [33mdelete[m[] b;


[34m//    return status;[m
}[85;118H[K[85;118H258,1[9C43%[84;1H[75;5H[34m[46m{[78;5H}[m[85;119H49,6[75;6H[34m{[78;5H}[m[85;120H0,13[66;13H[57;5H[46m{[63;5H}[m[85;119H31,6 [57;6H{[63;5H}[85;119H22,13[48;13H[51;9H[46m{[54;9H}[m[85;120H8,10[54;10H[51;9H{[54;9H}[57;5H[46m{[63;5H}[m[85;119H31,6 [57;6H{[59;9H[46m{[62;9H}[m
    }[85;120H6,10[62;10H[59;9H{[62;9H}[85;119H40,13[66;13H[75;5H[34m[46m{[78;5H}[m[85;120H9,6 [75;6H[34m{[78;5H}[m[85;119H58,1[84;1H[1;84r[1;1H[9M[1;85r[76;1H[32mvoid[m check_spaces(string &s)
{
    [32mint[m size = s.size();
    [32mint[m i=[31m0[m;
    [33mwhile[m ( i < size  )
    {[82;8H [33mif[m (s[i] == [31m'<'[m)[83;8H {[84;12H s.insert(i+[31m1[m , [31m" "[m);[85;118H[K[85;118H267,13[8C45%[84;13H[1;84r[1;1H[4M[1;85r[81;12H s.insert(i , [31m" "[m);[82;8H }[83;8H [33melse[m [33mif[m (s[i] == [31m'|'[m)[84;8H {[85;118H[K[85;118H271,10[8C46%[84;10H[1;84r[1;1H[5M[1;85r[80;12H s.insert(i+[31m1[m , [31m" "[m);[81;12H s.insert(i , [31m" "[m);[83;8H }[84;8H [33melse[m [33mif[m (s[i] == [31m'>'[m)[85;118H[K[85;118H276,13[8C48%[84;13H[85;119H68[76;13H[85;120H7[75;13H[85;119H58,1 [66;1H[61;11H[46m[][m[85;120H3,13[61;13H[57;5H[34m[46m{[60;5H}[m[61;11H[][85;119H49,6 [57;6H[34m{[60;5H}[m[85;119H50,13[58;13H[85;120H1[59;13H[85;120H2,8 [60;8H[60;7H[K[61;1H[34m    delete[] b;[65;1H}

void check_spaces(string &s)
{
    int size = s.size();
    int i=0;
    while ( i < size  )
    {
        if (s[i] == '<')
        {
            s.insert(i+1 , " ");
            s.insert(i , " ");
        }
        else if (s[i] == '|')
        {
            s.insert(i+1 , " ");
            s.insert(i , " ");

        }
        else if (s[i] == '>')[m[85;122H7[60;7H[60;6H[K[57;5H[34m[46m{[60;5H}[m[85;122H6[60;6H[57;5H[34m{[60;5H}[m[85;120H1[59;6H[85;120H0[58;6H[57;5H[34m[46m{[60;5H}[m[85;119H49[57;6H[34m{[60;5H}[m[85;120H8[56;6H[85;120H7[55;6H[85;120H6[54;6H[85;120H7[55;6H[85;122H5[55;5H[85;122H4[55;4H[85;122H3[55;3H/    [32mint[m ff=[31m0[m;[55;15H[K[56;1H    [33mwhile[m( ff < [31m100[m)
    {
        [33mdelete[m[] b[ff];
        ff++;
    }
    [33mdelete[m[] b;[65;1H}

[32mvoid[m check_spaces(string &s)
{
    [32mint[m size = s.size();
    [32mint[m i=[31m0[m;
    [33mwhile[m ( i < size  )
    {
        [33mif[m (s[i] == [31m'<'[m)
        {
            s.insert(i+[31m1[m , [31m" "[m);
            s.insert(i , [31m" "[m);
        }
        [33melse[m [33mif[m (s[i] == [31m'|'[m)
        {
            s.insert(i+[31m1[m , [31m" "[m);
            s.insert(i , [31m" "[m);

        }
        [33melse[m [33mif[m (s[i] == [31m'>'[m)[85;122H2[55;2H    [32mint[m ff=[31m0[m;[55;14H[K[85;122H1[55;1H[85;120H6[54;1H[85;122H2[54;2H[85;120H5[53;2H[85;122H3[53;3H[85;122H4[53;4H[50;5H[34m[46m{[53;5H}[m[85;122H5[53;5H[85;122H6[53;6H[50;5H[34m{[53;5H}[m[85;122H7[53;7H[85;122H8[53;8H[53;7H[K[54;1H[34m    delete[] a;
    int ff=0;
    while( ff < 100)
    {
        delete[] b[ff];
        ff++;
    }
    delete[] b;[65;1H}

void check_spaces(string &s)
{
    int size = s.size();
    int i=0;
    while ( i < size  )
    {
        if (s[i] == '<')
        {
            s.insert(i+1 , " ");
            s.insert(i , " ");
        }
        else if (s[i] == '|')
        {
            s.insert(i+1 , " ");
            s.insert(i , " ");

        }
        else if (s[i] == '>')[m[85;122H7[53;7H[53;6H[K[50;5H[34m[46m{[53;5H}[m[85;122H6[53;6H[50;5H[34m{[53;5H}[m[85;120H4[52;6H[85;120H3[51;6H[50;5H[34m[46m{[53;5H}[m[85;120H2[50;6H[34m{[53;5H}[m[85;120H1[49;6H[85;120H0[48;6H[85;119H39,1[47;1H[85;119H40,6[48;6H[85;122H5[48;5H[85;122H4[48;4H[85;122H3[48;3H/    [32mint[m f=[31m0[m;[48;14H[K[49;1H    [33mwhile[m( f < [31m100[m)
    {
        [33mdelete[m[] a[f];
        f++;
    }
    [33mdelete[m[] a;
    [32mint[m ff=[31m0[m;
    [33mwhile[m( ff < [31m100[m)
    {
        [33mdelete[m[] b[ff];
        ff++;
    }
    [33mdelete[m[] b;[65;1H}

[32mvoid[m check_spaces(string &s)
{
    [32mint[m size = s.size();
    [32mint[m i=[31m0[m;
    [33mwhile[m ( i < size  )
    {
        [33mif[m (s[i] == [31m'<'[m)
        {
            s.insert(i+[31m1[m , [31m" "[m);
            s.insert(i , [31m" "[m);
        }
        [33melse[m [33mif[m (s[i] == [31m'|'[m)
        {
            s.insert(i+[31m1[m , [31m" "[m);
            s.insert(i , [31m" "[m);

        }
        [33melse[m [33mif[m (s[i] == [31m'>'[m)[85;122H2[48;2H    [32mint[m f=[31m0[m;[48;13H[K[85;122H1[48;1H[85;1H[K[48;1H[85;118H240,1[9C48%[48;1H[85;118H[K[85;1H:wq"src/rshell.cpp" 483L, 10987C written
[?1l>[2J[?47l8[s%%%%%%%%%%[u[0;32mmonti004[0;36m@[0;32mcs100[0;36m:[0;32m~/rshell[0;95m ((hw2)) [0;36m$[0m vim src/rshell.cppalgrind bin/rshell
==25284== Memcheck, a memory error detector
==25284== Copyright (C) 2002-2012, and GNU GPL'd, by Julian Seward et al.
==25284== Using Valgrind-3.8.1 and LibVEX; rerun with -h for copyright info
==25284== Command: bin/rshell
==25284== 
$ exit
==25284== 
==25284== HEAP SUMMARY:
==25284==     in use at exit: 29 bytes in 1 blocks
==25284==   total heap usage: 3 allocs, 2 frees, 82 bytes allocated
==25284== 
==25284== LEAK SUMMARY:
==25284==    definitely lost: 0 bytes in 0 blocks
==25284==    indirectly lost: 0 bytes in 0 blocks
==25284==      possibly lost: 29 bytes in 1 blocks
==25284==    still reachable: 0 bytes in 0 blocks
==25284==         suppressed: 0 bytes in 0 blocks
==25284== Rerun with --leak-check=full to see details of leaked memory
==25284== 
==25284== For counts of detected and suppressed errors, rerun with: -v
==25284== ERROR SUMMARY: 0 errors from 0 contexts (suppressed: 6 from 6)
[s%%%%%%%%%%[u[0;32mmonti004[0;36m@[0;32mcs100[0;36m:[0;32m~/rshell[0;95m ((hw2)) [0;36m$[0m make
g++ -Wall -Werror -ansi -pedantic -o   bin/rshell src/rshell.cpp
g++ -Wall -Werror -ansi -pedantic -o bin/ls src/ls.cpp
[s%%%%%%%%%%[u[0;32mmonti004[0;36m@[0;32mcs100[0;36m:[0;32m~/rshell[0;95m ((hw2)) [0;36m$[0m makevalgrind bin/rshell
==25309== Memcheck, a memory error detector
==25309== Copyright (C) 2002-2012, and GNU GPL'd, by Julian Seward et al.
==25309== Using Valgrind-3.8.1 and LibVEX; rerun with -h for copyright info
==25309== Command: bin/rshell
==25309== 
$ cat<outp    Makefile | tr a-z A-Z > output.txt
==25309== Conditional jump or move depends on uninitialised value(s)
==25309==    at 0x401C20: find_pipes(char**) (in /class/classes/monti004/rshell/bin/rshell)
==25309==    by 0x401B5C: find_pipes(char**) (in /class/classes/monti004/rshell/bin/rshell)
==25309==    by 0x4021BD: run_exec(char*, int) (in /class/classes/monti004/rshell/bin/rshell)
==25309==    by 0x4025F5: main (in /class/classes/monti004/rshell/bin/rshell)
==25309== 
==25309== Conditional jump or move depends on uninitialised value(s)
==25309==    at 0x401C81: find_pipes(char**) (in /class/classes/monti004/rshell/bin/rshell)
==25309==    by 0x401B5C: find_pipes(char**) (in /class/classes/monti004/rshell/bin/rshell)
==25309==    by 0x4021BD: run_exec(char*, int) (in /class/classes/monti004/rshell/bin/rshell)
==25309==    by 0x4025F5: main (in /class/classes/monti004/rshell/bin/rshell)
==25309== 
==25309== Conditional jump or move depends on uninitialised value(s)
==25309==    at 0x401C20: find_pipes(char**) (in /class/classes/monti004/rshell/bin/rshell)
==25309==    by 0x4021BD: run_exec(char*, int) (in /class/classes/monti004/rshell/bin/rshell)
==25309==    by 0x4025F5: main (in /class/classes/monti004/rshell/bin/rshell)
==25309== 
==25309== Conditional jump or move depends on uninitialised value(s)
==25309==    at 0x401C81: find_pipes(char**) (in /class/classes/monti004/rshell/bin/rshell)
==25309==    by 0x4021BD: run_exec(char*, int) (in /class/classes/monti004/rshell/bin/rshell)
==25309==    by 0x4025F5: main (in /class/classes/monti004/rshell/bin/rshell)
==25309== 
==25309== Invalid free() / delete / delete[] / realloc()
==25309==    at 0x4A05B66: operator delete[](void*) (vg_replace_malloc.c:515)
==25309==    by 0x40229E: run_exec(char*, int) (in /class/classes/monti004/rshell/bin/rshell)
==25309==    by 0x4025F5: main (in /class/classes/monti004/rshell/bin/rshell)
==25309==  Address 0x4c2ba10 is 0 bytes inside a block of size 4 free'd
==25309==    at 0x4A05B66: operator delete[](void*) (vg_replace_malloc.c:515)
==25309==    by 0x401C40: find_pipes(char**) (in /class/classes/monti004/rshell/bin/rshell)
==25309==    by 0x4021BD: run_exec(char*, int) (in /class/classes/monti004/rshell/bin/rshell)
==25309==    by 0x4025F5: main (in /class/classes/monti004/rshell/bin/rshell)
==25309== 
==25309== Conditional jump or move depends on uninitialised value(s)
==25309==    at 0x40227E: run_exec(char*, int) (in /class/classes/monti004/rshell/bin/rshell)
==25309==    by 0x4025F5: main (in /class/classes/monti004/rshell/bin/rshell)
==25309== 
$ cat < output.txt
CC = g++
FLAGS = -Wall -Werror -ansi -pedantic

all:|bin 
	$(CC) $(FLAGS) -o   bin/rshell src/rshell.cpp
	$(CC) $(FLAGS) -o bin/ls src/ls.cpp


rshell: |bin
	$(CC) -o bin/rshell src/rshell.cpp
ls: |bin
	$(CC) -o bin/ls src/ls.cpp

bin: 
	mkdir bin

clean: 
	rm -rf bin


$ exit
==25309== 
==25309== HEAP SUMMARY:
==25309==     in use at exit: 29 bytes in 1 blocks
==25309==   total heap usage: 44 allocs, 51 frees, 5,689 bytes allocated
==25309== 
==25309== LEAK SUMMARY:
==25309==    definitely lost: 0 bytes in 0 blocks
==25309==    indirectly lost: 0 bytes in 0 blocks
==25309==      possibly lost: 29 bytes in 1 blocks
==25309==    still reachable: 0 bytes in 0 blocks
==25309==         suppressed: 0 bytes in 0 blocks
==25309== Rerun with --leak-check=full to see details of leaked memory
==25309== 
==25309== For counts of detected and suppressed errors, rerun with: -v
==25309== Use --track-origins=yes to see where uninitialised values come from
==25309== ERROR SUMMARY: 490 errors from 6 contexts (suppressed: 6 from 6)
[s%%%%%%%%%%[u[0;32mmonti004[0;36m@[0;32mcs100[0;36m:[0;32m~/rshell[0;95m ((hw2)) [0;36m$[0m vi[K[Kvalgrind bin/rshellmake[Kvalgrind bin/rshell[1Pim src/rshell.cpp
7[?47h[?1h=[1;85r[m[H[2J[85;1H"src/rshell.cpp" 483L, 10987C[>c[1;1H[34m        //else
        //{
            if (wait(&status) == -1)
            {
                perror("error in wait");
                exit(1);
            }
       //}
    find_pipes(b);
*/[m
    }[13;4H [34m//if there are no more pipes to go through then the find_pipes fxm wil end[m[15;4H [32mint[m pid = fork();
    [33mif[m(pid == -[31m1[m)
    {[18;8H perror([31m"fork fail"[m);[19;8H exit([31m1[m);
    }
    [33melse[m [33mif[m(pid == [31m0[m)
    {[23;8H [34m//this will check for i/o redirection[m[24;8H check_dup(c);[26;8H [33mif[m (execvp(c[[31m0[m], c) !=[31m0[m )[27;8H {[28;12H perror([31m"error in execvp"[m);[29;12H exit([31m1[m);[30;8H }
    }
    [33melse[m
    {[34;8H [33mif[m (wait(&status) == -[31m1[m)[35;8H {[36;12H perror([31m"error in wait"[m);[37;12H exit([31m1[m);[38;8H }
    }[42;4H [32mint[m f=[31m0[m;
    [33mwhile[m( f < [31m100[m)
    {[45;8H [33mdelete[m[] a[f];[46;8H f++;
    }
    [33mdelete[m[] a;
    [32mint[m ff=[31m0[m;
    [33mwhile[m( ff < [31m100[m)
    {[52;8H [33mdelete[m[] b[ff];[53;8H ff++;
    }
    [33mdelete[m[] b;


[34m//    return status;[m
}

[32mvoid[m check_spaces(string &s)
{
    [32mint[m size = s.size();
    [32mint[m i=[31m0[m;
    [33mwhile[m ( i < size  )
    {[67;8H [33mif[m (s[i] == [31m'<'[m)[68;8H {[69;12H s.insert(i+[31m1[m , [31m" "[m);[70;12H s.insert(i , [31m" "[m);[71;8H }[72;8H [33melse[m [33mif[m (s[i] == [31m'|'[m)[73;8H {[74;12H s.insert(i+[31m1[m , [31m" "[m);[75;12H s.insert(i , [31m" "[m);[77;8H }[78;8H [33melse[m [33mif[m (s[i] == [31m'>'[m)[79;8H {[80;12H [33mif[m (s[i+[31m1[m] == [31m'>'[m)[81;12H {[82;16H s.insert(i+[31m2[m , [31m" "[m);[83;16H s.insert(i , [31m" "[m);[84;12H }[85;118H240,5[9C49%[42;5HP+q436f\P+q6b75\P+q6b64\P+q6b72\P+q6b6c\P+q2332\P+q2334\P+q2569\P+q2a37\P+q6b31\[85;1H[K[85;1H/*i[85;3H[K[85;3H[85;2H[K[85;2H [116C240,5[9C49%[42;5H[85;122H4[42;4H[85;122H3[42;3H[85;122H2[42;2H[85;122H1[42;1H[85;122H2[42;2H[85;122H3[42;3H[85;122H4[42;4H[85;122H5[42;5H[85;118H[K[85;1H/*[85;2H[K[85;2H [116C240,5[9C49%[42;5H[85;122H4[42;4H[85;1H[1m-- INSERT --[m[85;118H[K[85;118H240,4[9C49%[42;4H[85;122H5[42;5H /[32mint[m f=[31m0[m;[85;122H6[42;6H[34m/*int f=0;
    while( f < 100)
    {
        delete[] a[f];
        f++;
    }
    delete[] a;
    int ff=0;
    while( ff < 100)
    {
        delete[] b[ff];
        ff++;
    }
    delete[] b;[59;1H}

void check_spaces(string &s)
{
    int size = s.size();
    int i=0;
    while ( i < size  )
    {
        if (s[i] == '<')
        {
            s.insert(i+1 , " ");
            s.insert(i , " ");
        }
        else if (s[i] == '|')
        {
            s.insert(i+1 , " ");
            s.insert(i , " ");

        }
        else if (s[i] == '>')
        {
            if (s[i+1] == '>')
            {
                s.insert(i+2 , " ");
                s.insert(i , " ");
            }[m[85;122H7[42;7H[85;120H1[43;7H[44;5H[34m[46m{[47;5H}[m[85;120H2,6[44;6H[34m{[47;5H}[m[85;120H3,7[45;7H[85;120H4[46;7H[44;5H[34m[46m{[47;5H}[m[85;120H5,6[47;6H[34m[46m}[m[34m*[44;5H{[47;5H}[m[85;122H7[47;7H[34m*/[m
    [33mdelete[m[] a;
    [32mint[m ff=[31m0[m;
    [33mwhile[m( ff < [31m100[m)
    {
        [33mdelete[m[] b[ff];
        ff++;
    }
    [33mdelete[m[] b;[59;1H}

[32mvoid[m check_spaces(string &s)
{
    [32mint[m size = s.size();
    [32mint[m i=[31m0[m;
    [33mwhile[m ( i < size  )
    {
        [33mif[m (s[i] == [31m'<'[m)
        {
            s.insert(i+[31m1[m , [31m" "[m);
            s.insert(i , [31m" "[m);
        }
        [33melse[m [33mif[m (s[i] == [31m'|'[m)
        {
            s.insert(i+[31m1[m , [31m" "[m);
            s.insert(i , [31m" "[m);

        }
        [33melse[m [33mif[m (s[i] == [31m'>'[m)
        {
            [33mif[m (s[i+[31m1[m] == [31m'>'[m)
            {
                s.insert(i+[31m2[m , [31m" "[m);
                s.insert(i , [31m" "[m);
            }[85;122H8[47;8H[85;120H6[48;8H[85;120H7[49;8H[85;120H8[50;8H[85;122H7[50;7H[85;122H6[50;6H[85;122H5[50;5H[85;120H7[49;5H /[32mint[m ff=[31m0[m;[85;122H6[49;6H[34m/*int ff=0;
    while( ff < 100)
    {
        delete[] b[ff];
        ff++;
    }
    delete[] b;[59;1H}

void check_spaces(string &s)
{
    int size = s.size();
    int i=0;
    while ( i < size  )
    {
        if (s[i] == '<')
        {
            s.insert(i+1 , " ");
            s.insert(i , " ");
        }
        else if (s[i] == '|')
        {
            s.insert(i+1 , " ");
            s.insert(i , " ");

        }
        else if (s[i] == '>')
        {
            if (s[i+1] == '>')
            {
                s.insert(i+2 , " ");
                s.insert(i , " ");
            }[m[85;122H7[49;7H[85;120H8[50;7H[51;5H[34m[46m{[54;5H}[m[85;120H9,6[51;6H[34m{[54;5H}[m[85;119H50,7[52;7H[85;120H1[53;7H[51;5H[34m[46m{[54;5H}[m[85;120H2,6[54;6H[51;5H[34m{[54;5H}[m[85;120H3,7[55;7H[51;5H[34m[46m{[54;5H}[m[85;120H2,6[54;6H[34m[46m}[m[34m*[51;5H{[54;5H}[m[85;122H7[54;7H[34m*/[m
    [33mdelete[m[] b;[59;1H}

[32mvoid[m check_spaces(string &s)
{
    [32mint[m size = s.size();
    [32mint[m i=[31m0[m;
    [33mwhile[m ( i < size  )
    {
        [33mif[m (s[i] == [31m'<'[m)
        {
            s.insert(i+[31m1[m , [31m" "[m);
            s.insert(i , [31m" "[m);
        }
        [33melse[m [33mif[m (s[i] == [31m'|'[m)
        {
            s.insert(i+[31m1[m , [31m" "[m);
            s.insert(i , [31m" "[m);

        }
        [33melse[m [33mif[m (s[i] == [31m'>'[m)
        {
            [33mif[m (s[i+[31m1[m] == [31m'>'[m)
            {
                s.insert(i+[31m2[m , [31m" "[m);
                s.insert(i , [31m" "[m);
            }[85;122H8[54;8H[85;119H47[49;8H[85;120H3[45;8H[85;119H34[36;8H[85;120H2[34;8H[85;119H25[27;8H[85;119H16[18;8H[85;119H07[9;8H[1;84r[1;1H[L[1;85r[1;1H[34m        }[m[85;118H[K[85;118H198,8[9C49%[1;8H[1;84r[1;1H[9L[1;85r[1;1H[34m        {
            //this will check for i/o redirection
            check_dup(a);

            if (execvp(a[0], a) !=0 )
            {
                perror("error in execvp");
                exit(1);
            }[m[85;118H[K[85;118H189,8[9C47%[1;8H[1;84r[1;1H[9L[1;85r[1;1H[34m/*       
        status = 1;
        int pid = fork();
        if(pid == -1)
        {
            perror("fork fail");
            exit(1);
        }
        else if(pid == 0)[m[85;118H[K[85;118H180,8[9C44%[1;8H[1;84r[1;1H[9L[1;85r[1;8H [33mif[m (wait(&status) == -[31m1[m)[2;8H {[3;12H perror([31m"error in wait()"[m);[4;12H exit([31m1[m);[5;8H }[7;8H [34m//we need to check that the rest of c does not have any pipes[m[8;8H find_pipes(b);[9;8H dup2(savestdin, [31m0[m);[85;118H[K[85;118H171,8[9C42%[1;8H[1;84r[1;1H[9L[1;85r[1;8H {[2;12H perror([31m"error with dup2"[m);[3;12H exit([31m1[m);[4;8H }[5;8H [33mif[m( close(fd[[31m1[m]) == -[31m1[m)[6;8H {[7;12H perror([31m"error with close"[m);[8;12H exit([31m1[m);[9;8H }[85;118H[K[85;118H162,8[9C40%[1;8H[1;84r[1;1H[4L[1;85r[1;12H perror([31m"error with dup"[m);[2;12H exit([31m1[m);[3;8H }[4;8H [33mif[m( dup2(fd[[31m0[m],[31m0[m) == -[31m1[m)[85;118H[K[85;118H158,8[9C39%[1;8H[1;84r[1;1H[5L[1;85r[2;8H [32mint[m savestdin;[3;8H savestdin = dup([31m0[m);[4;8H [33mif[m( savestdin == -[31m1[m)[5;8H {[85;118H[K[85;118H153,8[9C38%[1;8H[1;84r[1;1H[3L[1;85r[1;12H }[2;12H exit([31m1[m);[3;8H }[85;118H[K[85;118H150,8[9C37%[1;8H[1;84r[1;1H[6L[1;85r[1;12H }[2;12H check_dup(a);[3;12H [33mif[m( execvp( a[[31m0[m], a) == -[31m1[m)[4;12H {[5;16H perror([31m"error in execvp"[m);[6;16H exit([31m1[m);[85;118H[K[85;118H144,8[9C35%[1;8H[1;84r[1;1H[9L[1;85r[1;12H [33mif[m( dup2(fd[[31m1[m], [31m1[m) == -[31m1[m)[2;12H {[3;16H perror([31m"error with dup2"[m);[4;16H exit([31m1[m);[5;12H }[6;12H [33mif[m( close(fd[[31m0[m]) == -[31m1[m)[7;12H {[8;16H perror([31m"error with close"[m);[9;16H exit([31m1[m);[85;118H[K[85;118H135,8[9C33%[1;8H[1;84r[1;1H[3L[1;85r[1;8H }[2;8H [33melse[m [33mif[m(pid == [31m0[m)[3;8H {[85;118H[K[85;118H132,8[9C32%[1;8H[1;84r[1;1H[6L[1;85r[1;8H }[2;8H [32mint[m pid = fork();[3;8H [33mif[m( pid  == -[31m1[m)[4;8H {[5;12H perror([31m"fork fail"[m);[6;12H exit([31m1[m);[85;118H[K[85;118H126,8[9C31%[1;8H[1;84r[1;1H[9L[1;85r[1;8H }[2;8H b[l] = [35m'\0'[m;[4;8H [34m//now i will execute the commands with piping[m[5;8H [32mint[m fd[[31m2[m];[6;8H [33mif[m(pipe(fd) == -[31m1[m )[7;8H {[8;12H perror([31m"pipe fail"[m);[9;12H exit([31m1[m);[85;118H[K[85;118H117,8[9C29%[1;8H[85;1H[K[1;7H[85;118H117,7[9C29%[1;7H[85;118H[K[85;1H:wq"src/rshell.cpp" 483L, 10995C written
[?1l>[2J[?47l8[s%%%%%%%%%%[u[0;32mmonti004[0;36m@[0;32mcs100[0;36m:[0;32m~/rshell[0;95m ((hw2)) [0;36m$[0m vim src/rshell.cppalgrind bin/rshellmake[K
g++ -Wall -Werror -ansi -pedantic -o   bin/rshell src/rshell.cpp
g++ -Wall -Werror -ansi -pedantic -o bin/ls src/ls.cpp
[s%%%%%%%%%%[u[0;32mmonti004[0;36m@[0;32mcs100[0;36m:[0;32m~/rshell[0;95m ((hw2)) [0;36m$[0m makevim src/rshell.cppalgrind bin/rshell
==25713== Memcheck, a memory error detector
==25713== Copyright (C) 2002-2012, and GNU GPL'd, by Julian Seward et al.
==25713== Using Valgrind-3.8.1 and LibVEX; rerun with -h for copyright info
==25713== Command: bin/rshell
==25713== 
$ cat<Makefile | tr - a-z A-Z > output.txt
==25713== Conditional jump or move depends on uninitialised value(s)
==25713==    at 0x4021E2: run_exec(char*, int) (in /class/classes/monti004/rshell/bin/rshell)
==25713==    by 0x402559: main (in /class/classes/monti004/rshell/bin/rshell)
==25713== 
$ exit
==25713== 
==25713== HEAP SUMMARY:
==25713==     in use at exit: 29 bytes in 1 blocks
==25713==   total heap usage: 29 allocs, 28 frees, 4,910 bytes allocated
==25713== 
==25713== LEAK SUMMARY:
==25713==    definitely lost: 0 bytes in 0 blocks
==25713==    indirectly lost: 0 bytes in 0 blocks
==25713==      possibly lost: 29 bytes in 1 blocks
==25713==    still reachable: 0 bytes in 0 blocks
==25713==         suppressed: 0 bytes in 0 blocks
==25713== Rerun with --leak-check=full to see details of leaked memory
==25713== 
==25713== For counts of detected and suppressed errors, rerun with: -v
==25713== Use --track-origins=yes to see where uninitialised values come from
==25713== ERROR SUMMARY: 68 errors from 1 contexts (suppressed: 6 from 6)
[s%%%%%%%%%%[u[0;32mmonti004[0;36m@[0;32mcs100[0;36m:[0;32m~/rshell[0;95m ((hw2)) [0;36m$[0m valgrind bin/rshellmake[Kvim src/rshell.cpp
7[?47h[?1h=[1;85r[m[H[2J[85;1H"src/rshell.cpp" 483L, 10995C[>c[1;8H [32mint[m fd;[2;8H [33mif[m( strcmp(c[i], [31m"<"[m) == [31m0[m)[3;8H {[4;12H c[i] = [35m'\0'[m;[5;12H fd = open(c[i+[31m1[m], O_RDONLY);[6;12H [33mif[m( fd == -[31m1[m)[7;12H {[8;16H perror([31m"error in open"[m);[9;16H exit([31m1[m);[10;12H }[11;12H [33mif[m( dup2(fd,[31m0[m) == -[31m1[m)[12;12H {[13;16H perror([31m"error in dup2"[m);[14;16H exit([31m1[m);[15;12H }[16;8H }[17;8H [33melse[m [33mif[m( strcmp(c[i], [31m">"[m) == [31m0[m)[18;8H {[19;12H c[i] = [35m'\0'[m;[20;12H fd = open(c[i+[31m1[m], O_CREAT | O_WRONLY |O_TRUNC, [35m0[m[31m666[m);[21;12H [33mif[m( fd == -[31m1[m)[22;12H {[23;16H perror([31m"error in open"[m);[24;16H exit([31m1[m);[25;12H }[26;12H [33mif[m( dup2(fd,[31m1[m) == -[31m1[m)[27;12H {[28;16H perror([31m"error in dup2"[m);[29;16H exit([31m1[m);[30;12H }[31;8H }[32;8H [33melse[m [33mif[m ( strcmp(c[i], [31m">>"[m) == [31m0[m)[33;8H {[34;12H c[i] = [35m'\0'[m;[35;12H fd = open(c[i+[31m1[m], O_APPEND | O_CREAT | O_WRONLY, [35m0[m[31m666[m);[36;12H [33mif[m( fd == -[31m1[m)[37;12H {[38;16H perror([31m"error in open"[m);[39;16H exit([31m1[m);[40;12H }[41;12H [33mif[m( dup2(fd,[31m1[m) == -[31m1[m)[42;12H {[43;16H perror([31m"error in dup2"[m);[44;16H exit([31m1[m);[45;12H }[46;8H }[47;8H i++;
    }
}

[32mvoid[m find_pipes([32mchar[m **c)
{
    [32mint[m status = [31m0[m;
    [32mint[m num_pipes = [31m0[m;
    [32mint[m pipe_index = [31m0[m;
    [32mint[m i=[31m0[m;
    [33mwhile[m( c[i] != [35m'\0'[m)
    {[59;8H [33mif[m( strcmp(c[i], [31m"|"[m) == [31m0[m)[60;8H {[61;12H num_pipes++;[62;12H pipe_index = i;[63;12H [33mbreak[m;[64;8H }[65;8H i++;
    }
    [32mchar[m **a = [33mnew[m [32mchar[m*[[31m100[m];
    [32mchar[m **b = [33mnew[m [32mchar[m*[[31m100[m];
    [33mif[m(pipe_index > [31m0[m)
    {[71;8H [32mint[m j = [31m0[m;[72;8H [33mwhile[m( j < pipe_index)[73;8H {[74;12H a[j] = c[j];[75;12H j++;[76;8H }[77;8H a[j] = [35m'\0'[m;[78;8H [32mint[m k = pipe_index+[31m1[m;[79;8H [32mint[m l = [31m0[m;[80;8H [33mwhile[m( c[k] != [35m'\0'[m)[81;8H {[82;12H b[l] = c[k];[83;12H l++; k++;[84;8H }[85;118H117,9[10C8%[84;9HP+q436f\P+q6b75\P+q6b64\P+q6b72\P+q6b6c\P+q2332\P+q2334\P+q2569\P+q2a37\P+q6b31\[85;120H6[83;9H[85;120H5[82;9H[81;9H[46m{[84;9H}[m[85;120H4[81;9H{[84;9H}[85;120H3[80;9H[85;120H2[79;9H[85;120H1[78;9H[85;120H0[77;9H[73;9H[46m{[76;9H}[m[85;119H09[76;9H[73;9H{[76;9H}[85;120H8[75;9H[85;120H7[74;9H[73;9H[46m{[76;9H}[m[85;120H6[73;9H{[76;9H}[85;120H5[72;9H[85;120H4[71;9H[85;120H3,5[70;5H[85;120H2,9[69;9H[85;120H1[68;9H[85;120H0[67;9H[58;5H[46m{[66;5H}[m[85;118H99,5 [66;5H[58;5H{[66;5H}[85;119H8,9[65;9H[60;9H[46m{[64;9H}[m[85;119H7[64;9H[60;9H{[64;9H}[85;119H6[63;9H[85;119H5[62;9H[85;119H4[61;9H[60;9H[46m{[64;9H}[m[85;119H3[60;9H{[64;9H}[85;119H2[59;9H[58;5H[46m{[66;5H}[m[85;119H1,5[58;5H{[66;5H}[85;119H0,9[57;9H[85;118H89[56;9H[85;119H8[55;9H[85;119H7[54;9H[85;119H6[53;9H[85;119H5,1[52;1H[85;119H4,9[51;9H[85;119H3,0-1[50;1H[85;119H2,1  [49;1H[85;119H1,5[48;5H[85;119H0,9[47;9H[33;9H[46m{[46;9H}[m[85;118H79[46;9H[33;9H{[46;9H}[85;119H8[45;9H[85;119H7[44;9H[85;119H6[43;9H[85;119H5[42;9H[85;119H4[41;9H[85;119H3[40;9H[85;119H2[39;9H[85;119H1[38;9H[85;119H0[37;9H[85;118H69[36;9H[85;119H8[35;9H[85;119H7[34;9H[33;9H[46m{[46;9H}[m[85;119H6[33;9H{[46;9H}[85;119H5[32;9H[18;9H[46m{[31;9H}[m[85;119H4[31;9H[18;9H{[31;9H}[85;119H3[30;9H[85;119H2[29;9H[85;119H1[28;9H[85;119H0[27;9H[85;118H59[26;9H[85;119H8[25;9H[85;119H7[24;9H[85;119H6[23;9H[85;119H5[22;9H[85;119H4[21;9H[85;119H3[20;9H[85;119H2[19;9H[18;9H[46m{[31;9H}[m[85;119H1[18;9H{[31;9H}[85;119H0[17;9H[3;9H[46m{[16;9H}[m[85;118H49[16;9H[3;9H{[16;9H}[85;119H8[15;9H[85;119H7[14;9H[85;119H6[13;9H[85;119H5[12;9H[85;119H4[11;9H[85;119H3[10;9H[85;119H2[9;9H[85;119H1[8;9H[85;119H0[7;9H[85;118H39[6;9H[85;119H8[5;9H[85;119H7[4;9H[3;9H[46m{[16;9H}[m[85;119H6[3;9H{[16;9H}[85;119H5[2;9H[85;119H4[1;9H[1;84r[1;1H[L[1;85r[1;4H [46m{[49;5H}[m[85;1H[K[85;118H33,5[11C8%[1;5H[1;84r[1;1H[L[1;85r[1;4H [33mwhile[m( c[i] != [35m'\0'[m)
    {[50;5H}[85;118H[K[85;118H32,9[11C7%[1;9H[1;84r[1;1H[L[1;85r[1;4H [32mint[m i=[31m0[m;[85;118H[K[85;118H31,9[11C7%[1;9H[1;84r[1;1H[L[1;85r[1;1H[46m{[53;1H}[m[85;118H[K[85;118H30,1[11C7%[1;1H[1;84r[1;1H[L[1;85r[1;1H[32mvoid[m check_dup([32mchar[m **c)
{[54;1H}[85;118H[K[85;118H29,9[11C7%[1;9H[1;84r[1;1H[L[1;85r[85;118H[K[85;118H28,0-1[9C6%[1;1H[1;84r[1;1H[L[1;85r[1;1H}[85;118H[K[85;118H27,1[11C6%[1;1H[1;84r[1;1H[L[1;85r[1;4H [33mreturn[m [31mfalse[m;[85;118H[K[85;118H26,9[11C6%[1;9H[1;84r[1;1H[L[1;85r[1;4H }[85;118H[K[85;118H25,5[11C6%[1;5H[1;84r[1;1H[L[1;85r[1;8H i++;[85;118H[K[85;118H24,9[11C5%[1;9H[1;84r[1;1H[L[1;85r[1;8H }[85;118H[K[85;118H23,9[11C5%[1;9H[1;84r[1;1H[L[1;85r[1;12H [33mreturn[m [31mtrue[m;[85;118H[K[85;118H22,9[11C5%[1;9H[1;84r[1;1H[L[1;85r[1;8H [46m{[3;9H}[m[85;118H[K[85;118H21,9[11C5%[1;9H[1;84r[1;1H[L[1;85r[1;8H [33mif[m( strcmp(c[i], [31m"|"[m) == [31m0[m)[2;9H{[4;9H}[85;118H[K[85;118H20,9[11C4%[1;9H[1;84r[1;1H[L[1;85r[1;4H [46m{[7;5H}[m[85;118H[K[85;118H19,5[11C4%[1;5H[1;84r[1;1H[L[1;85r[1;4H [33mwhile[m (c[i] != [35m'\0'[m)
    {[8;5H}[85;118H[K[85;118H18,9[11C4%[1;9H[1;84r[1;1H[L[1;85r[1;4H [32mint[m i=[31m0[m;[85;118H[K[85;118H17,9[11C4%[1;9H[1;84r[1;1H[L[1;85r[1;1H[46m{[12;1H}[m[85;118H[K[85;118H16,1[11C3%[1;1H[1;84r[1;1H[L[1;85r[1;1H[32mbool[m pipes([32mchar[m **c)
{[13;1H}[85;118H[K[85;118H15,9[11C3%[1;9H[1;84r[1;1H[L[1;85r[1;1H[33musing[m [32mnamespace[m std;[85;118H[K[85;118H14,9[11C3%[1;9H[1;84r[1;1H[L[1;85r[85;118H[K[85;118H13,0-1[9C3%[1;1H[1;84r[1;1H[L[1;85r[85;118H[K[85;118H12,0-1[9C2%[1;1H[1;84r[1;1H[L[1;85r[1;1H[35m#include [m[31m<sys/wait.h>[m[85;118H[K[85;118H11,9[11C2%[1;9H[1;84r[1;1H[L[1;85r[1;1H[35m#include [m[31m<sys/types.h>[m[85;118H[K[85;118H10,9[11C2%[1;9H[1;84r[1;1H[L[1;85r[1;1H[35m#include [m[31m<sstream>[m[85;118H[K[85;118H9,9[12C2%[1;9H[1;84r[1;1H[L[1;85r[1;1H[35m#include [m[31m<vector>[m[85;118H[K[85;118H8,9[12C1%[1;9H[1;84r[1;1H[L[1;85r[1;1H[35m#include [m[31m<cstdlib>[m[85;118H[K[85;118H7,9[12C1%[1;9H[1;84r[1;1H[L[1;85r[1;1H[35m#include [m[31m<unistd.h>[m[85;118H[K[85;118H6,9[12C1%[1;9H[1;84r[1;1H[L[1;85r[1;1H[35m#include [m[31m<errno.h>[m[85;118H[K[85;118H5,9[12C1%[1;9H[1;84r[1;1H[L[1;85r[1;1H[35m#include [m[31m<stdio.h>[m[85;118H[K[85;118H4,9[12C0%[1;9H[1;84r[1;1H[L[1;85r[1;1H[35m#include [m[31m<string.h>[m[85;118H[K[85;118H3,9[12C0%[1;9H[1;84r[1;1H[L[1;85r[1;1H[35m#include [m[31m<iostream>[m[85;118H[K[85;118H2,9[12C0%[1;9H[1;84r[1;1H[L[1;85r[1;1H[35m#include [m[31m<fcntl.h>[m[85;118H[K[85;118H1,9[11CTop[1;9H[85;118H2[2;9H[85;118H3[3;9H[85;118H4[4;9H[85;118H5[5;9H[85;118H6[6;9H[85;118H7[7;9H[85;118H8[8;9H[85;118H9[9;9H[85;118H10,9[10;9H[85;119H1[11;9H[85;119H2,0-1[12;1H[85;119H3[13;1H[85;119H4,9  [14;9H[85;119H5[15;9H
[46m{[27;1H}[m[85;119H6,1[16;1H{[27;1H}[85;119H7,9[17;9H[85;119H8[18;9H
    [46m{[25;5H}[m[85;119H9,5[19;5H{[25;5H}[85;118H20,9[20;9H[21;9H[46m{[23;9H}[m[85;119H1[21;9H{[23;9H}[85;119H2[22;9H[21;9H[46m{[23;9H}[m[85;119H3[23;9H[21;9H{[23;9H}[85;119H4[24;9H[19;5H[46m{[25;5H}[m[85;119H5,5[25;5H[19;5H{[25;5H}[85;119H6,9[26;9H[16;1H[46m{[27;1H}[m[85;119H7,1[27;1H[16;1H{[27;1H}[85;119H8,0-1[28;1H[85;119H9,9  [29;9H
[46m{[82;1H}[m[85;118H30,1[30;1H{[82;1H}[85;119H1,9[31;9H[85;119H2[32;9H
    [46m{[81;5H}[m[85;119H3,5[33;5H{[81;5H}[85;119H4,9[34;9H[85;119H5[35;9H[36;9H[46m{[49;9H}[m[85;119H6[36;9H{[49;9H}[85;119H7[37;9H[85;119H8[38;9H[85;119H9[39;9H[85;118H40[40;9H[85;119H1[41;9H[85;119H2[42;9H[85;119H3[43;9H[85;119H4[44;9H[85;119H5[45;9H[85;119H6[46;9H[85;119H7[47;9H[85;119H8[48;9H[36;9H[46m{[49;9H}[m[85;119H9[49;9H[36;9H{[49;9H}[85;118H50[50;9H[51;9H[46m{[64;9H}[m[85;119H1[51;9H{[64;9H}[85;119H2[52;9H[85;119H3[53;9H[85;119H4[54;9H[85;119H5[55;9H[85;119H6[56;9H[85;119H7[57;9H[85;119H8[58;9H[85;119H9[59;9H[85;118H60[60;9H[85;119H1[61;9H[85;119H2[62;9H[85;119H3[63;9H[51;9H[46m{[64;9H}[m[85;119H4[64;9H[51;9H{[64;9H}[85;119H5[65;9H[66;9H[46m{[79;9H}[m[85;119H6[66;9H{[79;9H}[85;119H7[67;9H[85;119H8[68;9H[85;119H9[69;9H[85;118H70[70;9H[85;119H1[71;9H[85;119H2[72;9H[85;119H3[73;9H[85;119H4[74;9H[85;119H5[75;9H[85;119H6[76;9H[85;119H7[77;9H[85;119H8[78;9H[66;9H[46m{[79;9H}[m[85;119H9[79;9H[66;9H{[79;9H}[85;118H80[80;9H[33;5H[46m{[81;5H}[m[85;119H1,5[81;5H[30;1H[46m{[m[33;5H{[81;5H}
[46m}[m[85;119H2,1[82;1H[30;1H{[82;1H}[85;119H3,0-1[83;1H[85;119H4,9  [84;9H[1;84r[84;1H
[1;85r[84;1H{[85;118H[K[85;118H85,1[11C0%[84;1H[1;84r[84;1H
[1;85r[84;4H [32mint[m status = [31m0[m;[85;118H[K[85;118H86,9[11C0%[84;9H[1;84r[84;1H
[1;85r[84;4H [32mint[m num_pipes = [31m0[m;[85;118H[K[85;118H87,9[11C0%[84;9H[1;84r[84;1H
[1;85r[84;4H [32mint[m pipe_index = [31m0[m;[85;118H[K[85;118H88,9[11C1%[84;9H[1;84r[84;1H
[1;85r[84;4H [32mint[m i=[31m0[m;[85;118H[K[85;118H89,9[11C1%[84;9H[1;84r[84;1H
[1;85r[84;4H [33mwhile[m( c[i] != [35m'\0'[m)[85;118H[K[85;118H90,9[11C1%[84;9H[1;84r[84;1H
[1;85r[84;4H {[85;118H[K[85;118H91,5[11C1%[84;5H[1;84r[84;1H
[1;85r[84;8H [33mif[m( strcmp(c[i], [31m"|"[m) == [31m0[m)[85;118H[K[85;118H92,9[11C2%[84;9H[1;84r[84;1H
[1;85r[84;8H {[85;118H[K[85;118H93,9[11C2%[84;9H[1;84r[84;1H
[1;85r[84;12H num_pipes++;[85;118H[K[85;118H94,9[11C2%[84;9H[1;84r[84;1H
[1;85r[84;12H pipe_index = i;[85;118H[K[85;118H95,9[11C2%[84;9H[1;84r[84;1H
[1;85r[84;12H [33mbreak[m;[85;118H[K[85;118H96,9[11C3%[84;9H[1;84r[84;1H
[1;85r[80;9H[46m{[m[84;8H [46m}[m[85;118H[K[85;118H97,9[11C3%[84;9H[1;84r[84;1H
[1;85r[79;9H{[83;9H}[84;8H i++;[85;118H[K[85;118H98,9[11C3%[84;9H[1;84r[84;1H
[1;85r[76;5H[46m{[m[84;4H [46m}[m[85;118H[K[85;118H99,5[11C3%[84;5H[1;84r[84;1H
[1;85r[75;5H{[83;5H}
    [32mchar[m **a = [33mnew[m [32mchar[m*[[31m100[m];[85;118H[K[85;118H100,9[10C4%[84;9H[1;84r[84;1H
[1;85r[84;4H [32mchar[m **b = [33mnew[m [32mchar[m*[[31m100[m];[85;118H[K[85;118H101,9[10C4%[84;9H[1;84r[84;1H
[1;85r[84;4H [33mif[m(pipe_index > [31m0[m)[85;118H[K[85;118H102,9[10C4%[84;9H[1;84r[84;1H
[1;85r[84;4H {[85;118H[K[85;118H103,5[10C4%[84;5H[1;84r[84;1H
[1;85r[84;8H [32mint[m j = [31m0[m;[85;118H[K[85;118H104,9[10C5%[84;9H[1;84r[84;1H
[1;85r[84;8H [33mwhile[m( j < pipe_index)[85;118H[K[85;118H105,9[10C5%[84;9H[1;84r[84;1H
[1;85r[84;8H {[85;118H[K[85;118H106,9[10C5%[84;9H[1;84r[84;1H
[1;85r[84;12H a[j] = c[j];[85;118H[K[85;118H107,9[10C5%[84;9H[1;84r[84;1H
[1;85r[84;12H j++;[85;118H[K[85;118H108,9[10C6%[84;9H[1;84r[84;1H
[1;85r[81;9H[46m{[m[84;8H [46m}[m[85;118H[K[85;118H109,9[10C6%[84;9H[1;84r[84;1H
[1;85r[80;9H{[83;9H}[84;8H a[j] = [35m'\0'[m;[85;118H[K[85;118H110,9[10C6%[84;9H[1;84r[84;1H
[1;85r[84;8H [32mint[m k = pipe_index+[31m1[m;[85;118H[K[85;118H111,9[10C6%[84;9H[1;84r[84;1H
[1;85r[84;8H [32mint[m l = [31m0[m;[85;118H[K[85;118H112,9[10C7%[84;9H[1;84r[84;1H
[1;85r[84;8H [33mwhile[m( c[k] != [35m'\0'[m)[85;118H[K[85;118H113,9[10C7%[84;9H[1;84r[84;1H
[1;85r[84;8H {[85;118H[K[85;118H114,9[10C7%[84;9H[1;84r[84;1H
[1;85r[84;12H b[l] = c[k];[85;118H[K[85;118H115,9[10C7%[84;9H[1;84r[84;1H
[1;85r[84;12H l++; k++;[85;118H[K[85;118H116,9[10C8%[84;9H[1;84r[84;1H
[1;85r[81;9H[46m{[m[84;8H [46m}[m[85;118H[K[85;118H117,9[10C8%[84;9H[1;84r[84;1H
[1;85r[80;9H{[83;9H}[84;8H b[l] = [35m'\0'[m;[85;118H[K[85;118H118,9[10C8%[84;9H[1;84r[84;1H
[1;85r[85;118H[K[85;118H119,0-1[8C8%[84;1H[1;84r[84;1H
[1;85r[84;8H [34m//now i will execute the commands with piping[m[85;118H[K[85;118H120,9[10C9%[84;9H[1;84r[84;1H
[1;85r[84;8H [32mint[m fd[[31m2[m];[85;118H[K[85;118H121,9[10C9%[84;9H[1;84r[84;1H
[1;85r[84;8H [33mif[m(pipe(fd) == -[31m1[m )[85;118H[K[85;118H122,9[10C9%[84;9H[1;84r[84;1H
[1;85r[84;8H {[85;118H[K[85;118H123,9[10C9%[84;9H[1;84r[84;1H
[1;85r[84;12H perror([31m"pipe fail"[m);[85;118H[K[85;118H124,9[9C10%[84;9H[1;84r[84;1H
[1;85r[84;12H exit([31m1[m);[85;118H[K[85;118H125,9[9C10%[84;9H[1;84r[84;1H
[1;85r[81;9H[46m{[m[84;8H [46m}[m[85;118H[K[85;118H126,9[9C10%[84;9H[1;84r[84;1H
[1;85r[80;9H{[83;9H}[84;8H [32mint[m pid = fork();[85;118H[K[85;118H127,9[9C10%[84;9H[1;84r[84;1H
[1;85r[84;8H [33mif[m( pid  == -[31m1[m)[85;118H[K[85;118H128,9[9C11%[84;9H[1;84r[84;1H
[1;85r[84;8H {[85;118H[K[85;118H129,9[9C11%[84;9H[1;84r[84;1H
[1;85r[84;12H perror([31m"fork fail"[m);[85;118H[K[85;118H130,9[9C11%[84;9H[1;84r[84;1H
[1;85r[84;12H exit([31m1[m);[85;118H[K[85;118H131,9[9C11%[84;9H[1;84r[84;1H
[1;85r[81;9H[46m{[m[84;8H [46m}[m[85;118H[K[85;118H132,9[9C12%[84;9H[1;84r[84;1H
[1;85r[80;9H{[83;9H}[84;8H [33melse[m [33mif[m(pid == [31m0[m)[85;118H[K[85;118H133,9[9C12%[84;9H[1;84r[84;1H
[1;85r[84;8H {[85;118H[K[85;118H134,9[9C12%[84;9H[1;84r[84;1H
[1;85r[84;12H [33mif[m( dup2(fd[[31m1[m], [31m1[m) == -[31m1[m)[85;118H[K[85;118H135,9[9C12%[84;9H[1;84r[84;1H
[1;85r[84;12H {[85;118H[K[85;118H136,9[9C13%[84;9H[1;84r[84;1H
[1;85r[84;16H perror([31m"error with dup2"[m);[85;118H[K[85;118H137,9[9C13%[84;9H[1;84r[84;1H
[1;85r[84;16H exit([31m1[m);[85;118H[K[85;118H138,9[9C13%[84;9H[1;84r[84;1H
[1;85r[84;12H }[85;118H[K[85;118H139,9[9C13%[84;9H[1;84r[84;1H
[1;85r[84;12H [33mif[m( close(fd[[31m0[m]) == -[31m1[m)[85;118H[K[85;118H140,9[9C14%[84;9H[1;84r[84;1H
[1;85r[84;12H {[85;118H[K[85;118H141,9[9C14%[84;9H[1;84r[84;1H
[1;85r[84;16H perror([31m"error with close"[m);[85;118H[K[85;118H142,9[9C14%[84;9H[1;84r[84;1H
[1;85r[84;16H exit([31m1[m);[85;118H[K[85;118H143,9[9C14%[84;9H[1;84r[84;1H
[1;85r[84;12H }[85;118H[K[85;118H144,9[9C15%[84;9H[1;84r[84;1H
[1;85r[84;12H check_dup(a);[85;118H[K[85;118H145,9[9C15%[84;9H[1;84r[84;1H
[1;85r[84;12H [33mif[m( execvp( a[[31m0[m], a) == -[31m1[m)[85;118H[K[85;118H146,9[9C15%[84;9H[1;84r[84;1H
[1;85r[84;12H {[85;118H[K[85;118H147,9[9C15%[84;9H[1;84r[84;1H
[1;85r[84;16H perror([31m"error in execvp"[m);[85;118H[K[85;118H148,9[9C16%[84;9H[1;84r[84;1H
[1;85r[84;16H exit([31m1[m);[85;118H[K[85;118H149,9[9C16%[84;9H[1;84r[84;1H
[1;85r[84;12H }[85;118H[K[85;118H150,9[9C16%[84;9H[1;84r[84;1H
[1;85r[84;12H exit([31m1[m);[85;118H[K[85;118H151,9[9C16%[84;9H[1;84r[84;1H
[1;85r[66;9H[46m{[m[84;8H [46m}[m[85;118H[K[85;118H152,9[9C17%[84;9H[1;84r[84;1H
[1;85r[65;9H{[83;9H}[85;118H[K[85;118H153,8[9C17%[84;8H[1;84r[84;1H
[1;85r[84;8H [32mint[m savestdin;[85;118H[K[85;118H154,9[9C17%[84;9H[1;84r[84;1H
[1;85r[84;8H savestdin = dup([31m0[m);[85;118H[K[85;118H155,9[9C17%[84;9H[1;84r[84;1H
[1;85r[84;8H [33mif[m( savestdin == -[31m1[m)[85;118H[K[85;118H156,9[9C18%[84;9H[1;84r[84;1H
[1;85r[84;8H {[85;118H[K[85;118H157,9[9C18%[84;9H[1;84r[84;1H
[1;85r[84;12H perror([31m"error with dup"[m);[85;118H[K[85;118H158,9[9C18%[84;9H[1;84r[84;1H
[1;85r[84;12H exit([31m1[m);[85;118H[K[85;118H159,9[9C18%[84;9H[1;84r[84;1H
[1;85r[81;9H[46m{[m[84;8H [46m}[m[85;118H[K[85;118H160,9[9C19%[84;9H[1;84r[84;1H
[1;85r[80;9H{[83;9H}[84;8H [33mif[m( dup2(fd[[31m0[m],[31m0[m) == -[31m1[m)[85;118H[K[85;118H161,9[9C19%[84;9H[1;84r[84;1H
[1;85r[84;8H {[85;118H[K[85;118H162,9[9C19%[84;9H[1;84r[84;1H
[1;85r[84;12H perror([31m"error with dup2"[m);[85;118H[K[85;118H163,9[9C19%[84;9H[1;84r[84;1H
[1;85r[84;12H exit([31m1[m);[85;118H[K[85;118H164,9[9C20%[84;9H[1;84r[84;1H
[1;85r[81;9H[46m{[m[84;8H [46m}[m[85;118H[K[85;118H165,9[9C20%[84;9H[1;84r[84;1H
[1;85r[80;9H{[83;9H}[84;8H [33mif[m( close(fd[[31m1[m]) == -[31m1[m)[85;118H[K[85;118H166,9[9C20%[84;9H[1;84r[84;1H
[1;85r[84;8H {[85;118H[K[85;118H167,9[9C20%[84;9H[1;84r[84;1H
[1;85r[84;12H perror([31m"error with close"[m);[85;118H[K[85;118H168,9[9C21%[84;9H[1;84r[84;1H
[1;85r[84;12H exit([31m1[m);[85;118H[K[85;118H169,9[9C21%[84;9H[1;84r[84;1H
[1;85r[81;9H[46m{[m[84;8H [46m}[m[85;118H[K[85;118H170,9[9C21%[84;9H[81;9H{[84;9H}[85;119H69[83;9H[85;120H8[82;9H[81;9H[46m{[84;9H}[m[85;120H7[81;9H{[84;9H}[85;120H6[80;9H[76;9H[46m{[79;9H}[m[85;120H5[79;9H[76;9H{[79;9H}[85;120H4[78;9H[85;120H3[77;9H[76;9H[46m{[79;9H}[m[85;120H2[76;9H{[79;9H}[85;120H1[75;9H[71;9H[46m{[74;9H}[m[85;120H0[74;9H[71;9H{[74;9H}[85;119H59[73;9H[85;120H8[72;9H[71;9H[46m{[74;9H}[m[85;120H7[71;9H{[74;9H}[85;120H6[70;9H[85;120H5[69;9H[85;120H4[68;9H[85;120H3,8[67;8H[48;9H[46m{[66;9H}[m[85;120H2,9[66;9H[48;9H{[66;9H}[85;120H1[65;9H[85;120H0[64;9H[85;119H49[63;9H[85;120H8[62;9H[85;120H7[61;9H[85;120H6[60;9H[85;120H5[59;9H[85;122H10[59;10H[85;123H1[59;11H[85;123H2[59;12H[85;123H3[59;13H[85;1H[1m-- INSERT --[m[85;118H[K[85;118H145,13[8C21%[59;13H /check_dup(a);[85;123H4[59;14H[34m//check_dup(a);[m[85;123H5[59;15H[85;1H[K[59;14H[85;118H145,14[8C21%[59;14H[85;118H[K[85;1H:wq"src/rshell.cpp" 483L, 10997C written
[?1l>[2J[?47l8[s%%%%%%%%%%[u[0;32mmonti004[0;36m@[0;32mcs100[0;36m:[0;32m~/rshell[0;95m ((hw2)) [0;36m$[0m make
g++ -Wall -Werror -ansi -pedantic -o   bin/rshell src/rshell.cpp
g++ -Wall -Werror -ansi -pedantic -o bin/ls src/ls.cpp
[s%%%%%%%%%%[u[0;32mmonti004[0;36m@[0;32mcs100[0;36m:[0;32m~/rshell[0;95m ((hw2)) [0;36m$[0m makevim src/rshell.cppalgrind bin/rshell
==25761== Memcheck, a memory error detector
==25761== Copyright (C) 2002-2012, and GNU GPL'd, by Julian Seward et al.
==25761== Using Valgrind-3.8.1 and LibVEX; rerun with -h for copyright info
==25761== Command: bin/rshell
==25761== 
$ cat< MAkefile            Makefile | tr az A   -z A-Z o   > output.txt
cat: <: No such file or directory
==25761== Conditional jump or move depends on uninitialised value(s)
==25761==    at 0x4021D6: run_exec(char*, int) (in /class/classes/monti004/rshell/bin/rshell)
==25761==    by 0x40254D: main (in /class/classes/monti004/rshell/bin/rshell)
==25761== 
$ exit
==25761== 
==25761== HEAP SUMMARY:
==25761==     in use at exit: 29 bytes in 1 blocks
==25761==   total heap usage: 29 allocs, 28 frees, 4,946 bytes allocated
==25761== 
==25761== LEAK SUMMARY:
==25761==    definitely lost: 0 bytes in 0 blocks
==25761==    indirectly lost: 0 bytes in 0 blocks
==25761==      possibly lost: 29 bytes in 1 blocks
==25761==    still reachable: 0 bytes in 0 blocks
==25761==         suppressed: 0 bytes in 0 blocks
==25761== Rerun with --leak-check=full to see details of leaked memory
==25761== 
==25761== For counts of detected and suppressed errors, rerun with: -v
==25761== Use --track-origins=yes to see where uninitialised values come from
==25761== ERROR SUMMARY: 71 errors from 1 contexts (suppressed: 6 from 6)
[s%%%%%%%%%%[u[0;32mmonti004[0;36m@[0;32mcs100[0;36m:[0;32m~/rshell[0;95m ((hw2)) [0;36m$[0m valgrind bin/rshell
==25794== Memcheck, a memory error detector
==25794== Copyright (C) 2002-2012, and GNU GPL'd, by Julian Seward et al.
==25794== Using Valgrind-3.8.1 and LibVEX; rerun with -h for copyright info
==25794== Command: bin/rshell
==25794== 
$ exit
==25794== 
==25794== HEAP SUMMARY:
==25794==     in use at exit: 29 bytes in 1 blocks
==25794==   total heap usage: 3 allocs, 2 frees, 82 bytes allocated
==25794== 
==25794== LEAK SUMMARY:
==25794==    definitely lost: 0 bytes in 0 blocks
==25794==    indirectly lost: 0 bytes in 0 blocks
==25794==      possibly lost: 29 bytes in 1 blocks
==25794==    still reachable: 0 bytes in 0 blocks
==25794==         suppressed: 0 bytes in 0 blocks
==25794== Rerun with --leak-check=full to see details of leaked memory
==25794== 
==25794== For counts of detected and suppressed errors, rerun with: -v
==25794== ERROR SUMMARY: 0 errors from 0 contexts (suppressed: 6 from 6)
[s%%%%%%%%%%[u[0;32mmonti004[0;36m@[0;32mcs100[0;36m:[0;32m~/rshell[0;95m ((hw2)) [0;36m$[0m vim[K[K[Kvalgrind bin/rshellmake[Kvim src/rshell.cpp[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[Kvalgrind bin/rshellmake[Kvalgrind bin/rshell
==25805== Memcheck, a memory error detector
==25805== Copyright (C) 2002-2012, and GNU GPL'd, by Julian Seward et al.
==25805== Using Valgrind-3.8.1 and LibVEX; rerun with -h for copyright info
==25805== Command: bin/rshell
==25805== 
$ cat<Makefile
CC = g++
FLAGS = -Wall -Werror -ansi -pedantic

all:|bin 
	$(CC) $(FLAGS) -o   bin/rshell src/rshell.cpp
	$(CC) $(FLAGS) -o bin/ls src/ls.cpp


rshell: |bin
	$(CC) -o bin/rshell src/rshell.cpp
ls: |bin
	$(CC) -o bin/ls src/ls.cpp

bin: 
	mkdir bin

clean: 
	rm -rf bin


==25805== Conditional jump or move depends on uninitialised value(s)
==25805==    at 0x4021D6: run_exec(char*, int) (in /class/classes/monti004/rshell/bin/rshell)
==25805==    by 0x40254D: main (in /class/classes/monti004/rshell/bin/rshell)
==25805== 
$ exit
==25805== 
==25805== HEAP SUMMARY:
==25805==     in use at exit: 29 bytes in 1 blocks
==25805==   total heap usage: 17 allocs, 16 frees, 666 bytes allocated
==25805== 
==25805== LEAK SUMMARY:
==25805==    definitely lost: 0 bytes in 0 blocks
==25805==    indirectly lost: 0 bytes in 0 blocks
==25805==      possibly lost: 29 bytes in 1 blocks
==25805==    still reachable: 0 bytes in 0 blocks
==25805==         suppressed: 0 bytes in 0 blocks
==25805== Rerun with --leak-check=full to see details of leaked memory
==25805== 
==25805== For counts of detected and suppressed errors, rerun with: -v
==25805== Use --track-origins=yes to see where uninitialised values come from
==25805== ERROR SUMMARY: 16 errors from 1 contexts (suppressed: 6 from 6)
[s%%%%%%%%%%[u[0;32mmonti004[0;36m@[0;32mcs100[0;36m:[0;32m~/rshell[0;95m ((hw2)) [0;36m$[0m valgrind bin/rshellmake[K[Kvalgrind bin/rshellmake[Kvim src/rshell.cpp
7[?47h[?1h=[1;85r[m[H[2J[85;1H"src/rshell.cpp" 483L, 10997C[>c[1;8H [32mint[m j = [31m0[m;[2;8H [33mwhile[m( j < pipe_index)[3;8H {[4;12H a[j] = c[j];[5;12H j++;[6;8H }[7;8H a[j] = [35m'\0'[m;[8;8H [32mint[m k = pipe_index+[31m1[m;[9;8H [32mint[m l = [31m0[m;[10;8H [33mwhile[m( c[k] != [35m'\0'[m)[11;8H {[12;12H b[l] = c[k];[13;12H l++; k++;[14;8H }[15;8H b[l] = [35m'\0'[m;[17;8H [34m//now i will execute the commands with piping[m[18;8H [32mint[m fd[[31m2[m];[19;8H [33mif[m(pipe(fd) == -[31m1[m )[20;8H {[21;12H perror([31m"pipe fail"[m);[22;12H exit([31m1[m);[23;8H }[24;8H [32mint[m pid = fork();[25;8H [33mif[m( pid  == -[31m1[m)[26;8H {[27;12H perror([31m"fork fail"[m);[28;12H exit([31m1[m);[29;8H }[30;8H [33melse[m [33mif[m(pid == [31m0[m)[31;8H {[32;12H [33mif[m( dup2(fd[[31m1[m], [31m1[m) == -[31m1[m)[33;12H {[34;16H perror([31m"error with dup2"[m);[35;16H exit([31m1[m);[36;12H }[37;12H [33mif[m( close(fd[[31m0[m]) == -[31m1[m)[38;12H {[39;16H perror([31m"error with close"[m);[40;16H exit([31m1[m);[41;12H }[42;12H [34m//check_dup(a);[m[43;12H [33mif[m( execvp( a[[31m0[m], a) == -[31m1[m)[44;12H {[45;16H perror([31m"error in execvp"[m);[46;16H exit([31m1[m);[47;12H }[48;12H exit([31m1[m);[49;8H }[51;8H [32mint[m savestdin;[52;8H savestdin = dup([31m0[m);[53;8H [33mif[m( savestdin == -[31m1[m)[54;8H {[55;12H perror([31m"error with dup"[m);[56;12H exit([31m1[m);[57;8H }[58;8H [33mif[m( dup2(fd[[31m0[m],[31m0[m) == -[31m1[m)[59;8H {[60;12H perror([31m"error with dup2"[m);[61;12H exit([31m1[m);[62;8H }[63;8H [33mif[m( close(fd[[31m1[m]) == -[31m1[m)[64;8H {[65;12H perror([31m"error with close"[m);[66;12H exit([31m1[m);[67;8H }[68;8H [33mif[m (wait(&status) == -[31m1[m)[69;8H {[70;12H perror([31m"error in wait()"[m);[71;12H exit([31m1[m);[72;8H }[74;8H [34m//we need to check that the rest of c does not have any pipes[m[75;8H find_pipes(b);[76;8H dup2(savestdin, [31m0[m);
[34m/*       
        status = 1;
        int pid = fork();
        if(pid == -1)
        {
            perror("fork fail");
            exit(1);
        }[m[85;118H145,13[8C25%[42;13HP+q436f\P+q6b75\P+q6b64\P+q6b72\P+q6b6c\P+q2332\P+q2334\P+q2569\P+q2a37\P+q6b31\[85;120H6[43;13H[44;13H[46m{[47;13H}[m[85;120H7[44;13H{[47;13H}[85;120H8[45;13H[44;13H[46m{[47;13H}[m[85;120H7[44;13H{[47;13H}[85;120H6[43;13H[85;120H5[42;13H[85;123H4[42;14H[85;123H5[42;15H[85;1H[1m-- INSERT --[m[85;13H[K[85;118H145,15[8C25%[42;15H/check_dup(a);[42;27H[K[85;123H4[42;14H check_dup(a);[42;26H[K[85;123H3[42;13H[85;1H[K[42;12H[85;118H145,12[8C25%[42;12H[85;118H[K[85;1H:wq"src/rshell.cpp" 483L, 10995C written
[?1l>[2J[?47l8[s%%%%%%%%%%[u[0;32mmonti004[0;36m@[0;32mcs100[0;36m:[0;32m~/rshell[0;95m ((hw2)) [0;36m$[0m vim src/rshell.cppalgrind bin/rshellmake[K
g++ -Wall -Werror -ansi -pedantic -o   bin/rshell src/rshell.cpp
g++ -Wall -Werror -ansi -pedantic -o bin/ls src/ls.cpp
[s%%%%%%%%%%[u[0;32mmonti004[0;36m@[0;32mcs100[0;36m:[0;32m~/rshell[0;95m ((hw2)) [0;36m$[0m makevim src/rshell.cpp
7[?47h[?1h=[1;85r[m[H[2J[85;1H"src/rshell.cpp" 483L, 10995C[>c[1;8H [32mint[m j = [31m0[m;[2;8H [33mwhile[m( j < pipe_index)[3;8H {[4;12H a[j] = c[j];[5;12H j++;[6;8H }[7;8H a[j] = [35m'\0'[m;[8;8H [32mint[m k = pipe_index+[31m1[m;[9;8H [32mint[m l = [31m0[m;[10;8H [33mwhile[m( c[k] != [35m'\0'[m)[11;8H {[12;12H b[l] = c[k];[13;12H l++; k++;[14;8H }[15;8H b[l] = [35m'\0'[m;[17;8H [34m//now i will execute the commands with piping[m[18;8H [32mint[m fd[[31m2[m];[19;8H [33mif[m(pipe(fd) == -[31m1[m )[20;8H {[21;12H perror([31m"pipe fail"[m);[22;12H exit([31m1[m);[23;8H }[24;8H [32mint[m pid = fork();[25;8H [33mif[m( pid  == -[31m1[m)[26;8H {[27;12H perror([31m"fork fail"[m);[28;12H exit([31m1[m);[29;8H }[30;8H [33melse[m [33mif[m(pid == [31m0[m)[31;8H {[32;12H [33mif[m( dup2(fd[[31m1[m], [31m1[m) == -[31m1[m)[33;12H {[34;16H perror([31m"error with dup2"[m);[35;16H exit([31m1[m);[36;12H }[37;12H [33mif[m( close(fd[[31m0[m]) == -[31m1[m)[38;12H {[39;16H perror([31m"error with close"[m);[40;16H exit([31m1[m);[41;12H }[42;12H check_dup(a);[43;12H [33mif[m( execvp( a[[31m0[m], a) == -[31m1[m)[44;12H {[45;16H perror([31m"error in execvp"[m);[46;16H exit([31m1[m);[47;12H }[48;12H exit([31m1[m);[49;8H }[51;8H [32mint[m savestdin;[52;8H savestdin = dup([31m0[m);[53;8H [33mif[m( savestdin == -[31m1[m)[54;8H {[55;12H perror([31m"error with dup"[m);[56;12H exit([31m1[m);[57;8H }[58;8H [33mif[m( dup2(fd[[31m0[m],[31m0[m) == -[31m1[m)[59;8H {[60;12H perror([31m"error with dup2"[m);[61;12H exit([31m1[m);[62;8H }[63;8H [33mif[m( close(fd[[31m1[m]) == -[31m1[m)[64;8H {[65;12H perror([31m"error with close"[m);[66;12H exit([31m1[m);[67;8H }[68;8H [33mif[m (wait(&status) == -[31m1[m)[69;8H {[70;12H perror([31m"error in wait()"[m);[71;12H exit([31m1[m);[72;8H }[74;8H [34m//we need to check that the rest of c does not have any pipes[m[75;8H find_pipes(b);[76;8H dup2(savestdin, [31m0[m);
[34m/*       
        status = 1;
        int pid = fork();
        if(pid == -1)
        {
            perror("fork fail");
            exit(1);
        }[m[85;118H145,13[8C25%[42;13HP+q436f\P+q6b75\P+q6b64\P+q6b72\P+q6b6c\P+q2332\P+q2334\P+q2569\P+q2a37\P+q6b31\[85;1H[K[85;1H:wq"src/rshell.cpp" 483L, 10995C written
[?1l>[2J[?47l8[s%%%%%%%%%%[u[0;32mmonti004[0;36m@[0;32mcs100[0;36m:[0;32m~/rshell[0;95m ((hw2)) [0;36m$[0m vim src/rshell.cppmake[Kvim src/rshell.cppalgrind bin/rshell
==25917== Memcheck, a memory error detector
==25917== Copyright (C) 2002-2012, and GNU GPL'd, by Julian Seward et al.
==25917== Using Valgrind-3.8.1 and LibVEX; rerun with -h for copyright info
==25917== Command: bin/rshell
==25917== 
$ cat<Makefile
CC = g++
FLAGS = -Wall -Werror -ansi -pedantic

all:|bin 
	$(CC) $(FLAGS) -o   bin/rshell src/rshell.cpp
	$(CC) $(FLAGS) -o bin/ls src/ls.cpp


rshell: |bin
	$(CC) -o bin/rshell src/rshell.cpp
ls: |bin
	$(CC) -o bin/ls src/ls.cpp

bin: 
	mkdir bin

clean: 
	rm -rf bin


==25917== Conditional jump or move depends on uninitialised value(s)
==25917==    at 0x4021E2: run_exec(char*, int) (in /class/classes/monti004/rshell/bin/rshell)
==25917==    by 0x402559: main 